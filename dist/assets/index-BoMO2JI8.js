(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ES(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dm={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function TS(){if(M_)return Yl;M_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=e,Yl.jsx=n,Yl.jsxs=n,Yl}var x_;function wS(){return x_||(x_=1,dm.exports=TS()),dm.exports}var fe=wS(),mm={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function bS(){if(V_)return Fe;V_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,$={};function K(O,te,he){this.props=O,this.context=te,this.refs=$,this.updater=he||I}K.prototype.isReactComponent={},K.prototype.setState=function(O,te){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,te,"setState")},K.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function F(){}F.prototype=K.prototype;function ue(O,te,he){this.props=O,this.context=te,this.refs=$,this.updater=he||I}var ie=ue.prototype=new F;ie.constructor=ue,M(ie,K.prototype),ie.isPureReactComponent=!0;var pe=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function x(O,te,he,oe,Se,qe){return he=qe.ref,{$$typeof:r,type:O,key:te,ref:he!==void 0?he:null,props:qe}}function A(O,te){return x(O.type,te,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var te={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return te[he]})}var L=/\/+/g;function k(O,te){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):te.toString(36)}function D(){}function ze(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(te){O.status==="pending"&&(O.status="fulfilled",O.value=te)},function(te){O.status==="pending"&&(O.status="rejected",O.reason=te)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function He(O,te,he,oe,Se){var qe=typeof O;(qe==="undefined"||qe==="boolean")&&(O=null);var Ie=!1;if(O===null)Ie=!0;else switch(qe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(O.$$typeof){case r:case e:Ie=!0;break;case v:return Ie=O._init,He(Ie(O._payload),te,he,oe,Se)}}if(Ie)return Se=Se(O),Ie=oe===""?"."+k(O,0):oe,pe(Se)?(he="",Ie!=null&&(he=Ie.replace(L,"$&/")+"/"),He(Se,te,he,"",function(Qn){return Qn})):Se!=null&&(R(Se)&&(Se=A(Se,he+(Se.key==null||O&&O.key===Se.key?"":(""+Se.key).replace(L,"$&/")+"/")+Ie)),te.push(Se)),1;Ie=0;var Pt=oe===""?".":oe+":";if(pe(O))for(var gt=0;gt<O.length;gt++)oe=O[gt],qe=Pt+k(oe,gt),Ie+=He(oe,te,he,qe,Se);else if(gt=T(O),typeof gt=="function")for(O=gt.call(O),gt=0;!(oe=O.next()).done;)oe=oe.value,qe=Pt+k(oe,gt++),Ie+=He(oe,te,he,qe,Se);else if(qe==="object"){if(typeof O.then=="function")return He(ze(O),te,he,oe,Se);throw te=String(O),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function X(O,te,he){if(O==null)return O;var oe=[],Se=0;return He(O,oe,"","",function(qe){return te.call(he,qe,Se++)}),oe}function ce(O){if(O._status===-1){var te=O._result;te=te(),te.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=te)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ke(){}return Fe.Children={map:X,forEach:function(O,te,he){X(O,function(){te.apply(this,arguments)},he)},count:function(O){var te=0;return X(O,function(){te++}),te},toArray:function(O){return X(O,function(te){return te})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Fe.Component=K,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=ue,Fe.StrictMode=a,Fe.Suspense=p,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return de.H.useMemoCache(O)}},Fe.cache=function(O){return function(){return O.apply(null,arguments)}},Fe.cloneElement=function(O,te,he){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=M({},O.props),Se=O.key,qe=void 0;if(te!=null)for(Ie in te.ref!==void 0&&(qe=void 0),te.key!==void 0&&(Se=""+te.key),te)!B.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(oe[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)oe.children=he;else if(1<Ie){for(var Pt=Array(Ie),gt=0;gt<Ie;gt++)Pt[gt]=arguments[gt+2];oe.children=Pt}return x(O.type,Se,void 0,void 0,qe,oe)},Fe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Fe.createElement=function(O,te,he){var oe,Se={},qe=null;if(te!=null)for(oe in te.key!==void 0&&(qe=""+te.key),te)B.call(te,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Se[oe]=te[oe]);var Ie=arguments.length-2;if(Ie===1)Se.children=he;else if(1<Ie){for(var Pt=Array(Ie),gt=0;gt<Ie;gt++)Pt[gt]=arguments[gt+2];Se.children=Pt}if(O&&O.defaultProps)for(oe in Ie=O.defaultProps,Ie)Se[oe]===void 0&&(Se[oe]=Ie[oe]);return x(O,qe,void 0,void 0,null,Se)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(O){return{$$typeof:m,render:O}},Fe.isValidElement=R,Fe.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ce}},Fe.memo=function(O,te){return{$$typeof:g,type:O,compare:te===void 0?null:te}},Fe.startTransition=function(O){var te=de.T,he={};de.T=he;try{var oe=O(),Se=de.S;Se!==null&&Se(he,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ke,ge)}catch(qe){ge(qe)}finally{de.T=te}},Fe.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Fe.use=function(O){return de.H.use(O)},Fe.useActionState=function(O,te,he){return de.H.useActionState(O,te,he)},Fe.useCallback=function(O,te){return de.H.useCallback(O,te)},Fe.useContext=function(O){return de.H.useContext(O)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(O,te){return de.H.useDeferredValue(O,te)},Fe.useEffect=function(O,te,he){var oe=de.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(O,te)},Fe.useId=function(){return de.H.useId()},Fe.useImperativeHandle=function(O,te,he){return de.H.useImperativeHandle(O,te,he)},Fe.useInsertionEffect=function(O,te){return de.H.useInsertionEffect(O,te)},Fe.useLayoutEffect=function(O,te){return de.H.useLayoutEffect(O,te)},Fe.useMemo=function(O,te){return de.H.useMemo(O,te)},Fe.useOptimistic=function(O,te){return de.H.useOptimistic(O,te)},Fe.useReducer=function(O,te,he){return de.H.useReducer(O,te,he)},Fe.useRef=function(O){return de.H.useRef(O)},Fe.useState=function(O){return de.H.useState(O)},Fe.useSyncExternalStore=function(O,te,he){return de.H.useSyncExternalStore(O,te,he)},Fe.useTransition=function(){return de.H.useTransition()},Fe.version="19.1.0",Fe}var P_;function fp(){return P_||(P_=1,mm.exports=bS()),mm.exports}var Q=fp();const ys=ES(Q);var pm={exports:{}},Ql={},gm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function SS(){return L_||(L_=1,function(r){function e(X,ce){var ge=X.length;X.push(ce);e:for(;0<ge;){var ke=ge-1>>>1,O=X[ke];if(0<o(O,ce))X[ke]=ce,X[ge]=O,ge=ke;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ce=X[0],ge=X.pop();if(ge!==ce){X[0]=ge;e:for(var ke=0,O=X.length,te=O>>>1;ke<te;){var he=2*(ke+1)-1,oe=X[he],Se=he+1,qe=X[Se];if(0>o(oe,ge))Se<O&&0>o(qe,oe)?(X[ke]=qe,X[Se]=ge,ke=Se):(X[ke]=oe,X[he]=ge,ke=he);else if(Se<O&&0>o(qe,ge))X[ke]=qe,X[Se]=ge,ke=Se;else break e}}return ce}function o(X,ce){var ge=X.sortIndex-ce.sortIndex;return ge!==0?ge:X.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,w=null,T=3,I=!1,M=!1,$=!1,K=!1,F=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function pe(X){for(var ce=n(g);ce!==null;){if(ce.callback===null)a(g);else if(ce.startTime<=X)a(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(g)}}function de(X){if($=!1,pe(X),!M)if(n(p)!==null)M=!0,B||(B=!0,k());else{var ce=n(g);ce!==null&&He(de,ce.startTime-X)}}var B=!1,x=-1,A=5,R=-1;function V(){return K?!0:!(r.unstable_now()-R<A)}function L(){if(K=!1,B){var X=r.unstable_now();R=X;var ce=!0;try{e:{M=!1,$&&($=!1,ue(x),x=-1),I=!0;var ge=T;try{t:{for(pe(X),w=n(p);w!==null&&!(w.expirationTime>X&&V());){var ke=w.callback;if(typeof ke=="function"){w.callback=null,T=w.priorityLevel;var O=ke(w.expirationTime<=X);if(X=r.unstable_now(),typeof O=="function"){w.callback=O,pe(X),ce=!0;break t}w===n(p)&&a(p),pe(X)}else a(p);w=n(p)}if(w!==null)ce=!0;else{var te=n(g);te!==null&&He(de,te.startTime-X),ce=!1}}break e}finally{w=null,T=ge,I=!1}ce=void 0}}finally{ce?k():B=!1}}}var k;if(typeof ie=="function")k=function(){ie(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ze=D.port2;D.port1.onmessage=L,k=function(){ze.postMessage(null)}}else k=function(){F(L,0)};function He(X,ce){x=F(function(){X(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(X){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var ge=T;T=ce;try{return X()}finally{T=ge}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=T;T=X;try{return ce()}finally{T=ge}},r.unstable_scheduleCallback=function(X,ce,ge){var ke=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ke+ge:ke):ge=ke,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,X={id:v++,callback:ce,priorityLevel:X,startTime:ge,expirationTime:O,sortIndex:-1},ge>ke?(X.sortIndex=ge,e(g,X),n(p)===null&&X===n(g)&&($?(ue(x),x=-1):$=!0,He(de,ge-ke))):(X.sortIndex=O,e(p,X),M||I||(M=!0,B||(B=!0,k()))),X},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(X){var ce=T;return function(){var ge=T;T=ce;try{return X.apply(this,arguments)}finally{T=ge}}}}(ym)),ym}var k_;function AS(){return k_||(k_=1,gm.exports=SS()),gm.exports}var vm={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function RS(){if(U_)return gn;U_=1;var r=fp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,gn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},gn.flushSync=function(p){var g=h.T,v=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=v,a.d.f()}},gn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},gn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},gn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,w=m(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:I}):v==="script"&&a.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},gn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,w=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},gn.requestFormReset=function(p){a.d.r(p)},gn.unstable_batchedUpdates=function(p,g){return p(g)},gn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},gn.useFormStatus=function(){return h.H.useHostTransitionStatus()},gn.version="19.1.0",gn}var z_;function IS(){if(z_)return vm.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=RS(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function CS(){if(B_)return Ql;B_=1;var r=AS(),e=fp(),n=IS();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===s){E=!0,s=f,l=d;break}if(b===l){E=!0,l=f,s=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===s){E=!0,s=d,l=f;break}if(b===l){E=!0,l=d,s=f;break}b=b.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case K:return"Profiler";case $:return"StrictMode";case de:return"Suspense";case B:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case ue:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:ze(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return ze(t(i))}catch{}}return null}var He=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ke=[],O=-1;function te(t){return{current:t}}function he(t){0>O||(t.current=ke[O],ke[O]=null,O--)}function oe(t,i){O++,ke[O]=t.current,t.current=i}var Se=te(null),qe=te(null),Ie=te(null),Pt=te(null);function gt(t,i){switch(oe(Ie,i),oe(qe,t),oe(Se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=s_(i),t=o_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}he(Se),oe(Se,t)}function Qn(){he(Se),he(qe),he(Ie)}function At(t){t.memoizedState!==null&&oe(Pt,t);var i=Se.current,s=o_(i,t.type);i!==s&&(oe(qe,t),oe(Se,s))}function fn(t){qe.current===t&&(he(Se),he(qe)),Pt.current===t&&(he(Pt),Hl._currentValue=ge)}var Dr=Object.prototype.hasOwnProperty,ri=r.unstable_scheduleCallback,wn=r.unstable_cancelCallback,Ua=r.unstable_shouldYield,Ms=r.unstable_requestPaint,bn=r.unstable_now,$o=r.unstable_getCurrentPriorityLevel,za=r.unstable_ImmediatePriority,Li=r.unstable_UserBlockingPriority,ii=r.unstable_NormalPriority,gr=r.unstable_LowPriority,$n=r.unstable_IdlePriority,ki=r.log,Ui=r.unstable_setDisableYieldValue,ut=null,Ge=null;function dn(t){if(typeof ki=="function"&&Ui(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ut,t)}catch{}}var Lt=Math.clz32?Math.clz32:Or,xs=Math.log,Xn=Math.LN2;function Or(t){return t>>>=0,t===0?32:31-(xs(t)/Xn|0)|0}var Nr=256,Mr=4194304;function Pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Pn(l):(E&=b,E!==0?f=Pn(E):s||(s=b&~t,s!==0&&(f=Pn(s))))):(b=l&~d,b!==0?f=Pn(b):E!==0?f=Pn(E):s||(s=l&~t,s!==0&&(f=Pn(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function Wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function zi(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(){var t=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),t}function Ba(){var t=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),t}function Zn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function yr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bi(t,i,s,l,f,d){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,G=t.hiddenUpdates;for(s=E&~s;0<s;){var J=31-Lt(s),re=1<<J;b[J]=0,C[J]=-1;var Y=G[J];if(Y!==null)for(G[J]=null,J=0;J<Y.length;J++){var W=Y[J];W!==null&&(W.lane&=-536870913)}s&=~re}l!==0&&Sn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Sn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Lt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function xr(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Lt(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function Vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function N(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:R_(t.type))}function z(t,i){var s=ce.p;try{return ce.p=t,i()}finally{ce.p=s}}var q=Math.random().toString(36).slice(2),ne="__reactFiber$"+q,le="__reactProps$"+q,ye="__reactContainer$"+q,De="__reactEvents$"+q,_e="__reactListeners$"+q,we="__reactHandles$"+q,Ae="__reactResources$"+q,Oe="__reactMarker$"+q;function be(t){delete t[ne],delete t[le],delete t[De],delete t[_e],delete t[we]}function Me(t){var i=t[ne];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ye]||s[ne]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=h_(t);t!==null;){if(s=t[ne])return s;t=h_(t)}return i}t=s,s=t.parentNode}return null}function We(t){if(t=t[ne]||t[ye]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ht(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ot(t){var i=t[Ae];return i||(i=t[Ae]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[Oe]=!0}var Qe=new Set,Jn={};function qt(t,i){An(t,i),An(t+"Capture",i)}function An(t,i){for(Jn[t]=i,t=0;t<i.length;t++)Qe.add(i[t])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pr={},Ln={};function Hi(t){return Dr.call(Ln,t)?!0:Dr.call(Pr,t)?!1:nn.test(t)?Ln[t]=!0:(Pr[t]=!0,!1)}function mn(t,i,s){if(Hi(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Rn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Ue(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var kt,kn;function On(t){if(kt===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);kt=i&&i[1]||"",kn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+t+kn}var Lr=!1;function Tt(t,i){if(!t||Lr)return"";Lr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var Y=W}Reflect.construct(t,[],re)}else{try{re.call()}catch(W){Y=W}t.call(re.prototype)}}else{try{throw Error()}catch(W){Y=W}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var C=E.split(`
`),G=b.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===G.length)for(l=C.length-1,f=G.length-1;1<=l&&0<=f&&C[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==G[f]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{Lr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?On(s):""}function er(t){switch(t.tag){case 26:case 27:case 5:return On(t.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return Tt(t.type,!1);case 11:return Tt(t.type.render,!1);case 1:return Tt(t.type,!0);case 31:return On("Activity");default:return""}}function oi(t){try{var i="";do i+=er(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yf(t){var i=Xo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Vs(t){t._valueTracker||(t._valueTracker=yf(t))}function Wo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Xo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function ja(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vf=/[\n"\\]/g;function Ut(t){return t.replace(vf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Un(t,i,s,l,f,d,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?qi(t,E,rn(i)):s!=null?qi(t,E,rn(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+rn(b):t.removeAttribute("name")}function Ha(t,i,s,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+rn(s):"",i=i!=null?""+rn(i):s,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function qi(t,i,s){i==="number"&&ja(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function li(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+rn(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function yt(t,i,s){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+rn(s):""}function qa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(He(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=rn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function tr(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Fa.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Zo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Uu(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Uu(t,d,i[d])}function Jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(t){return Ef.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ui=null;function nr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function el(t){var i=We(t);if(i&&(t=i.stateNode)){var s=t[le]||null;e:switch(t=i.stateNode,i.type){case"input":if(Un(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ut(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[le]||null;if(!f)throw Error(a(90));Un(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Wo(l)}break e;case"textarea":yt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&li(t,!!s.multiple,i,!1)}}}var kr=!1;function zu(t,i,s){if(kr)return t(i,s);kr=!0;try{var l=t(i);return l}finally{if(kr=!1,(ci!==null||hi!==null)&&(Mc(),ci&&(i=ci,t=hi,hi=ci=null,el(i),t)))for(i=0;i<t.length;i++)el(t[i])}}function Ga(t,i){var s=t.stateNode;if(s===null)return null;var l=s[le]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(vr)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){rr=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{rr=!1}var Ur=null,Fi=null,fi=null;function tl(){if(fi)return fi;var t,i=Fi,s=i.length,l,f="value"in Ur?Ur.value:Ur.textContent,d=f.length;for(t=0;t<s&&i[t]===f[t];t++);var E=s-t;for(l=1;l<=E&&i[s-l]===f[d-l];l++);return fi=f.slice(t,1<l?1-l:void 0)}function zr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Br(){return!0}function nl(){return!1}function Xt(t){function i(s,l,f,d,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Br:nl,this.isPropagationStopped=nl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),i}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Xt(ft),Ya=v({},ft,{view:0,detail:0}),Bu=Xt(Ya),ks,Us,jr,Qa=v({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jr&&(jr&&t.type==="mousemove"?(ks=t.screenX-jr.screenX,Us=t.screenY-jr.screenY):Us=ks=0,jr=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),ir=Xt(Qa),ju=v({},Qa,{dataTransfer:0}),Tf=Xt(ju),$a=v({},Ya,{relatedTarget:0}),zs=Xt($a),rl=v({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Bs=Xt(rl),Hu=v({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),js=Xt(Hu),wf=v({},ft,{data:0}),il=Xt(wf),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fu[t])?!!i[t]:!1}function Wa(){return al}var Gu=v({},Ya,{key:function(t){if(t.key){var i=Xa[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(t){return t.type==="keypress"?zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hs=Xt(Gu),Ku=v({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=Xt(Ku),di=v({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Yu=Xt(di),Qu=v({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),$u=Xt(Qu),Xu=v({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qs=Xt(Xu),In=v({},ft,{newState:0,oldState:0}),Wu=Xt(In),Zu=[9,13,27,32],Hr=vr&&"CompositionEvent"in window,c=null;vr&&"documentMode"in document&&(c=document.documentMode);var y=vr&&"TextEvent"in window&&!c,_=vr&&(!Hr||c&&8<c&&11>=c),S=" ",j=!1;function Z(t,i){switch(t){case"keyup":return Zu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rt=!1;function Ft(t,i){switch(t){case"compositionend":return me(i);case"keypress":return i.which!==32?null:(j=!0,S);case"textInput":return t=i.data,t===S&&j?null:t;default:return null}}function it(t,i){if(rt)return t==="compositionend"||!Hr&&Z(t,i)?(t=tl(),fi=Fi=Ur=null,rt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Wt[t.type]:i==="textarea"}function mi(t,i,s,l){ci?hi?hi.push(l):hi=[l]:ci=l,i=Uc(i,"onChange"),0<i.length&&(s=new Ls("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var an=null,qr=null;function ol(t){t_(t,0)}function Ju(t){var i=ht(t);if(Wo(i))return t}function wg(t,i){if(t==="change")return i}var bg=!1;if(vr){var bf;if(vr){var Sf="oninput"in document;if(!Sf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Sf=typeof Sg.oninput=="function"}bf=Sf}else bf=!1;bg=bf&&(!document.documentMode||9<document.documentMode)}function Ag(){an&&(an.detachEvent("onpropertychange",Rg),qr=an=null)}function Rg(t){if(t.propertyName==="value"&&Ju(qr)){var i=[];mi(i,qr,t,nr(t)),zu(ol,i)}}function Xb(t,i,s){t==="focusin"?(Ag(),an=i,qr=s,an.attachEvent("onpropertychange",Rg)):t==="focusout"&&Ag()}function Wb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(qr)}function Zb(t,i){if(t==="click")return Ju(i)}function Jb(t,i){if(t==="input"||t==="change")return Ju(i)}function e1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var zn=typeof Object.is=="function"?Object.is:e1;function ll(t,i){if(zn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Dr.call(i,f)||!zn(t[f],i[f]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,i){var s=Ig(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ig(s)}}function Dg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Dg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ja(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ja(t.document)}return i}function Af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var t1=vr&&"documentMode"in document&&11>=document.documentMode,Fs=null,Rf=null,ul=null,If=!1;function Ng(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;If||Fs==null||Fs!==ja(l)||(l=Fs,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Uc(Rf,"onSelect"),0<l.length&&(i=new Ls("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Fs)))}function Za(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Gs={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},Cf={},Mg={};vr&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Ja(t){if(Cf[t])return Cf[t];if(!Gs[t])return t;var i=Gs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Mg)return Cf[t]=i[s];return t}var xg=Ja("animationend"),Vg=Ja("animationiteration"),Pg=Ja("animationstart"),n1=Ja("transitionrun"),r1=Ja("transitionstart"),i1=Ja("transitioncancel"),Lg=Ja("transitionend"),kg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function _r(t,i){kg.set(t,i),qt(i,[t])}var Ug=new WeakMap;function ar(t,i){if(typeof t=="object"&&t!==null){var s=Ug.get(t);return s!==void 0?s:(i={value:t,source:i,stack:oi(i)},Ug.set(t,i),i)}return{value:t,source:i,stack:oi(i)}}var sr=[],Ks=0,Of=0;function ec(){for(var t=Ks,i=Of=Ks=0;i<t;){var s=sr[i];sr[i++]=null;var l=sr[i];sr[i++]=null;var f=sr[i];sr[i++]=null;var d=sr[i];if(sr[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&zg(s,f,d)}}function tc(t,i,s,l){sr[Ks++]=t,sr[Ks++]=i,sr[Ks++]=s,sr[Ks++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nf(t,i,s,l){return tc(t,i,s,l),nc(t)}function Ys(t,i){return tc(t,null,null,i),nc(t)}function zg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-Lt(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function nc(t){if(50<Vl)throw Vl=0,kd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qs={};function a1(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,i,s,l){return new a1(t,i,s,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pi(t,i){var s=t.alternate;return s===null?(s=Bn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Bg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function rc(t,i,s,l,f,d){var E=0;if(l=t,typeof t=="function")Mf(t)&&(E=1);else if(typeof t=="string")E=oS(t,s,Se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Bn(31,s,i,f),t.elementType=R,t.lanes=d,t;case M:return es(s.children,f,d,i);case $:E=8,f|=24;break;case K:return t=Bn(12,s,i,f|2),t.elementType=K,t.lanes=d,t;case de:return t=Bn(13,s,i,f),t.elementType=de,t.lanes=d,t;case B:return t=Bn(19,s,i,f),t.elementType=B,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case ie:E=10;break e;case ue:E=9;break e;case pe:E=11;break e;case x:E=14;break e;case A:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Bn(E,s,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function es(t,i,s,l){return t=Bn(7,t,l,i),t.lanes=s,t}function xf(t,i,s){return t=Bn(6,t,null,i),t.lanes=s,t}function Vf(t,i,s){return i=Bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $s=[],Xs=0,ic=null,ac=0,or=[],lr=0,ts=null,gi=1,yi="";function ns(t,i){$s[Xs++]=ac,$s[Xs++]=ic,ic=t,ac=i}function jg(t,i,s){or[lr++]=gi,or[lr++]=yi,or[lr++]=ts,ts=t;var l=gi;t=yi;var f=32-Lt(l)-1;l&=~(1<<f),s+=1;var d=32-Lt(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,gi=1<<32-Lt(i)+f|s<<f|l,yi=d+t}else gi=1<<d|s<<f|l,yi=t}function Pf(t){t.return!==null&&(ns(t,1),jg(t,1,0))}function Lf(t){for(;t===ic;)ic=$s[--Xs],$s[Xs]=null,ac=$s[--Xs],$s[Xs]=null;for(;t===ts;)ts=or[--lr],or[lr]=null,yi=or[--lr],or[lr]=null,gi=or[--lr],or[lr]=null}var Cn=null,Dt=null,ct=!1,rs=null,Fr=!1,kf=Error(a(519));function is(t){var i=Error(a(418,""));throw fl(ar(i,t)),kf}function Hg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[ne]=t,i[le]=l,s){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(s=0;s<Ll.length;s++)Je(Ll[s],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),Ha(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(i);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),qa(i,l.value,l.defaultValue,l.children),Vs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||a_(i.textContent,s)?(l.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),l.onScroll!=null&&Je("scroll",i),l.onScrollEnd!=null&&Je("scrollend",i),l.onClick!=null&&(i.onclick=zc),i=!0):i=!1,i||is(t)}function qg(t){for(Cn=t.return;Cn;)switch(Cn.tag){case 5:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:Cn=Cn.return}}function cl(t){if(t!==Cn)return!1;if(!ct)return qg(t),ct=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Jd(t.type,t.memoizedProps)),s=!s),s&&Dt&&is(t),qg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Dt=Tr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Dt=null}}else i===27?(i=Dt,sa(t.type)?(t=rm,rm=null,Dt=t):Dt=i):Dt=Cn?Tr(t.stateNode.nextSibling):null;return!0}function hl(){Dt=Cn=null,ct=!1}function Fg(){var t=rs;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),rs=null),t}function fl(t){rs===null?rs=[t]:rs.push(t)}var Uf=te(null),as=null,vi=null;function Gi(t,i,s){oe(Uf,i._currentValue),i._currentValue=s}function _i(t){t._currentValue=Uf.current,he(Uf)}function zf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Bf(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var C=0;C<i.length;C++)if(b.context===i[C]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),zf(d.return,s,t),l||(E=null);break e}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),zf(E,s,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function dl(t,i,s,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var b=f.type;zn(f.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(f===Pt.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}f=f.return}t!==null&&Bf(i,t,s,l),i.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){as=t,vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pn(t){return Gg(as,t)}function oc(t,i){return as===null&&ss(t),Gg(t,i)}function Gg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},vi===null){if(t===null)throw Error(a(308));vi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else vi=vi.next=i;return s}var s1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},o1=r.unstable_scheduleCallback,l1=r.unstable_NormalPriority,Kt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new s1,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&o1(l1,function(){t.controller.abort()})}var pl=null,Hf=0,Ws=0,Zs=null;function u1(t,i){if(pl===null){var s=pl=[];Hf=0,Ws=Fd(),Zs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Hf++,i.then(Kg,Kg),i}function Kg(){if(--Hf===0&&pl!==null){Zs!==null&&(Zs.status="fulfilled");var t=pl;pl=null,Ws=0,Zs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function c1(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Yg=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&u1(t,i),Yg!==null&&Yg(t,i)};var os=te(null);function qf(){var t=os.current;return t!==null?t:bt.pooledCache}function lc(t,i){i===null?oe(os,os.current):oe(os,i.pool)}function Qg(){var t=qf();return t===null?null:{parent:Kt._currentValue,pool:t}}var gl=Error(a(460)),$g=Error(a(474)),uc=Error(a(542)),Ff={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cc(){}function Wg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(cc,cc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t;default:if(typeof i.status=="string")i.then(cc,cc);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t}throw yl=i,gl}}var yl=null;function Zg(){if(yl===null)throw Error(a(459));var t=yl;return yl=null,t}function Jg(t){if(t===gl||t===uc)throw Error(a(483))}var Ki=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(mt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=nc(t),zg(t,null,s),i}return tc(t,l,i,s),nc(t)}function vl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,xr(t,s)}}function Yf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Qf=!1;function _l(){if(Qf){var t=Zs;if(t!==null)throw t}}function El(t,i,s,l){Qf=!1;var f=t.updateQueue;Ki=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var C=b,G=C.next;C.next=null,E===null?d=G:E.next=G,E=C;var J=t.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==E&&(b===null?J.firstBaseUpdate=G:b.next=G,J.lastBaseUpdate=C))}if(d!==null){var re=f.baseState;E=0,J=G=C=null,b=d;do{var Y=b.lane&-536870913,W=Y!==b.lane;if(W?(at&Y)===Y:(l&Y)===Y){Y!==0&&Y===Ws&&(Qf=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Le=t,Ne=b;Y=i;var Et=s;switch(Ne.tag){case 1:if(Le=Ne.payload,typeof Le=="function"){re=Le.call(Et,re,Y);break e}re=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ne.payload,Y=typeof Le=="function"?Le.call(Et,re,Y):Le,Y==null)break e;re=v({},re,Y);break e;case 2:Ki=!0}}Y=b.callback,Y!==null&&(t.flags|=64,W&&(t.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(G=J=W,C=re):J=J.next=W,E|=Y;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;W=b,b=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);J===null&&(C=re),f.baseState=C,f.firstBaseUpdate=G,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),na|=E,t.lanes=E,t.memoizedState=re}}function ey(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function ty(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ey(s[t],i)}var Js=te(null),hc=te(0);function ny(t,i){t=Ri,oe(hc,t),oe(Js,i),Ri=t|i.baseLanes}function $f(){oe(hc,Ri),oe(Js,Js.current)}function Xf(){Ri=hc.current,he(Js),he(hc)}var $i=0,Ke=null,vt=null,zt=null,fc=!1,eo=!1,ls=!1,dc=0,Tl=0,to=null,h1=0;function Nt(){throw Error(a(321))}function Wf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!zn(t[s],i[s]))return!1;return!0}function Zf(t,i,s,l,f,d){return $i=d,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?zy:By,ls=!1,d=s(l,f),ls=!1,eo&&(d=iy(i,s,l,f)),ry(t),d}function ry(t){X.H=_c;var i=vt!==null&&vt.next!==null;if($i=0,zt=vt=Ke=null,fc=!1,Tl=0,to=null,i)throw Error(a(300));t===null||Zt||(t=t.dependencies,t!==null&&sc(t)&&(Zt=!0))}function iy(t,i,s,l){Ke=t;var f=0;do{if(eo&&(to=null),Tl=0,eo=!1,25<=f)throw Error(a(301));if(f+=1,zt=vt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=v1,d=i(s,l)}while(eo);return d}function f1(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?wl(i):i,t=t.useState()[0],(vt!==null?vt.memoizedState:null)!==t&&(Ke.flags|=1024),i}function Jf(){var t=dc!==0;return dc=0,t}function ed(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function td(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}$i=0,zt=vt=Ke=null,eo=!1,Tl=dc=0,to=null}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ke.memoizedState=zt=t:zt=zt.next=t,zt}function Bt(){if(vt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var i=zt===null?Ke.memoizedState:zt.next;if(i!==null)zt=i,vt=t;else{if(t===null)throw Ke.alternate===null?Error(a(467)):Error(a(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},zt===null?Ke.memoizedState=zt=t:zt=zt.next=t}return zt}function nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var i=Tl;return Tl+=1,to===null&&(to=[]),t=Wg(to,t,i),i=Ke,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?zy:By),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===ie)return pn(t)}throw Error(a(438,String(t)))}function rd(t){var i=null,s=Ke.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=nd(),Ke.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=V;return i.index++,s}function Ei(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=Bt();return id(i,vt,t)}function id(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=E=null,C=null,G=i,J=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(at&re)===re:($i&re)===re){var Y=G.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===Ws&&(J=!0);else if(($i&Y)===Y){G=G.next,Y===Ws&&(J=!0);continue}else re={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(b=C=re,E=d):C=C.next=re,Ke.lanes|=Y,na|=Y;re=G.action,ls&&s(d,re),d=G.hasEagerState?G.eagerState:s(d,re)}else Y={lane:re,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(b=C=Y,E=d):C=C.next=Y,Ke.lanes|=re,na|=re;G=G.next}while(G!==null&&G!==i);if(C===null?E=d:C.next=b,!zn(d,t.memoizedState)&&(Zt=!0,J&&(s=Zs,s!==null)))throw s;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ad(t){var i=Bt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);zn(d,i.memoizedState)||(Zt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function ay(t,i,s){var l=Ke,f=Bt(),d=ct;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!zn((vt||f).memoizedState,s);E&&(f.memoizedState=s,Zt=!0),f=f.queue;var b=ly.bind(null,l,f,t);if(bl(2048,8,b,[t]),f.getSnapshot!==i||E||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,no(9,gc(),oy.bind(null,l,f,s,i),null),bt===null)throw Error(a(349));d||($i&124)!==0||sy(l,i,s)}return s}function sy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ke.updateQueue,i===null?(i=nd(),Ke.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function oy(t,i,s,l){i.value=s,i.getSnapshot=l,uy(i)&&cy(t)}function ly(t,i,s){return s(function(){uy(i)&&cy(t)})}function uy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!zn(t,s)}catch{return!0}}function cy(t){var i=Ys(t,2);i!==null&&Gn(i,t,2)}function sd(t){var i=Nn();if(typeof t=="function"){var s=t;if(t=s(),ls){dn(!0);try{s()}finally{dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},i}function hy(t,i,s,l){return t.baseState=s,id(t,vt,typeof l=="function"?l:Ei)}function d1(t,i,s,l,f){if(vc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,fy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function fy(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,E={};X.T=E;try{var b=s(f,l),C=X.S;C!==null&&C(E,b),dy(t,i,b)}catch(G){od(t,i,G)}finally{X.T=d}}else try{d=s(f,l),dy(t,i,d)}catch(G){od(t,i,G)}}function dy(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){my(t,i,l)},function(l){return od(t,i,l)}):my(t,i,s)}function my(t,i,s){i.status="fulfilled",i.value=s,py(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,fy(t,s)))}function od(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,py(i),i=i.next;while(i!==l)}t.action=null}function py(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function gy(t,i){return i}function yy(t,i){if(ct){var s=bt.formState;if(s!==null){e:{var l=Ke;if(ct){if(Dt){t:{for(var f=Dt,d=Fr;f.nodeType!==8;){if(!d){f=null;break t}if(f=Tr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Dt=Tr(f.nextSibling),l=f.data==="F!";break e}}is(l)}l=!1}l&&(i=s[0])}}return s=Nn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:i},s.queue=l,s=Ly.bind(null,Ke,l),l.dispatch=s,l=sd(!1),d=fd.bind(null,Ke,!1,l.queue),l=Nn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=d1.bind(null,Ke,f,d,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function vy(t){var i=Bt();return _y(i,vt,t)}function _y(t,i,s){if(i=id(t,i,gy)[0],t=pc(Ei)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=wl(i)}catch(E){throw E===gl?uc:E}else l=i;i=Bt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Ke.flags|=2048,no(9,gc(),m1.bind(null,f,s),null)),[l,d,t]}function m1(t,i){t.action=i}function Ey(t){var i=Bt(),s=vt;if(s!==null)return _y(i,s,t);Bt(),i=i.memoizedState,s=Bt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function no(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=nd(),Ke.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function gc(){return{destroy:void 0,resource:void 0}}function Ty(){return Bt().memoizedState}function yc(t,i,s,l){var f=Nn();l=l===void 0?null:l,Ke.flags|=t,f.memoizedState=no(1|i,gc(),s,l)}function bl(t,i,s,l){var f=Bt();l=l===void 0?null:l;var d=f.memoizedState.inst;vt!==null&&l!==null&&Wf(l,vt.memoizedState.deps)?f.memoizedState=no(i,d,s,l):(Ke.flags|=t,f.memoizedState=no(1|i,d,s,l))}function wy(t,i){yc(8390656,8,t,i)}function by(t,i){bl(2048,8,t,i)}function Sy(t,i){return bl(4,2,t,i)}function Ay(t,i){return bl(4,4,t,i)}function Ry(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Iy(t,i,s){s=s!=null?s.concat([t]):null,bl(4,4,Ry.bind(null,i,t),s)}function ld(){}function Cy(t,i){var s=Bt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Wf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Dy(t,i){var s=Bt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Wf(i,l[1]))return l[0];if(l=t(),ls){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[l,i],l}function ud(t,i,s){return s===void 0||($i&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Mv(),Ke.lanes|=t,na|=t,s)}function Oy(t,i,s,l){return zn(s,i)?s:Js.current!==null?(t=ud(t,s,l),zn(t,i)||(Zt=!0),t):($i&42)===0?(Zt=!0,t.memoizedState=s):(t=Mv(),Ke.lanes|=t,na|=t,i)}function Ny(t,i,s,l,f){var d=ce.p;ce.p=d!==0&&8>d?d:8;var E=X.T,b={};X.T=b,fd(t,!1,i,s);try{var C=f(),G=X.S;if(G!==null&&G(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=c1(C,l);Sl(t,i,J,Fn(t))}else Sl(t,i,l,Fn(t))}catch(re){Sl(t,i,{then:function(){},status:"rejected",reason:re},Fn())}finally{ce.p=d,X.T=E}}function p1(){}function cd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=My(t).queue;Ny(t,f,i,ge,s===null?p1:function(){return xy(t),s(l)})}function My(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ge},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=My(t).next.queue;Sl(t,i,{},Fn())}function hd(){return pn(Hl)}function Vy(){return Bt().memoizedState}function Py(){return Bt().memoizedState}function g1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Fn();t=Yi(s);var l=Qi(i,t,s);l!==null&&(Gn(l,i,s),vl(l,i,s)),i={cache:jf()},t.payload=i;return}i=i.return}}function y1(t,i,s){var l=Fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},vc(t)?ky(i,s):(s=Nf(t,i,s,l),s!==null&&(Gn(s,t,l),Uy(s,i,l)))}function Ly(t,i,s){var l=Fn();Sl(t,i,s,l)}function Sl(t,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(vc(t))ky(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,b=d(E,s);if(f.hasEagerState=!0,f.eagerState=b,zn(b,E))return tc(t,i,f,0),bt===null&&ec(),!1}catch{}finally{}if(s=Nf(t,i,f,l),s!==null)return Gn(s,t,l),Uy(s,i,l),!0}return!1}function fd(t,i,s,l){if(l={lane:2,revertLane:Fd(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(a(479))}else i=Nf(t,s,l,2),i!==null&&Gn(i,t,2)}function vc(t){var i=t.alternate;return t===Ke||i!==null&&i===Ke}function ky(t,i){eo=fc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Uy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,xr(t,s)}}var _c={readContext:pn,use:mc,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},zy={readContext:pn,use:mc,useCallback:function(t,i){return Nn().memoizedState=[t,i===void 0?null:i],t},useContext:pn,useEffect:wy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,yc(4194308,4,Ry.bind(null,i,t),s)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var s=Nn();i=i===void 0?null:i;var l=t();if(ls){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Nn();if(s!==void 0){var f=s(i);if(ls){dn(!0);try{s(i)}finally{dn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=y1.bind(null,Ke,t),[l.memoizedState,t]},useRef:function(t){var i=Nn();return t={current:t},i.memoizedState=t},useState:function(t){t=sd(t);var i=t.queue,s=Ly.bind(null,Ke,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:ld,useDeferredValue:function(t,i){var s=Nn();return ud(s,t,i)},useTransition:function(){var t=sd(!1);return t=Ny.bind(null,Ke,t.queue,!0,!1),Nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ke,f=Nn();if(ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),bt===null)throw Error(a(349));(at&124)!==0||sy(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,wy(ly.bind(null,l,d,t),[t]),l.flags|=2048,no(9,gc(),oy.bind(null,l,d,s,i),null),s},useId:function(){var t=Nn(),i=bt.identifierPrefix;if(ct){var s=yi,l=gi;s=(l&~(1<<32-Lt(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=dc++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=h1++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:hd,useFormState:yy,useActionState:yy,useOptimistic:function(t){var i=Nn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=fd.bind(null,Ke,!0,s),s.dispatch=i,[t,i]},useMemoCache:rd,useCacheRefresh:function(){return Nn().memoizedState=g1.bind(null,Ke)}},By={readContext:pn,use:mc,useCallback:Cy,useContext:pn,useEffect:by,useImperativeHandle:Iy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Dy,useReducer:pc,useRef:Ty,useState:function(){return pc(Ei)},useDebugValue:ld,useDeferredValue:function(t,i){var s=Bt();return Oy(s,vt.memoizedState,t,i)},useTransition:function(){var t=pc(Ei)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:ay,useId:Vy,useHostTransitionStatus:hd,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var s=Bt();return hy(s,vt,t,i)},useMemoCache:rd,useCacheRefresh:Py},v1={readContext:pn,use:mc,useCallback:Cy,useContext:pn,useEffect:by,useImperativeHandle:Iy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Dy,useReducer:ad,useRef:Ty,useState:function(){return ad(Ei)},useDebugValue:ld,useDeferredValue:function(t,i){var s=Bt();return vt===null?ud(s,t,i):Oy(s,vt.memoizedState,t,i)},useTransition:function(){var t=ad(Ei)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:ay,useId:Vy,useHostTransitionStatus:hd,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,i){var s=Bt();return vt!==null?hy(s,vt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:rd,useCacheRefresh:Py},ro=null,Al=0;function Ec(t){var i=Al;return Al+=1,ro===null&&(ro=[]),Wg(ro,t,i)}function Rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Tc(t,i){throw i.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function jy(t){var i=t._init;return i(t._payload)}function Hy(t){function i(U,P){if(t){var H=U.deletions;H===null?(U.deletions=[P],U.flags|=16):H.push(P)}}function s(U,P){if(!t)return null;for(;P!==null;)i(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function f(U,P){return U=pi(U,P),U.index=0,U.sibling=null,U}function d(U,P,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<P?(U.flags|=67108866,P):H):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,P,H,ee){return P===null||P.tag!==6?(P=xf(H,U.mode,ee),P.return=U,P):(P=f(P,H),P.return=U,P)}function C(U,P,H,ee){var Te=H.type;return Te===M?J(U,P,H.props.children,ee,H.key):P!==null&&(P.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&jy(Te)===P.type)?(P=f(P,H.props),Rl(P,H),P.return=U,P):(P=rc(H.type,H.key,H.props,null,U.mode,ee),Rl(P,H),P.return=U,P)}function G(U,P,H,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Vf(H,U.mode,ee),P.return=U,P):(P=f(P,H.children||[]),P.return=U,P)}function J(U,P,H,ee,Te){return P===null||P.tag!==7?(P=es(H,U.mode,ee,Te),P.return=U,P):(P=f(P,H),P.return=U,P)}function re(U,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=xf(""+P,U.mode,H),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return H=rc(P.type,P.key,P.props,null,U.mode,H),Rl(H,P),H.return=U,H;case I:return P=Vf(P,U.mode,H),P.return=U,P;case A:var ee=P._init;return P=ee(P._payload),re(U,P,H)}if(He(P)||k(P))return P=es(P,U.mode,H,null),P.return=U,P;if(typeof P.then=="function")return re(U,Ec(P),H);if(P.$$typeof===ie)return re(U,oc(U,P),H);Tc(U,P)}return null}function Y(U,P,H,ee){var Te=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:b(U,P,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===Te?C(U,P,H,ee):null;case I:return H.key===Te?G(U,P,H,ee):null;case A:return Te=H._init,H=Te(H._payload),Y(U,P,H,ee)}if(He(H)||k(H))return Te!==null?null:J(U,P,H,ee,null);if(typeof H.then=="function")return Y(U,P,Ec(H),ee);if(H.$$typeof===ie)return Y(U,P,oc(U,H),ee);Tc(U,H)}return null}function W(U,P,H,ee,Te){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(H)||null,b(P,U,""+ee,Te);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:return U=U.get(ee.key===null?H:ee.key)||null,C(P,U,ee,Te);case I:return U=U.get(ee.key===null?H:ee.key)||null,G(P,U,ee,Te);case A:var $e=ee._init;return ee=$e(ee._payload),W(U,P,H,ee,Te)}if(He(ee)||k(ee))return U=U.get(H)||null,J(P,U,ee,Te,null);if(typeof ee.then=="function")return W(U,P,H,Ec(ee),Te);if(ee.$$typeof===ie)return W(U,P,H,oc(P,ee),Te);Tc(P,ee)}return null}function Le(U,P,H,ee){for(var Te=null,$e=null,Re=P,xe=P=0,en=null;Re!==null&&xe<H.length;xe++){Re.index>xe?(en=Re,Re=null):en=Re.sibling;var lt=Y(U,Re,H[xe],ee);if(lt===null){Re===null&&(Re=en);break}t&&Re&&lt.alternate===null&&i(U,Re),P=d(lt,P,xe),$e===null?Te=lt:$e.sibling=lt,$e=lt,Re=en}if(xe===H.length)return s(U,Re),ct&&ns(U,xe),Te;if(Re===null){for(;xe<H.length;xe++)Re=re(U,H[xe],ee),Re!==null&&(P=d(Re,P,xe),$e===null?Te=Re:$e.sibling=Re,$e=Re);return ct&&ns(U,xe),Te}for(Re=l(Re);xe<H.length;xe++)en=W(Re,U,xe,H[xe],ee),en!==null&&(t&&en.alternate!==null&&Re.delete(en.key===null?xe:en.key),P=d(en,P,xe),$e===null?Te=en:$e.sibling=en,$e=en);return t&&Re.forEach(function(ha){return i(U,ha)}),ct&&ns(U,xe),Te}function Ne(U,P,H,ee){if(H==null)throw Error(a(151));for(var Te=null,$e=null,Re=P,xe=P=0,en=null,lt=H.next();Re!==null&&!lt.done;xe++,lt=H.next()){Re.index>xe?(en=Re,Re=null):en=Re.sibling;var ha=Y(U,Re,lt.value,ee);if(ha===null){Re===null&&(Re=en);break}t&&Re&&ha.alternate===null&&i(U,Re),P=d(ha,P,xe),$e===null?Te=ha:$e.sibling=ha,$e=ha,Re=en}if(lt.done)return s(U,Re),ct&&ns(U,xe),Te;if(Re===null){for(;!lt.done;xe++,lt=H.next())lt=re(U,lt.value,ee),lt!==null&&(P=d(lt,P,xe),$e===null?Te=lt:$e.sibling=lt,$e=lt);return ct&&ns(U,xe),Te}for(Re=l(Re);!lt.done;xe++,lt=H.next())lt=W(Re,U,xe,lt.value,ee),lt!==null&&(t&&lt.alternate!==null&&Re.delete(lt.key===null?xe:lt.key),P=d(lt,P,xe),$e===null?Te=lt:$e.sibling=lt,$e=lt);return t&&Re.forEach(function(_S){return i(U,_S)}),ct&&ns(U,xe),Te}function Et(U,P,H,ee){if(typeof H=="object"&&H!==null&&H.type===M&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var Te=H.key;P!==null;){if(P.key===Te){if(Te=H.type,Te===M){if(P.tag===7){s(U,P.sibling),ee=f(P,H.props.children),ee.return=U,U=ee;break e}}else if(P.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&jy(Te)===P.type){s(U,P.sibling),ee=f(P,H.props),Rl(ee,H),ee.return=U,U=ee;break e}s(U,P);break}else i(U,P);P=P.sibling}H.type===M?(ee=es(H.props.children,U.mode,ee,H.key),ee.return=U,U=ee):(ee=rc(H.type,H.key,H.props,null,U.mode,ee),Rl(ee,H),ee.return=U,U=ee)}return E(U);case I:e:{for(Te=H.key;P!==null;){if(P.key===Te)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){s(U,P.sibling),ee=f(P,H.children||[]),ee.return=U,U=ee;break e}else{s(U,P);break}else i(U,P);P=P.sibling}ee=Vf(H,U.mode,ee),ee.return=U,U=ee}return E(U);case A:return Te=H._init,H=Te(H._payload),Et(U,P,H,ee)}if(He(H))return Le(U,P,H,ee);if(k(H)){if(Te=k(H),typeof Te!="function")throw Error(a(150));return H=Te.call(H),Ne(U,P,H,ee)}if(typeof H.then=="function")return Et(U,P,Ec(H),ee);if(H.$$typeof===ie)return Et(U,P,oc(U,H),ee);Tc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(s(U,P.sibling),ee=f(P,H),ee.return=U,U=ee):(s(U,P),ee=xf(H,U.mode,ee),ee.return=U,U=ee),E(U)):s(U,P)}return function(U,P,H,ee){try{Al=0;var Te=Et(U,P,H,ee);return ro=null,Te}catch(Re){if(Re===gl||Re===uc)throw Re;var $e=Bn(29,Re,null,U.mode);return $e.lanes=ee,$e.return=U,$e}finally{}}}var io=Hy(!0),qy=Hy(!1),ur=te(null),Gr=null;function Xi(t){var i=t.alternate;oe(Yt,Yt.current&1),oe(ur,t),Gr===null&&(i===null||Js.current!==null||i.memoizedState!==null)&&(Gr=t)}function Fy(t){if(t.tag===22){if(oe(Yt,Yt.current),oe(ur,t),Gr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Gr=t)}}else Wi()}function Wi(){oe(Yt,Yt.current),oe(ur,ur.current)}function Ti(t){he(ur),Gr===t&&(Gr=null),he(Yt)}var Yt=te(0);function wc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||nm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function dd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var md={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Fn(),f=Yi(l);f.payload=i,s!=null&&(f.callback=s),i=Qi(t,f,l),i!==null&&(Gn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Fn(),f=Yi(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Qi(t,f,l),i!==null&&(Gn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Fn(),l=Yi(s);l.tag=2,i!=null&&(l.callback=i),i=Qi(t,l,s),i!==null&&(Gn(i,t,s),vl(i,t,s))}};function Gy(t,i,s,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!ll(s,l)||!ll(f,d):!0}function Ky(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&md.enqueueReplaceState(i,i.state,null)}function us(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var bc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Yy(t){bc(t)}function Qy(t){console.error(t)}function $y(t){bc(t)}function Sc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function pd(t,i,s){return s=Yi(s),s.tag=3,s.payload={element:null},s.callback=function(){Sc(t,i)},s}function Wy(t){return t=Yi(t),t.tag=3,t}function Zy(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Xy(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Xy(i,s,l),typeof f!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function _1(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&dl(i,s,f,!0),s=ur.current,s!==null){switch(s.tag){case 13:return Gr===null?zd():s.alternate===null&&Ot===0&&(Ot=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Ff?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),jd(t,l,f)),!1;case 22:return s.flags|=65536,l===Ff?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),jd(t,l,f)),!1}throw Error(a(435,s.tag))}return jd(t,l,f),zd(),!1}if(ct)return i=ur.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==kf&&(t=Error(a(422),{cause:l}),fl(ar(t,s)))):(l!==kf&&(i=Error(a(423),{cause:l}),fl(ar(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=ar(l,s),f=pd(t.stateNode,l,f),Yf(t,f),Ot!==4&&(Ot=2)),!1;var d=Error(a(520),{cause:l});if(d=ar(d,s),xl===null?xl=[d]:xl.push(d),Ot!==4&&(Ot=2),i===null)return!0;l=ar(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=pd(s.stateNode,l,t),Yf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ra===null||!ra.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Wy(f),Zy(f,t,s,l),Yf(s,f),!1}s=s.return}while(s!==null);return!1}var Jy=Error(a(461)),Zt=!1;function sn(t,i,s,l){i.child=t===null?qy(i,null,s,l):io(i,t.child,s,l)}function ev(t,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return ss(i),l=Zf(t,i,s,E,d,f),b=Jf(),t!==null&&!Zt?(ed(t,i,f),wi(t,i,f)):(ct&&b&&Pf(i),i.flags|=1,sn(t,i,l,f),i.child)}function tv(t,i,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,nv(t,i,d,l,f)):(t=rc(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!bd(t,f)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:ll,s(E,l)&&t.ref===i.ref)return wi(t,i,f)}return i.flags|=1,t=pi(d,l),t.ref=i.ref,t.return=i,i.child=t}function nv(t,i,s,l,f){if(t!==null){var d=t.memoizedProps;if(ll(d,l)&&t.ref===i.ref)if(Zt=!1,i.pendingProps=l=d,bd(t,f))(t.flags&131072)!==0&&(Zt=!0);else return i.lanes=t.lanes,wi(t,i,f)}return gd(t,i,s,l,f)}function rv(t,i,s){var l=i.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(f=i.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return iv(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,d!==null?d.cachePool:null),d!==null?ny(i,d):$f(),Fy(i);else return i.lanes=i.childLanes=536870912,iv(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(lc(i,d.cachePool),ny(i,d),Wi(),i.memoizedState=null):(t!==null&&lc(i,null),$f(),Wi());return sn(t,i,f,s),i.child}function iv(t,i,s,l){var f=qf();return f=f===null?null:{parent:Kt._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&lc(i,null),$f(),Fy(i),t!==null&&dl(t,i,l,!0),null}function Ac(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function gd(t,i,s,l,f){return ss(i),s=Zf(t,i,s,l,void 0,f),l=Jf(),t!==null&&!Zt?(ed(t,i,f),wi(t,i,f)):(ct&&l&&Pf(i),i.flags|=1,sn(t,i,s,f),i.child)}function av(t,i,s,l,f,d){return ss(i),i.updateQueue=null,s=iy(i,l,s,f),ry(t),l=Jf(),t!==null&&!Zt?(ed(t,i,d),wi(t,i,d)):(ct&&l&&Pf(i),i.flags|=1,sn(t,i,s,d),i.child)}function sv(t,i,s,l,f){if(ss(i),i.stateNode===null){var d=Qs,E=s.contextType;typeof E=="object"&&E!==null&&(d=pn(E)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=md,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),E=s.contextType,d.context=typeof E=="object"&&E!==null?pn(E):Qs,d.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(dd(i,s,E,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&md.enqueueReplaceState(d,d.state,null),El(i,l,d,f),_l(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,C=us(s,b);d.props=C;var G=d.context,J=s.contextType;E=Qs,typeof J=="object"&&J!==null&&(E=pn(J));var re=s.getDerivedStateFromProps;J=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||G!==E)&&Ky(i,d,l,E),Ki=!1;var Y=i.memoizedState;d.state=Y,El(i,l,d,f),_l(),G=i.memoizedState,b||Y!==G||Ki?(typeof re=="function"&&(dd(i,s,re,l),G=i.memoizedState),(C=Ki||Gy(i,s,C,l,Y,G,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Kf(t,i),E=i.memoizedProps,J=us(s,E),d.props=J,re=i.pendingProps,Y=d.context,G=s.contextType,C=Qs,typeof G=="object"&&G!==null&&(C=pn(G)),b=s.getDerivedStateFromProps,(G=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==re||Y!==C)&&Ky(i,d,l,C),Ki=!1,Y=i.memoizedState,d.state=Y,El(i,l,d,f),_l();var W=i.memoizedState;E!==re||Y!==W||Ki||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof b=="function"&&(dd(i,s,b,l),W=i.memoizedState),(J=Ki||Gy(i,s,J,l,Y,W,C)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),d.props=l,d.state=W,d.context=C,l=J):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=io(i,t.child,null,f),i.child=io(i,null,s,f)):sn(t,i,s,f),i.memoizedState=d.state,t=i.child):t=wi(t,i,f),t}function ov(t,i,s,l){return hl(),i.flags|=256,sn(t,i,s,l),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:Qg()}}function _d(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=cr),t}function lv(t,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Yt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(ct){if(f?Xi(i):Wi(),ct){var b=Dt,C;if(C=b){e:{for(C=b,b=Fr;C.nodeType!==8;){if(!b){b=null;break e}if(C=Tr(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(i.memoizedState={dehydrated:b,treeContext:ts!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},C=Bn(18,null,null,0),C.stateNode=b,C.return=i,i.child=C,Cn=i,Dt=null,C=!0):C=!1}C||is(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return nm(b)?i.lanes=32:i.lanes=536870912,null;Ti(i)}return b=l.children,l=l.fallback,f?(Wi(),f=i.mode,b=Rc({mode:"hidden",children:b},f),l=es(l,f,s,null),b.return=i,l.return=i,b.sibling=l,i.child=b,f=i.child,f.memoizedState=vd(s),f.childLanes=_d(t,E,s),i.memoizedState=yd,l):(Xi(i),Ed(i,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)i.flags&256?(Xi(i),i.flags&=-257,i=Td(t,i,s)):i.memoizedState!==null?(Wi(),i.child=t.child,i.flags|=128,i=null):(Wi(),f=l.fallback,b=i.mode,l=Rc({mode:"visible",children:l.children},b),f=es(f,b,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,io(i,t.child,null,s),l=i.child,l.memoizedState=vd(s),l.childLanes=_d(t,E,s),i.memoizedState=yd,i=f);else if(Xi(i),nm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(a(419)),l.stack="",l.digest=E,fl({value:l,source:null,stack:null}),i=Td(t,i,s)}else if(Zt||dl(t,i,s,!1),E=(s&t.childLanes)!==0,Zt||E){if(E=bt,E!==null&&(l=s&-s,l=(l&42)!==0?1:Vr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ys(t,l),Gn(E,t,l),Jy;b.data==="$?"||zd(),i=Td(t,i,s)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,Dt=Tr(b.nextSibling),Cn=i,ct=!0,rs=null,Fr=!1,t!==null&&(or[lr++]=gi,or[lr++]=yi,or[lr++]=ts,gi=t.id,yi=t.overflow,ts=i),i=Ed(i,l.children),i.flags|=4096);return i}return f?(Wi(),f=l.fallback,b=i.mode,C=t.child,G=C.sibling,l=pi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,G!==null?f=pi(G,f):(f=es(f,b,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,b=t.child.memoizedState,b===null?b=vd(s):(C=b.cachePool,C!==null?(G=Kt._currentValue,C=C.parent!==G?{parent:G,pool:G}:C):C=Qg(),b={baseLanes:b.baseLanes|s,cachePool:C}),f.memoizedState=b,f.childLanes=_d(t,E,s),i.memoizedState=yd,l):(Xi(i),s=t.child,t=s.sibling,s=pi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function Ed(t,i){return i=Rc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Rc(t,i){return t=Bn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Td(t,i,s){return io(i,t.child,null,s),t=Ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function uv(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),zf(t.return,i,s)}function wd(t,i,s,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=f)}function cv(t,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(sn(t,i,l.children,s),l=Yt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uv(t,s,i);else if(t.tag===19)uv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(Yt,l),f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&wc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),wd(i,!1,f,s,d);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&wc(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}wd(i,!0,s,null,d);break;case"together":wd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),na|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(dl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=pi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=pi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function bd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function E1(t,i,s){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),Gi(i,Kt,t.memoizedState.cache),hl();break;case 27:case 5:At(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:Gi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?lv(t,i,s):(Xi(i),t=wi(t,i,s),t!==null?t.sibling:null);Xi(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(dl(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return cv(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(Yt,Yt.current),l)break;return null;case 22:case 23:return i.lanes=0,rv(t,i,s);case 24:Gi(i,Kt,t.memoizedState.cache)}return wi(t,i,s)}function hv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Zt=!0;else{if(!bd(t,s)&&(i.flags&128)===0)return Zt=!1,E1(t,i,s);Zt=(t.flags&131072)!==0}else Zt=!1,ct&&(i.flags&1048576)!==0&&jg(i,ac,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Mf(l)?(t=us(l,t),i.tag=1,i=sv(null,i,l,t,s)):(i.tag=0,i=gd(null,i,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===pe){i.tag=11,i=ev(null,i,l,t,s);break e}else if(f===x){i.tag=14,i=tv(null,i,l,t,s);break e}}throw i=ze(l)||l,Error(a(306,i,""))}}return i;case 0:return gd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=us(l,i.pendingProps),sv(t,i,l,f,s);case 3:e:{if(gt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Kf(t,i),El(i,l,null,s);var E=i.memoizedState;if(l=E.cache,Gi(i,Kt,l),l!==d.cache&&Bf(i,[Kt],s,!0),_l(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ov(t,i,l,s);break e}else if(l!==f){f=ar(Error(a(424)),i),fl(f),i=ov(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=Tr(t.firstChild),Cn=i,ct=!0,rs=null,Fr=!0,s=qy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(hl(),l===f){i=wi(t,i,s);break e}sn(t,i,l,s)}i=i.child}return i;case 26:return Ac(t,i),t===null?(s=p_(i.type,null,i.pendingProps,null))?i.memoizedState=s:ct||(s=i.type,t=i.pendingProps,l=Bc(Ie.current).createElement(s),l[ne]=i,l[le]=t,ln(l,s,t),nt(l),i.stateNode=l):i.memoizedState=p_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return At(i),t===null&&ct&&(l=i.stateNode=f_(i.type,i.pendingProps,Ie.current),Cn=i,Fr=!0,f=Dt,sa(i.type)?(rm=f,Dt=Tr(l.firstChild)):Dt=f),sn(t,i,i.pendingProps.children,s),Ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ct&&((f=l=Dt)&&(l=Q1(l,i.type,i.pendingProps,Fr),l!==null?(i.stateNode=l,Cn=i,Dt=Tr(l.firstChild),Fr=!1,f=!0):f=!1),f||is(i)),At(i),f=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Jd(f,d)?l=null:E!==null&&Jd(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Zf(t,i,f1,null,null,s),Hl._currentValue=f),Ac(t,i),sn(t,i,l,s),i.child;case 6:return t===null&&ct&&((t=s=Dt)&&(s=$1(s,i.pendingProps,Fr),s!==null?(i.stateNode=s,Cn=i,Dt=null,t=!0):t=!1),t||is(i)),null;case 13:return lv(t,i,s);case 4:return gt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=io(i,null,l,s):sn(t,i,l,s),i.child;case 11:return ev(t,i,i.type,i.pendingProps,s);case 7:return sn(t,i,i.pendingProps,s),i.child;case 8:return sn(t,i,i.pendingProps.children,s),i.child;case 12:return sn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Gi(i,i.type,l.value),sn(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ss(i),f=pn(f),l=l(f),i.flags|=1,sn(t,i,l,s),i.child;case 14:return tv(t,i,i.type,i.pendingProps,s);case 15:return nv(t,i,i.type,i.pendingProps,s);case 19:return cv(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=Rc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=pi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return rv(t,i,s);case 24:return ss(i),l=pn(Kt),t===null?(f=qf(),f===null&&(f=bt,d=jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},Gf(i),Gi(i,Kt,f)):((t.lanes&s)!==0&&(Kf(t,i),El(i,null,null,s),_l()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Gi(i,Kt,l)):(l=d.cache,Gi(i,Kt,l),l!==f.cache&&Bf(i,[Kt],s,!0))),sn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function bi(t){t.flags|=4}function fv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(i)){if(i=ur.current,i!==null&&((at&4194048)===at?Gr!==null:(at&62914560)!==at&&(at&536870912)===0||i!==Gr))throw yl=Ff,$g;t.flags|=8192}}function Ic(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ba():536870912,t.lanes|=i,lo|=i)}function Il(t,i){if(!ct)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function It(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function T1(t,i,s){var l=i.pendingProps;switch(Lf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(i),null;case 1:return It(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),_i(Kt),Qn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(cl(i)?bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fg())),It(i),null;case 26:return s=i.memoizedState,t===null?(bi(i),s!==null?(It(i),fv(i,s)):(It(i),i.flags&=-16777217)):s?s!==t.memoizedState?(bi(i),It(i),fv(i,s)):(It(i),i.flags&=-16777217):(t.memoizedProps!==l&&bi(i),It(i),i.flags&=-16777217),null;case 27:fn(i),s=Ie.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return It(i),null}t=Se.current,cl(i)?Hg(i):(t=f_(f,l,s),i.stateNode=t,bi(i))}return It(i),null;case 5:if(fn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return It(i),null}if(t=Se.current,cl(i))Hg(i);else{switch(f=Bc(Ie.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[ne]=i,t[le]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(ln(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&bi(i)}}return It(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ie.current,cl(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=Cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[ne]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||a_(t.nodeValue,s)),t||is(i)}else t=Bc(t).createTextNode(l),t[ne]=i,i.stateNode=t}return It(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=cl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ne]=i}else hl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;It(i),f=!1}else f=Fg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ti(i),i):(Ti(i),null)}if(Ti(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Ic(i,i.updateQueue),It(i),null;case 4:return Qn(),t===null&&Qd(i.stateNode.containerInfo),It(i),null;case 10:return _i(i.type),It(i),null;case 19:if(he(Yt),f=i.memoizedState,f===null)return It(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)Il(f,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=wc(t),d!==null){for(i.flags|=128,Il(f,!1),t=d.updateQueue,i.updateQueue=t,Ic(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Bg(s,t),s=s.sibling;return oe(Yt,Yt.current&1|2),i.child}t=t.sibling}f.tail!==null&&bn()>Oc&&(i.flags|=128,l=!0,Il(f,!1),i.lanes=4194304)}else{if(!l)if(t=wc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Ic(i,t),Il(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ct)return It(i),null}else 2*bn()-f.renderingStartTime>Oc&&s!==536870912&&(i.flags|=128,l=!0,Il(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(t=f.last,t!==null?t.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=bn(),i.sibling=null,t=Yt.current,oe(Yt,l?t&1|2:t&1),i):(It(i),null);case 22:case 23:return Ti(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(It(i),i.subtreeFlags&6&&(i.flags|=8192)):It(i),s=i.updateQueue,s!==null&&Ic(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&he(os),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),_i(Kt),It(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function w1(t,i){switch(Lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return _i(Kt),Qn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fn(i),null;case 13:if(Ti(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));hl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return he(Yt),null;case 4:return Qn(),null;case 10:return _i(i.type),null;case 22:case 23:return Ti(i),Xf(),t!==null&&he(os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return _i(Kt),null;case 25:return null;default:return null}}function dv(t,i){switch(Lf(i),i.tag){case 3:_i(Kt),Qn();break;case 26:case 27:case 5:fn(i);break;case 4:Qn();break;case 13:Ti(i);break;case 19:he(Yt);break;case 10:_i(i.type);break;case 22:case 23:Ti(i),Xf(),t!==null&&he(os);break;case 24:_i(Kt)}}function Cl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,E=s.inst;l=d(),E.destroy=l}s=s.next}while(s!==f)}}catch(b){wt(i,i.return,b)}}function Zi(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var C=s,G=b;try{G()}catch(J){wt(f,C,J)}}}l=l.next}while(l!==d)}}catch(J){wt(i,i.return,J)}}function mv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{ty(i,s)}catch(l){wt(t,t.return,l)}}}function pv(t,i,s){s.props=us(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){wt(t,i,l)}}function Dl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){wt(t,i,f)}}function Kr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){wt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){wt(t,i,f)}else s.current=null}function gv(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){wt(t,t.return,f)}}function Sd(t,i,s){try{var l=t.stateNode;q1(l,t.type,s,i),l[le]=i}catch(f){wt(t,t.return,f)}}function yv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sa(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=zc));else if(l!==4&&(l===27&&sa(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,s),t=t.sibling;t!==null;)Rd(t,i,s),t=t.sibling}function Cc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&sa(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Cc(t,i,s),t=t.sibling;t!==null;)Cc(t,i,s),t=t.sibling}function vv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);ln(i,l,s),i[ne]=t,i[le]=s}catch(d){wt(t,t.return,d)}}var Si=!1,Mt=!1,Id=!1,_v=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function b1(t,i){if(t=t.containerInfo,Wd=Kc,t=Og(t),Af(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var E=0,b=-1,C=-1,G=0,J=0,re=t,Y=null;t:for(;;){for(var W;re!==s||f!==0&&re.nodeType!==3||(b=E+f),re!==d||l!==0&&re.nodeType!==3||(C=E+l),re.nodeType===3&&(E+=re.nodeValue.length),(W=re.firstChild)!==null;)Y=re,re=W;for(;;){if(re===t)break t;if(Y===s&&++G===f&&(b=E),Y===d&&++J===l&&(C=E),(W=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=W}s=b===-1||C===-1?null:{start:b,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Zd={focusedElem:t,selectionRange:s},Kc=!1,Jt=i;Jt!==null;)if(i=Jt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Jt=t;else for(;Jt!==null;){switch(i=Jt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Le=us(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){wt(s,s.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)tm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Jt=t;break}Jt=i.return}}function Ev(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(t,s),l&4&&Cl(5,s);break;case 1:if(Ji(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){wt(s,s.return,E)}else{var f=us(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){wt(s,s.return,E)}}l&64&&mv(s),l&512&&Dl(s,s.return);break;case 3:if(Ji(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{ty(t,i)}catch(E){wt(s,s.return,E)}}break;case 27:i===null&&l&4&&vv(s);case 26:case 5:Ji(t,s),i===null&&l&4&&gv(s),l&512&&Dl(s,s.return);break;case 12:Ji(t,s);break;case 13:Ji(t,s),l&4&&bv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=M1.bind(null,s),X1(t,s))));break;case 22:if(l=s.memoizedState!==null||Si,!l){i=i!==null&&i.memoizedState!==null||Mt,f=Si;var d=Mt;Si=l,(Mt=i)&&!d?ea(t,s,(s.subtreeFlags&8772)!==0):Ji(t,s),Si=f,Mt=d}break;case 30:break;default:Ji(t,s)}}function Tv(t){var i=t.alternate;i!==null&&(t.alternate=null,Tv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&be(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Mn=!1;function Ai(t,i,s){for(s=s.child;s!==null;)wv(t,i,s),s=s.sibling}function wv(t,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ut,s)}catch{}switch(s.tag){case 26:Mt||Kr(s,i),Ai(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Mt||Kr(s,i);var l=Rt,f=Mn;sa(s.type)&&(Rt=s.stateNode,Mn=!1),Ai(t,i,s),Ul(s.stateNode),Rt=l,Mn=f;break;case 5:Mt||Kr(s,i);case 6:if(l=Rt,f=Mn,Rt=null,Ai(t,i,s),Rt=l,Mn=f,Rt!==null)if(Mn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(d){wt(s,i,d)}else try{Rt.removeChild(s.stateNode)}catch(d){wt(s,i,d)}break;case 18:Rt!==null&&(Mn?(t=Rt,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Kl(t)):c_(Rt,s.stateNode));break;case 4:l=Rt,f=Mn,Rt=s.stateNode.containerInfo,Mn=!0,Ai(t,i,s),Rt=l,Mn=f;break;case 0:case 11:case 14:case 15:Mt||Zi(2,s,i),Mt||Zi(4,s,i),Ai(t,i,s);break;case 1:Mt||(Kr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&pv(s,i,l)),Ai(t,i,s);break;case 21:Ai(t,i,s);break;case 22:Mt=(l=Mt)||s.memoizedState!==null,Ai(t,i,s),Mt=l;break;default:Ai(t,i,s)}}function bv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kl(t)}catch(s){wt(i,i.return,s)}}function S1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new _v),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new _v),i;default:throw Error(a(435,t.tag))}}function Cd(t,i){var s=S1(t);i.forEach(function(l){var f=x1.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function jn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(sa(b.type)){Rt=b.stateNode,Mn=!1;break e}break;case 5:Rt=b.stateNode,Mn=!1;break e;case 3:case 4:Rt=b.stateNode.containerInfo,Mn=!0;break e}b=b.return}if(Rt===null)throw Error(a(160));wv(d,E,f),Rt=null,Mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Sv(i,t),i=i.sibling}var Er=null;function Sv(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(i,t),Hn(t),l&4&&(Zi(3,t,t.return),Cl(3,t),Zi(5,t,t.return));break;case 1:jn(i,t),Hn(t),l&512&&(Mt||s===null||Kr(s,s.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Er;if(jn(i,t),Hn(t),l&512&&(Mt||s===null||Kr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Oe]||d[ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),ln(d,l,s),d[ne]=t,nt(d),l=d;break e;case"link":var E=v_("link","href",f).get(l+(s.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(b,1);break t}}d=f.createElement(l),ln(d,l,s),f.head.appendChild(d);break;case"meta":if(E=v_("meta","content",f).get(l+(s.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(b,1);break t}}d=f.createElement(l),ln(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[ne]=t,nt(d),l=d}t.stateNode=l}else __(f,t.type,t.stateNode);else t.stateNode=y_(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?__(f,t.type,t.stateNode):y_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,s.memoizedProps)}break;case 27:jn(i,t),Hn(t),l&512&&(Mt||s===null||Kr(s,s.return)),s!==null&&l&4&&Sd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(jn(i,t),Hn(t),l&512&&(Mt||s===null||Kr(s,s.return)),t.flags&32){f=t.stateNode;try{tr(f,"")}catch(W){wt(t,t.return,W)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Sd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(Id=!0);break;case 6:if(jn(i,t),Hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(W){wt(t,t.return,W)}}break;case 3:if(qc=null,f=Er,Er=jc(i.containerInfo),jn(i,t),Er=f,Hn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Kl(i.containerInfo)}catch(W){wt(t,t.return,W)}Id&&(Id=!1,Av(t));break;case 4:l=Er,Er=jc(t.stateNode.containerInfo),jn(i,t),Hn(t),Er=l;break;case 12:jn(i,t),Hn(t);break;case 13:jn(i,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Vd=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cd(t,l)));break;case 22:f=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,G=Si,J=Mt;if(Si=G||f,Mt=J||C,jn(i,t),Mt=J,Si=G,Hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||C||Si||Mt||cs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=C.stateNode;var re=C.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(W){wt(C,C.return,W)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(W){wt(C,C.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Cd(t,s))));break;case 19:jn(i,t),Hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cd(t,l)));break;case 30:break;case 21:break;default:jn(i,t),Hn(t)}}function Hn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(yv(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Ad(t);Cc(t,d,f);break;case 5:var E=s.stateNode;s.flags&32&&(tr(E,""),s.flags&=-33);var b=Ad(t);Cc(t,b,E);break;case 3:case 4:var C=s.stateNode.containerInfo,G=Ad(t);Rd(t,G,C);break;default:throw Error(a(161))}}catch(J){wt(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Av(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ev(t,i.alternate,i),i=i.sibling}function cs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Zi(4,i,i.return),cs(i);break;case 1:Kr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&pv(i,i.return,s),cs(i);break;case 27:Ul(i.stateNode);case 26:case 5:Kr(i,i.return),cs(i);break;case 22:i.memoizedState===null&&cs(i);break;case 30:cs(i);break;default:cs(i)}t=t.sibling}}function ea(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:ea(f,d,s),Cl(4,d);break;case 1:if(ea(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){wt(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)ey(C[f],b)}catch(G){wt(l,l.return,G)}}s&&E&64&&mv(d),Dl(d,d.return);break;case 27:vv(d);case 26:case 5:ea(f,d,s),s&&l===null&&E&4&&gv(d),Dl(d,d.return);break;case 12:ea(f,d,s);break;case 13:ea(f,d,s),s&&E&4&&bv(f,d);break;case 22:d.memoizedState===null&&ea(f,d,s),Dl(d,d.return);break;case 30:break;default:ea(f,d,s)}i=i.sibling}}function Dd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ml(s))}function Od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t))}function Yr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rv(t,i,s,l),i=i.sibling}function Rv(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Yr(t,i,s,l),f&2048&&Cl(9,i);break;case 1:Yr(t,i,s,l);break;case 3:Yr(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t)));break;case 12:if(f&2048){Yr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){wt(i,i.return,C)}}else Yr(t,i,s,l);break;case 13:Yr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?Yr(t,i,s,l):Ol(t,i):d._visibility&2?Yr(t,i,s,l):(d._visibility|=2,ao(t,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&Dd(E,i);break;case 24:Yr(t,i,s,l),f&2048&&Od(i.alternate,i);break;default:Yr(t,i,s,l)}}function ao(t,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,b=s,C=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:ao(d,E,b,C,f),Cl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ao(d,E,b,C,f):Ol(d,E):(J._visibility|=2,ao(d,E,b,C,f)),f&&G&2048&&Dd(E.alternate,E);break;case 24:ao(d,E,b,C,f),f&&G&2048&&Od(E.alternate,E);break;default:ao(d,E,b,C,f)}i=i.sibling}}function Ol(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:Ol(s,l),f&2048&&Dd(l.alternate,l);break;case 24:Ol(s,l),f&2048&&Od(l.alternate,l);break;default:Ol(s,l)}i=i.sibling}}var Nl=8192;function so(t){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)Iv(t),t=t.sibling}function Iv(t){switch(t.tag){case 26:so(t),t.flags&Nl&&t.memoizedState!==null&&uS(Er,t.memoizedState,t.memoizedProps);break;case 5:so(t);break;case 3:case 4:var i=Er;Er=jc(t.stateNode.containerInfo),so(t),Er=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Nl,Nl=16777216,so(t),Nl=i):so(t));break;default:so(t)}}function Cv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Jt=l,Ov(l,t)}Cv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dv(t),t=t.sibling}function Dv(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Dc(t)):Ml(t);break;default:Ml(t)}}function Dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Jt=l,Ov(l,t)}Cv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Zi(8,i,i.return),Dc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Dc(i));break;default:Dc(i)}t=t.sibling}}function Ov(t,i){for(;Jt!==null;){var s=Jt;switch(s.tag){case 0:case 11:case 15:Zi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Jt=l;else e:for(s=t;Jt!==null;){l=Jt;var f=l.sibling,d=l.return;if(Tv(l),l===s){Jt=null;break e}if(f!==null){f.return=d,Jt=f;break e}Jt=d}}}var A1={getCacheForType:function(t){var i=pn(Kt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},R1=typeof WeakMap=="function"?WeakMap:Map,mt=0,bt=null,Ze=null,at=0,pt=0,qn=null,ta=!1,oo=!1,Nd=!1,Ri=0,Ot=0,na=0,hs=0,Md=0,cr=0,lo=0,xl=null,xn=null,xd=!1,Vd=0,Oc=1/0,Nc=null,ra=null,on=0,ia=null,uo=null,co=0,Pd=0,Ld=null,Nv=null,Vl=0,kd=null;function Fn(){if((mt&2)!==0&&at!==0)return at&-at;if(X.T!==null){var t=Ws;return t!==0?t:Fd()}return N()}function Mv(){cr===0&&(cr=(at&536870912)===0||ct?si():536870912);var t=ur.current;return t!==null&&(t.flags|=32),cr}function Gn(t,i,s){(t===bt&&(pt===2||pt===9)||t.cancelPendingCommit!==null)&&(ho(t,0),aa(t,at,cr,!1)),yr(t,s),((mt&2)===0||t!==bt)&&(t===bt&&((mt&2)===0&&(hs|=s),Ot===4&&aa(t,at,cr,!1)),Qr(t))}function xv(t,i,s){if((mt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||Wn(t,i),f=l?D1(t,i):Bd(t,i,!0),d=l;do{if(f===0){oo&&!l&&aa(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!I1(s)){f=Bd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=t;f=xl;var C=b.current.memoizedState.isDehydrated;if(C&&(ho(b,E).flags|=256),E=Bd(b,E,!1),E!==2){if(Nd&&!C){b.errorRecoveryDisabledLanes|=d,hs|=d,f=4;break e}d=xn,xn=f,d!==null&&(xn===null?xn=d:xn.push.apply(xn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){ho(t,0),aa(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:aa(l,i,cr,!ta);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Vd+300-bn(),10<f)){if(aa(l,i,cr,!ta),ai(l,0,!0)!==0)break e;l.timeoutHandle=l_(Vv.bind(null,l,s,xn,Nc,xd,i,cr,hs,lo,ta,d,2,-0,0),f);break e}Vv(l,s,xn,Nc,xd,i,cr,hs,lo,ta,d,0,-0,0)}}break}while(!0);Qr(t)}function Vv(t,i,s,l,f,d,E,b,C,G,J,re,Y,W){if(t.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:lS},Iv(i),re=cS(),re!==null)){t.cancelPendingCommit=re(jv.bind(null,t,i,d,s,l,f,E,b,C,J,1,Y,W)),aa(t,d,E,!G);return}jv(t,i,d,s,l,f,E,b,C)}function I1(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!zn(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function aa(t,i,s,l){i&=~Md,i&=~hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-Lt(f),E=1<<d;l[d]=-1,f&=~E}s!==0&&Sn(t,s,i)}function Mc(){return(mt&6)===0?(Pl(0),!1):!0}function Ud(){if(Ze!==null){if(pt===0)var t=Ze.return;else t=Ze,vi=as=null,td(t),ro=null,Al=0,t=Ze;for(;t!==null;)dv(t.alternate,t),t=t.return;Ze=null}}function ho(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,G1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ud(),bt=t,Ze=s=pi(t.current,null),at=i,pt=0,qn=null,ta=!1,oo=Wn(t,i),Nd=!1,lo=cr=Md=hs=na=Ot=0,xn=xl=null,xd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Lt(l),d=1<<f;i|=t[f],l&=~d}return Ri=i,ec(),s}function Pv(t,i){Ke=null,X.H=_c,i===gl||i===uc?(i=Zg(),pt=3):i===$g?(i=Zg(),pt=4):pt=i===Jy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qn=i,Ze===null&&(Ot=1,Sc(t,ar(i,t.current)))}function Lv(){var t=X.H;return X.H=_c,t===null?_c:t}function kv(){var t=X.A;return X.A=A1,t}function zd(){Ot=4,ta||(at&4194048)!==at&&ur.current!==null||(oo=!0),(na&134217727)===0&&(hs&134217727)===0||bt===null||aa(bt,at,cr,!1)}function Bd(t,i,s){var l=mt;mt|=2;var f=Lv(),d=kv();(bt!==t||at!==i)&&(Nc=null,ho(t,i)),i=!1;var E=Ot;e:do try{if(pt!==0&&Ze!==null){var b=Ze,C=qn;switch(pt){case 8:Ud(),E=6;break e;case 3:case 2:case 9:case 6:ur.current===null&&(i=!0);var G=pt;if(pt=0,qn=null,fo(t,b,C,G),s&&oo){E=0;break e}break;default:G=pt,pt=0,qn=null,fo(t,b,C,G)}}C1(),E=Ot;break}catch(J){Pv(t,J)}while(!0);return i&&t.shellSuspendCounter++,vi=as=null,mt=l,X.H=f,X.A=d,Ze===null&&(bt=null,at=0,ec()),E}function C1(){for(;Ze!==null;)Uv(Ze)}function D1(t,i){var s=mt;mt|=2;var l=Lv(),f=kv();bt!==t||at!==i?(Nc=null,Oc=bn()+500,ho(t,i)):oo=Wn(t,i);e:do try{if(pt!==0&&Ze!==null){i=Ze;var d=qn;t:switch(pt){case 1:pt=0,qn=null,fo(t,i,d,1);break;case 2:case 9:if(Xg(d)){pt=0,qn=null,zv(i);break}i=function(){pt!==2&&pt!==9||bt!==t||(pt=7),Qr(t)},d.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Xg(d)?(pt=0,qn=null,zv(i)):(pt=0,qn=null,fo(t,i,d,7));break;case 5:var E=null;switch(Ze.tag){case 26:E=Ze.memoizedState;case 5:case 27:var b=Ze;if(!E||E_(E)){pt=0,qn=null;var C=b.sibling;if(C!==null)Ze=C;else{var G=b.return;G!==null?(Ze=G,xc(G)):Ze=null}break t}}pt=0,qn=null,fo(t,i,d,5);break;case 6:pt=0,qn=null,fo(t,i,d,6);break;case 8:Ud(),Ot=6;break e;default:throw Error(a(462))}}O1();break}catch(J){Pv(t,J)}while(!0);return vi=as=null,X.H=l,X.A=f,mt=s,Ze!==null?0:(bt=null,at=0,ec(),Ot)}function O1(){for(;Ze!==null&&!Ua();)Uv(Ze)}function Uv(t){var i=hv(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,i===null?xc(t):Ze=i}function zv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=av(s,i,i.pendingProps,i.type,void 0,at);break;case 11:i=av(s,i,i.pendingProps,i.type.render,i.ref,at);break;case 5:td(i);default:dv(s,i),i=Ze=Bg(i,Ri),i=hv(s,i,Ri)}t.memoizedProps=t.pendingProps,i===null?xc(t):Ze=i}function fo(t,i,s,l){vi=as=null,td(i),ro=null,Al=0;var f=i.return;try{if(_1(t,f,i,s,at)){Ot=1,Sc(t,ar(s,t.current)),Ze=null;return}}catch(d){if(f!==null)throw Ze=f,d;Ot=1,Sc(t,ar(s,t.current)),Ze=null;return}i.flags&32768?(ct||l===1?t=!0:oo||(at&536870912)!==0?t=!1:(ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=ur.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bv(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){Bv(i,ta);return}t=i.return;var s=T1(i.alternate,i,Ri);if(s!==null){Ze=s;return}if(i=i.sibling,i!==null){Ze=i;return}Ze=i=t}while(i!==null);Ot===0&&(Ot=5)}function Bv(t,i){do{var s=w1(t.alternate,t);if(s!==null){s.flags&=32767,Ze=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ze=t;return}Ze=t=s}while(t!==null);Ot=6,Ze=null}function jv(t,i,s,l,f,d,E,b,C){t.cancelPendingCommit=null;do Vc();while(on!==0);if((mt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Of,Bi(t,s,d,E,b,C),t===bt&&(Ze=bt=null,at=0),uo=i,ia=t,co=s,Pd=d,Ld=f,Nv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,V1(ii,function(){return Kv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ce.p,ce.p=2,E=mt,mt|=4;try{b1(t,i,s)}finally{mt=E,ce.p=f,X.T=l}}on=1,Hv(),qv(),Fv()}}function Hv(){if(on===1){on=0;var t=ia,i=uo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ce.p;ce.p=2;var f=mt;mt|=4;try{Sv(i,t);var d=Zd,E=Og(t.containerInfo),b=d.focusedElem,C=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&Dg(b.ownerDocument.documentElement,b)){if(C!==null&&Af(b)){var G=C.start,J=C.end;if(J===void 0&&(J=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(J,b.value.length);else{var re=b.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),Le=b.textContent.length,Ne=Math.min(C.start,Le),Et=C.end===void 0?Ne:Math.min(C.end,Le);!W.extend&&Ne>Et&&(E=Et,Et=Ne,Ne=E);var U=Cg(b,Ne),P=Cg(b,Et);if(U&&P&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==P.node||W.focusOffset!==P.offset)){var H=re.createRange();H.setStart(U.node,U.offset),W.removeAllRanges(),Ne>Et?(W.addRange(H),W.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),W.addRange(H))}}}}for(re=[],W=b;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<re.length;b++){var ee=re[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Kc=!!Wd,Zd=Wd=null}finally{mt=f,ce.p=l,X.T=s}}t.current=i,on=2}}function qv(){if(on===2){on=0;var t=ia,i=uo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ce.p;ce.p=2;var f=mt;mt|=4;try{Ev(t,i.alternate,i)}finally{mt=f,ce.p=l,X.T=s}}on=3}}function Fv(){if(on===4||on===3){on=0,Ms();var t=ia,i=uo,s=co,l=Nv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?on=5:(on=0,uo=ia=null,Gv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ra=null),ji(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=ce.p,ce.p=2,X.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{X.T=i,ce.p=f}}(co&3)!==0&&Vc(),Qr(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===kd?Vl++:(Vl=0,kd=t):Vl=0,Pl(0)}}function Gv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ml(i)))}function Vc(t){return Hv(),qv(),Fv(),Kv()}function Kv(){if(on!==5)return!1;var t=ia,i=Pd;Pd=0;var s=ji(co),l=X.T,f=ce.p;try{ce.p=32>s?32:s,X.T=null,s=Ld,Ld=null;var d=ia,E=co;if(on=0,uo=ia=null,co=0,(mt&6)!==0)throw Error(a(331));var b=mt;if(mt|=4,Dv(d.current),Rv(d,d.current,E,s),mt=b,Pl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ce.p=f,X.T=l,Gv(t,i)}}function Yv(t,i,s){i=ar(s,i),i=pd(t.stateNode,i,2),t=Qi(t,i,2),t!==null&&(yr(t,2),Qr(t))}function wt(t,i,s){if(t.tag===3)Yv(t,t,s);else for(;i!==null;){if(i.tag===3){Yv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ra===null||!ra.has(l))){t=ar(s,t),s=Wy(2),l=Qi(i,s,2),l!==null&&(Zy(s,l,i,t),yr(l,2),Qr(l));break}}i=i.return}}function jd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new R1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(Nd=!0,f.add(s),t=N1.bind(null,t,i,s),i.then(t,t))}function N1(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,bt===t&&(at&s)===s&&(Ot===4||Ot===3&&(at&62914560)===at&&300>bn()-Vd?(mt&2)===0&&ho(t,0):Md|=s,lo===at&&(lo=0)),Qr(t)}function Qv(t,i){i===0&&(i=Ba()),t=Ys(t,i),t!==null&&(yr(t,i),Qr(t))}function M1(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Qv(t,s)}function x1(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Qv(t,s)}function V1(t,i){return ri(t,i)}var Pc=null,mo=null,Hd=!1,Lc=!1,qd=!1,fs=0;function Qr(t){t!==mo&&t.next===null&&(mo===null?Pc=mo=t:mo=mo.next=t),Lc=!0,Hd||(Hd=!0,L1())}function Pl(t,i){if(!qd&&Lc){qd=!0;do for(var s=!1,l=Pc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Lt(42|t)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Zv(l,d))}else d=at,d=ai(l,l===bt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(s=!0,Zv(l,d));l=l.next}while(s);qd=!1}}function P1(){$v()}function $v(){Lc=Hd=!1;var t=0;fs!==0&&(F1()&&(t=fs),fs=0);for(var i=bn(),s=null,l=Pc;l!==null;){var f=l.next,d=Xv(l,i);d===0?(l.next=null,s===null?Pc=f:s.next=f,f===null&&(mo=s)):(s=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=f}Pl(t)}function Xv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Lt(d),b=1<<E,C=f[E];C===-1?((b&s)===0||(b&l)!==0)&&(f[E]=zi(b,i)):C<=i&&(t.expiredLanes|=b),d&=~b}if(i=bt,s=at,s=ai(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(pt===2||pt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Wn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&wn(l),ji(s)){case 2:case 8:s=Li;break;case 32:s=ii;break;case 268435456:s=$n;break;default:s=ii}return l=Wv.bind(null,t),s=ri(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&wn(l),t.callbackPriority=2,t.callbackNode=null,2}function Wv(t,i){if(on!==0&&on!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Vc()&&t.callbackNode!==s)return null;var l=at;return l=ai(t,t===bt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xv(t,l,i),Xv(t,bn()),t.callbackNode!=null&&t.callbackNode===s?Wv.bind(null,t):null)}function Zv(t,i){if(Vc())return null;xv(t,i,!0)}function L1(){K1(function(){(mt&6)!==0?ri(za,P1):$v()})}function Fd(){return fs===0&&(fs=si()),fs}function Jv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ps(""+t)}function e_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function k1(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=Jv((f[le]||null).action),E=l.submitter;E&&(i=(i=E[le]||null)?Jv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var b=new Ls("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fs!==0){var C=E?e_(f,E):new FormData(f);cd(s,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=E?e_(f,E):new FormData(f),cd(s,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Gd=0;Gd<Df.length;Gd++){var Kd=Df[Gd],U1=Kd.toLowerCase(),z1=Kd[0].toUpperCase()+Kd.slice(1);_r(U1,"on"+z1)}_r(xg,"onAnimationEnd"),_r(Vg,"onAnimationIteration"),_r(Pg,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(n1,"onTransitionRun"),_r(r1,"onTransitionStart"),_r(i1,"onTransitionCancel"),_r(Lg,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function t_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var b=l[E],C=b.instance,G=b.currentTarget;if(b=b.listener,C!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=G;try{d(f)}catch(J){bc(J)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(b=l[E],C=b.instance,G=b.currentTarget,b=b.listener,C!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=G;try{d(f)}catch(J){bc(J)}f.currentTarget=null,d=C}}}}function Je(t,i){var s=i[De];s===void 0&&(s=i[De]=new Set);var l=t+"__bubble";s.has(l)||(n_(i,t,2,!1),s.add(l))}function Yd(t,i,s){var l=0;i&&(l|=4),n_(s,t,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[kc]){t[kc]=!0,Qe.forEach(function(s){s!=="selectionchange"&&(B1.has(s)||Yd(s,!1,t),Yd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[kc]||(i[kc]=!0,Yd("selectionchange",!1,i))}}function n_(t,i,s,l){switch(R_(i)){case 2:var f=dS;break;case 8:f=mS;break;default:f=lm}s=f.bind(null,i,s,t),f=void 0,!rr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function $d(t,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Me(b),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}b=b.parentNode}}l=l.return}zu(function(){var G=d,J=nr(s),re=[];e:{var Y=kg.get(t);if(Y!==void 0){var W=Ls,Le=t;switch(t){case"keypress":if(zr(s)===0)break e;case"keydown":case"keyup":W=Hs;break;case"focusin":Le="focus",W=zs;break;case"focusout":Le="blur",W=zs;break;case"beforeblur":case"afterblur":W=zs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Yu;break;case xg:case Vg:case Pg:W=Bs;break;case Lg:W=$u;break;case"scroll":case"scrollend":W=Bu;break;case"wheel":W=qs;break;case"copy":case"cut":case"paste":W=js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=sl;break;case"toggle":case"beforetoggle":W=Wu}var Ne=(i&4)!==0,Et=!Ne&&(t==="scroll"||t==="scrollend"),U=Ne?Y!==null?Y+"Capture":null:Y;Ne=[];for(var P=G,H;P!==null;){var ee=P;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||U===null||(ee=Ga(P,U),ee!=null&&Ne.push(kl(P,ee,H))),Et)break;P=P.return}0<Ne.length&&(Y=new W(Y,Le,null,s,J),re.push({event:Y,listeners:Ne}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",Y&&s!==ui&&(Le=s.relatedTarget||s.fromElement)&&(Me(Le)||Le[ye]))break e;if((W||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(Le=s.relatedTarget||s.toElement,W=G,Le=Le?Me(Le):null,Le!==null&&(Et=u(Le),Ne=Le.tag,Le!==Et||Ne!==5&&Ne!==27&&Ne!==6)&&(Le=null)):(W=null,Le=G),W!==Le)){if(Ne=ir,ee="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=sl,ee="onPointerLeave",U="onPointerEnter",P="pointer"),Et=W==null?Y:ht(W),H=Le==null?Y:ht(Le),Y=new Ne(ee,P+"leave",W,s,J),Y.target=Et,Y.relatedTarget=H,ee=null,Me(J)===G&&(Ne=new Ne(U,P+"enter",Le,s,J),Ne.target=H,Ne.relatedTarget=Et,ee=Ne),Et=ee,W&&Le)t:{for(Ne=W,U=Le,P=0,H=Ne;H;H=po(H))P++;for(H=0,ee=U;ee;ee=po(ee))H++;for(;0<P-H;)Ne=po(Ne),P--;for(;0<H-P;)U=po(U),H--;for(;P--;){if(Ne===U||U!==null&&Ne===U.alternate)break t;Ne=po(Ne),U=po(U)}Ne=null}else Ne=null;W!==null&&r_(re,Y,W,Ne,!1),Le!==null&&Et!==null&&r_(re,Et,Le,Ne,!0)}}e:{if(Y=G?ht(G):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Te=wg;else if(Gt(Y))if(bg)Te=Jb;else{Te=Wb;var $e=Xb}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Jo(G.elementType)&&(Te=wg):Te=Zb;if(Te&&(Te=Te(t,G))){mi(re,Te,s,J);break e}$e&&$e(t,Y,G),t==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&qi(Y,"number",Y.value)}switch($e=G?ht(G):window,t){case"focusin":(Gt($e)||$e.contentEditable==="true")&&(Fs=$e,Rf=G,ul=null);break;case"focusout":ul=Rf=Fs=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Ng(re,s,J);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":Ng(re,s,J)}var Re;if(Hr)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else rt?Z(t,s)&&(xe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(xe="onCompositionStart");xe&&(_&&s.locale!=="ko"&&(rt||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&rt&&(Re=tl()):(Ur=J,Fi="value"in Ur?Ur.value:Ur.textContent,rt=!0)),$e=Uc(G,xe),0<$e.length&&(xe=new il(xe,t,null,s,J),re.push({event:xe,listeners:$e}),Re?xe.data=Re:(Re=me(s),Re!==null&&(xe.data=Re)))),(Re=y?Ft(t,s):it(t,s))&&(xe=Uc(G,"onBeforeInput"),0<xe.length&&($e=new il("onBeforeInput","beforeinput",null,s,J),re.push({event:$e,listeners:xe}),$e.data=Re)),k1(re,t,G,s,J)}t_(re,i)})}function kl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Uc(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ga(t,s),f!=null&&l.unshift(kl(t,f,d)),f=Ga(t,i),f!=null&&l.push(kl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r_(t,i,s,l,f){for(var d=i._reactName,E=[];s!==null&&s!==l;){var b=s,C=b.alternate,G=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||G===null||(C=G,f?(G=Ga(s,d),G!=null&&E.unshift(kl(s,G,C))):f||(G=Ga(s,d),G!=null&&E.push(kl(s,G,C)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var j1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace(j1,`
`).replace(H1,"")}function a_(t,i){return i=i_(i),i_(t)===i}function zc(){}function _t(t,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||tr(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&tr(t,""+l);break;case"className":Rn(t,"class",l);break;case"tabIndex":Rn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(t,s,l);break;case"style":Zo(t,l,d);break;case"data":if(i!=="object"){Rn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ps(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&_t(t,i,"name",f.name,f,null),_t(t,i,"formEncType",f.formEncType,f,null),_t(t,i,"formMethod",f.formMethod,f,null),_t(t,i,"formTarget",f.formTarget,f,null)):(_t(t,i,"encType",f.encType,f,null),_t(t,i,"method",f.method,f,null),_t(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ps(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=zc);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ps(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Je("beforetoggle",t),Je("toggle",t),mn(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_f.get(s)||s,mn(t,s,l))}}function Xd(t,i,s,l,f,d){switch(s){case"style":Zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?tr(t,l):(typeof l=="number"||typeof l=="bigint")&&tr(t,""+l);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=t[le]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):mn(t,s,l)}}}function ln(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,d,E,s,null)}}f&&_t(t,i,"srcSet",s.srcSet,s,null),l&&_t(t,i,"src",s.src,s,null);return;case"input":Je("invalid",t);var b=d=E=f=null,C=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":f=J;break;case"type":E=J;break;case"checked":C=J;break;case"defaultChecked":G=J;break;case"value":d=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:_t(t,i,l,J,s,null)}}Ha(t,d,b,C,G,E,f,!1),Vs(t);return;case"select":Je("invalid",t),l=E=d=null;for(f in s)if(s.hasOwnProperty(f)&&(b=s[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:_t(t,i,f,b,s,null)}i=d,s=E,t.multiple=!!l,i!=null?li(t,!!l,i,!1):s!=null&&li(t,!!l,s,!0);return;case"textarea":Je("invalid",t),d=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(b=s[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:_t(t,i,E,b,s,null)}qa(t,l,f,d),Vs(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:_t(t,i,C,l,s,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Je(Ll[l],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,G,l,s,null)}return;default:if(Jo(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Xd(t,i,J,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&_t(t,i,b,l,s,null))}function q1(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,C=null,G=null,J=null;for(W in s){var re=s[W];if(s.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":C=re;default:l.hasOwnProperty(W)||_t(t,i,W,null,l,re)}}for(var Y in l){var W=l[Y];if(re=s[Y],l.hasOwnProperty(Y)&&(W!=null||re!=null))switch(Y){case"type":d=W;break;case"name":f=W;break;case"checked":G=W;break;case"defaultChecked":J=W;break;case"value":E=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:W!==re&&_t(t,i,Y,W,l,re)}}Un(t,E,b,C,G,J,d,f);return;case"select":W=E=b=Y=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":W=C;default:l.hasOwnProperty(d)||_t(t,i,d,null,l,C)}for(f in l)if(d=l[f],C=s[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":Y=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==C&&_t(t,i,f,d,l,C)}i=b,s=E,l=W,Y!=null?li(t,!!s,Y,!1):!!l!=!!s&&(i!=null?li(t,!!s,i,!0):li(t,!!s,s?[]:"",!1));return;case"textarea":W=Y=null;for(b in s)if(f=s[b],s.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:_t(t,i,b,null,l,f)}for(E in l)if(f=l[E],d=s[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&_t(t,i,E,f,l,d)}yt(t,Y,W);return;case"option":for(var Le in s)if(Y=s[Le],s.hasOwnProperty(Le)&&Y!=null&&!l.hasOwnProperty(Le))switch(Le){case"selected":t.selected=!1;break;default:_t(t,i,Le,null,l,Y)}for(C in l)if(Y=l[C],W=s[C],l.hasOwnProperty(C)&&Y!==W&&(Y!=null||W!=null))switch(C){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:_t(t,i,C,Y,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in s)Y=s[Ne],s.hasOwnProperty(Ne)&&Y!=null&&!l.hasOwnProperty(Ne)&&_t(t,i,Ne,null,l,Y);for(G in l)if(Y=l[G],W=s[G],l.hasOwnProperty(G)&&Y!==W&&(Y!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:_t(t,i,G,Y,l,W)}return;default:if(Jo(i)){for(var Et in s)Y=s[Et],s.hasOwnProperty(Et)&&Y!==void 0&&!l.hasOwnProperty(Et)&&Xd(t,i,Et,void 0,l,Y);for(J in l)Y=l[J],W=s[J],!l.hasOwnProperty(J)||Y===W||Y===void 0&&W===void 0||Xd(t,i,J,Y,l,W);return}}for(var U in s)Y=s[U],s.hasOwnProperty(U)&&Y!=null&&!l.hasOwnProperty(U)&&_t(t,i,U,null,l,Y);for(re in l)Y=l[re],W=s[re],!l.hasOwnProperty(re)||Y===W||Y==null&&W==null||_t(t,i,re,Y,l,W)}var Wd=null,Zd=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Jd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var em=null;function F1(){var t=window.event;return t&&t.type==="popstate"?t===em?!1:(em=t,!0):(em=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(Y1)}:l_;function Y1(t){setTimeout(function(){throw t})}function sa(t){return t==="head"}function c_(t,i){var s=i,l=0,f=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&Ul(E.documentElement),s&2&&Ul(E.body),s&4)for(s=E.head,Ul(s),E=s.firstChild;E;){var b=E.nextSibling,C=E.nodeName;E[Oe]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=b}}if(f===0){t.removeChild(d),Kl(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Kl(i)}function tm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":tm(s),be(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Q1(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Oe])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Tr(t.nextSibling),t===null)break}return null}function $1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Tr(t.nextSibling),t===null))return null;return t}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function X1(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Tr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var rm=null;function h_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function f_(t,i,s){switch(i=Bc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);be(t)}var hr=new Map,d_=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=ce.d;ce.d={f:W1,r:Z1,D:J1,C:eS,L:tS,m:nS,X:iS,S:rS,M:aS};function W1(){var t=Ii.f(),i=Mc();return t||i}function Z1(t){var i=We(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):Ii.r(t)}var go=typeof document>"u"?null:document;function m_(t,i,s){var l=go;if(l&&typeof i=="string"&&i){var f=Ut(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),d_.has(f)||(d_.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),ln(i,"link",t),nt(i),l.head.appendChild(i)))}}function J1(t){Ii.D(t),m_("dns-prefetch",t,null)}function eS(t,i){Ii.C(t,i),m_("preconnect",t,i)}function tS(t,i,s){Ii.L(t,i,s);var l=go;if(l&&t&&i){var f='link[rel="preload"][as="'+Ut(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ut(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ut(s.imageSizes)+'"]')):f+='[href="'+Ut(t)+'"]';var d=f;switch(i){case"style":d=yo(t);break;case"script":d=vo(t)}hr.has(d)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),hr.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(zl(d))||i==="script"&&l.querySelector(Bl(d))||(i=l.createElement("link"),ln(i,"link",t),nt(i),l.head.appendChild(i)))}}function nS(t,i){Ii.m(t,i);var s=go;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(t)}if(!hr.has(d)&&(t=v({rel:"modulepreload",href:t},i),hr.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bl(d)))return}l=s.createElement("link"),ln(l,"link",t),nt(l),s.head.appendChild(l)}}}function rS(t,i,s){Ii.S(t,i,s);var l=go;if(l&&t){var f=ot(l).hoistableStyles,d=yo(t);i=i||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(zl(d)))b.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=hr.get(d))&&im(t,s);var C=E=l.createElement("link");nt(C),ln(C,"link",t),C._p=new Promise(function(G,J){C.onload=G,C.onerror=J}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Hc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function iS(t,i){Ii.X(t,i);var s=go;if(s&&t){var l=ot(s).hoistableScripts,f=vo(t),d=l.get(f);d||(d=s.querySelector(Bl(f)),d||(t=v({src:t,async:!0},i),(i=hr.get(f))&&am(t,i),d=s.createElement("script"),nt(d),ln(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function aS(t,i){Ii.M(t,i);var s=go;if(s&&t){var l=ot(s).hoistableScripts,f=vo(t),d=l.get(f);d||(d=s.querySelector(Bl(f)),d||(t=v({src:t,async:!0,type:"module"},i),(i=hr.get(f))&&am(t,i),d=s.createElement("script"),nt(d),ln(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function p_(t,i,s,l){var f=(f=Ie.current)?jc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=yo(s.href),s=ot(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=yo(s.href);var d=ot(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(zl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),hr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},hr.set(t,s),d||sS(f,t,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vo(s),s=ot(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function yo(t){return'href="'+Ut(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function sS(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ln(i,"link",s),nt(i),t.head.appendChild(i))}function vo(t){return'[src="'+Ut(t)+'"]'}function Bl(t){return"script[async]"+t}function y_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(s.href)+'"]');if(l)return i.instance=l,nt(l),l;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),ln(l,"style",f),Hc(l,s.precedence,t),i.instance=l;case"stylesheet":f=yo(s.href);var d=t.querySelector(zl(f));if(d)return i.state.loading|=4,i.instance=d,nt(d),d;l=g_(s),(f=hr.get(f))&&im(l,f),d=(t.ownerDocument||t).createElement("link"),nt(d);var E=d;return E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),ln(d,"link",l),i.state.loading|=4,Hc(d,s.precedence,t),i.instance=d;case"script":return d=vo(s.src),(f=t.querySelector(Bl(d)))?(i.instance=f,nt(f),f):(l=s,(f=hr.get(d))&&(l=v({},s),am(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),nt(f),ln(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,s.precedence,t));return i.instance}function Hc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qc=null;function v_(t,i,s){if(qc===null){var l=new Map,f=qc=new Map;f.set(s,l)}else f=qc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[Oe]||d[ne]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function __(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function oS(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var jl=null;function lS(){}function uS(t,i,s){if(jl===null)throw Error(a(475));var l=jl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=yo(s.href),d=t.querySelector(zl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,s=g_(s),(f=hr.get(f))&&im(s,f),d=d.createElement("link"),nt(d);var E=d;E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),ln(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Fc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function cS(){if(jl===null)throw Error(a(475));var t=jl;return t.stylesheets&&t.count===0&&sm(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&sm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)sm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function sm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(hS,t),Gc=null,Fc.call(t))}function hS(t,i){if(!(i.state.loading&4)){var s=Gc.get(t);if(s)var l=s.get(null);else{s=new Map,Gc.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=s.get(E)||l,d===l&&s.set(null,f),s.set(E,f),this.count++,l=Fc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Hl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function fS(t,i,s,l,f,d,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function T_(t,i,s,l,f,d,E,b,C,G,J,re){return t=new fS(t,i,s,E,b,C,G,re),i=1,d===!0&&(i|=24),d=Bn(3,null,null,i),t.current=d,d.stateNode=t,i=jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Gf(d),t}function w_(t){return t?(t=Qs,t):Qs}function b_(t,i,s,l,f,d){f=w_(f),l.context===null?l.context=f:l.pendingContext=f,l=Yi(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Qi(t,l,i),s!==null&&(Gn(s,t,i),vl(s,t,i))}function S_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function om(t,i){S_(t,i),(t=t.alternate)&&S_(t,i)}function A_(t){if(t.tag===13){var i=Ys(t,67108864);i!==null&&Gn(i,t,67108864),om(t,67108864)}}var Kc=!0;function dS(t,i,s,l){var f=X.T;X.T=null;var d=ce.p;try{ce.p=2,lm(t,i,s,l)}finally{ce.p=d,X.T=f}}function mS(t,i,s,l){var f=X.T;X.T=null;var d=ce.p;try{ce.p=8,lm(t,i,s,l)}finally{ce.p=d,X.T=f}}function lm(t,i,s,l){if(Kc){var f=um(l);if(f===null)$d(t,i,l,Yc,s),I_(t,l);else if(gS(f,t,i,s,l))l.stopPropagation();else if(I_(t,l),i&4&&-1<pS.indexOf(t)){for(;f!==null;){var d=We(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Pn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var C=1<<31-Lt(E);b.entanglements[1]|=C,E&=~C}Qr(d),(mt&6)===0&&(Oc=bn()+500,Pl(0))}}break;case 13:b=Ys(d,2),b!==null&&Gn(b,d,2),Mc(),om(d,2)}if(d=um(l),d===null&&$d(t,i,l,Yc,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else $d(t,i,l,null,s)}}function um(t){return t=nr(t),cm(t)}var Yc=null;function cm(t){if(Yc=null,t=Me(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Yc=t,null}function R_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($o()){case za:return 2;case Li:return 8;case ii:case gr:return 32;case $n:return 268435456;default:return 32}default:return 32}}var hm=!1,oa=null,la=null,ua=null,ql=new Map,Fl=new Map,ca=[],pS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(t,i){switch(t){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Gl(t,i,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=We(i),i!==null&&A_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function gS(t,i,s,l,f){switch(i){case"focusin":return oa=Gl(oa,t,i,s,l,f),!0;case"dragenter":return la=Gl(la,t,i,s,l,f),!0;case"mouseover":return ua=Gl(ua,t,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return ql.set(d,Gl(ql.get(d)||null,t,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fl.set(d,Gl(Fl.get(d)||null,t,i,s,l,f)),!0}return!1}function C_(t){var i=Me(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,z(t.priority,function(){if(s.tag===13){var l=Fn();l=Vr(l);var f=Ys(s,l);f!==null&&Gn(f,s,l),om(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=um(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ui=l,s.target.dispatchEvent(l),ui=null}else return i=We(s),i!==null&&A_(i),t.blockedOn=s,!1;i.shift()}return!0}function D_(t,i,s){Qc(t)&&s.delete(i)}function yS(){hm=!1,oa!==null&&Qc(oa)&&(oa=null),la!==null&&Qc(la)&&(la=null),ua!==null&&Qc(ua)&&(ua=null),ql.forEach(D_),Fl.forEach(D_)}function $c(t,i){t.blockedOn===i&&(t.blockedOn=null,hm||(hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yS)))}var Xc=null;function O_(t){Xc!==t&&(Xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(cm(l||s)===null)continue;break}var d=We(s);d!==null&&(t.splice(i,3),i-=3,cd(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Kl(t){function i(C){return $c(C,t)}oa!==null&&$c(oa,t),la!==null&&$c(la,t),ua!==null&&$c(ua,t),ql.forEach(i),Fl.forEach(i);for(var s=0;s<ca.length;s++){var l=ca[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ca.length&&(s=ca[0],s.blockedOn===null);)C_(s),s.blockedOn===null&&ca.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],E=f[le]||null;if(typeof d=="function")E||O_(s);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[le]||null)b=E.formAction;else if(cm(f)!==null)continue}else b=E.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),O_(s)}}}function fm(t){this._internalRoot=t}Wc.prototype.render=fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Fn();b_(s,l,t,i,null,null)},Wc.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;b_(t.current,2,null,t,null,null),Mc(),i[ye]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=N();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ca.length&&i!==0&&i<ca[s].priority;s++);ca.splice(s,0,t),s===0&&C_(t)}};var N_=e.version;if(N_!=="19.1.0")throw Error(a(527,N_,"19.1.0"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var vS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{ut=Zc.inject(vS),Ge=Zc}catch{}}return Ql.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=Yy,d=Qy,E=$y,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=T_(t,1,!1,null,null,s,l,f,d,E,b,null),t[ye]=i.current,Qd(t),new fm(i)},Ql.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=Yy,E=Qy,b=$y,C=null,G=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(G=s.formState)),i=T_(t,1,!0,i,s??null,l,f,d,E,b,C,G),i.context=w_(null),s=i.current,l=Fn(),l=Vr(l),f=Yi(l),f.callback=null,Qi(s,f,l),s=l,i.current.lanes=s,yr(i,s),Qr(i),t[ye]=i.current,Qd(t),new Wc(i)},Ql.version="19.1.0",Ql}var j_;function DS(){if(j_)return pm.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=CS(),pm.exports}var OS=DS(),$l={},H_;function NS(){if(H_)return $l;H_=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.parse=h,$l.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,I){const M=new u,$=T.length;if($<2)return M;const K=(I==null?void 0:I.decode)||v;let F=0;do{const ue=T.indexOf("=",F);if(ue===-1)break;const ie=T.indexOf(";",F),pe=ie===-1?$:ie;if(ue>pe){F=T.lastIndexOf(";",ue-1)+1;continue}const de=m(T,F,ue),B=p(T,ue,de),x=T.slice(de,B);if(M[x]===void 0){let A=m(T,ue+1,pe),R=p(T,pe,A);const V=K(T.slice(A,R));M[x]=V}F=pe+1}while(F<$);return M}function m(T,I,M){do{const $=T.charCodeAt(I);if($!==32&&$!==9)return I}while(++I<M);return M}function p(T,I,M){for(;I>M;){const $=T.charCodeAt(--I);if($!==32&&$!==9)return I+1}return M}function g(T,I,M){const $=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const K=$(I);if(!e.test(K))throw new TypeError(`argument val is invalid: ${I}`);let F=T+"="+K;if(!M)return F;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);F+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);F+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);F+="; Path="+M.path}if(M.expires){if(!w(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);F+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(F+="; HttpOnly"),M.secure&&(F+="; Secure"),M.partitioned&&(F+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return F}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return o.call(T)==="[object Date]"}return $l}NS();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KE=r=>{throw TypeError(r)},MS=(r,e,n)=>e.has(r)||KE("Cannot "+n),_m=(r,e,n)=>(MS(r,e,"read from private field"),n?n.call(r):e.get(r)),xS=(r,e,n)=>e.has(r)?KE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),q_="popstate";function VS(r={}){function e(a,o){let{pathname:u,search:h,hash:m}=a.location;return du("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Ra(o)}return LS(e,n,null,r)}function Xe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PS(){return Math.random().toString(36).substring(2,10)}function F_(r,e){return{usr:r.state,key:r.key,idx:e}}function du(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Va(e):e,state:n,key:e&&e.key||a||PS()}}function Ra({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Va(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function LS(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function w(){m="POP";let K=v(),F=K==null?null:K-g;g=K,p&&p({action:m,location:$.location,delta:F})}function T(K,F){m="PUSH";let ue=du($.location,K,F);g=v()+1;let ie=F_(ue,g),pe=$.createHref(ue);try{h.pushState(ie,"",pe)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(pe)}u&&p&&p({action:m,location:$.location,delta:1})}function I(K,F){m="REPLACE";let ue=du($.location,K,F);g=v();let ie=F_(ue,g),pe=$.createHref(ue);h.replaceState(ie,"",pe),u&&p&&p({action:m,location:$.location,delta:0})}function M(K){return YE(K)}let $={get action(){return m},get location(){return r(o,h)},listen(K){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(q_,w),p=K,()=>{o.removeEventListener(q_,w),p=null}},createHref(K){return e(o,K)},createURL:M,encodeLocation(K){let F=M(K);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:I,go(K){return h.go(K)}};return $}function YE(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Ra(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var Jl,G_=class{constructor(r){if(xS(this,Jl,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(_m(this,Jl).has(r))return _m(this,Jl).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){_m(this,Jl).set(r,e)}};Jl=new WeakMap;var kS=new Set(["lazy","caseSensitive","path","id","index","children"]);function US(r){return kS.has(r)}var zS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function BS(r){return zS.has(r)}function jS(r){return r.index===!0}function Eh(r,e,n=[],a={}){return r.map((o,u)=>{let h=[...n,String(u)],m=typeof o.id=="string"?o.id:h.join("-");if(Xe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Xe(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),jS(o)){let p={...o,...e(o),id:m};return a[m]=p,p}else{let p={...o,...e(o),id:m,children:void 0};return a[m]=p,o.children&&(p.children=Eh(o.children,e,h,a)),p}})}function ma(r,e,n="/"){return oh(r,e,n,!1)}function oh(r,e,n,a){let o=typeof e=="string"?Va(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let h=QE(r);qS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=eA(u);m=ZS(h[p],g,a)}return m}function HS(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function QE(r,e=[],n=[],a=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Xe(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Xr([a,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),QE(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:XS(g,u.index),routesMeta:v})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of $E(u.path))o(u,h,p)}),e}function $E(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=$E(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function qS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:WS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var FS=/^:[\w-]+$/,GS=3,KS=2,YS=1,QS=10,$S=-2,K_=r=>r==="*";function XS(r,e){let n=r.split("/"),a=n.length;return n.some(K_)&&(a+=$S),e&&(a+=KS),n.filter(o=>!K_(o)).reduce((o,u)=>o+(FS.test(u)?GS:u===""?YS:QS),a)}function WS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function ZS(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",w=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),T=p.route;if(!w&&g&&n&&!a[a.length-1].route.index&&(w=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:Xr([u,w.pathname]),pathnameBase:rA(Xr([u,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(u=Xr([u,w.pathnameBase]))}return h}function Th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=JS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:w},T)=>{if(v==="*"){let M=m[T]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const I=m[T];return w&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function JS(r,e=!1,n=!0){Vt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function eA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function tA(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Va(r):r;return{pathname:n?n.startsWith("/")?n:nA(n,e):e,search:iA(a),hash:aA(o)}}function nA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Em(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kh(r){let e=XE(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Yh(r,e,n,a=!1){let o;typeof r=="string"?o=Va(r):(o={...r},Xe(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let w=e.length-1;if(!a&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}m=w>=0?e[w]:"/"}let p=tA(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Xr=r=>r.join("/").replace(/\/\/+/g,"/"),rA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),iA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,aA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,wh=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function mu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var WE=["POST","PUT","PATCH","DELETE"],sA=new Set(WE),oA=["GET",...WE],lA=new Set(oA),uA=new Set([301,302,303,307,308]),cA=new Set([307,308]),Tm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fA=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),ZE="remix-router-transitions",JE=Symbol("ResetLoaderData");function dA(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||fA,u={},h=Eh(r.routes,o,void 0,u),m,p=r.basename||"/",g=r.dataStrategy||vA,v={unstable_middleware:!1,...r.future},w=null,T=new Set,I=null,M=null,$=null,K=r.hydrationData!=null,F=ma(h,r.history.location,p),ue=!1,ie=null,pe;if(F==null&&!r.patchRoutesOnNavigation){let N=fr(404,{pathname:r.history.location.pathname}),{matches:z,route:q}=i0(h);pe=!0,F=z,ie={[q.id]:N}}else if(F&&!r.hydrationData&&Sn(F,h,r.history.location.pathname).active&&(F=null),F)if(F.some(N=>N.route.lazy))pe=!1;else if(!F.some(N=>N.route.loader))pe=!0;else{let N=r.hydrationData?r.hydrationData.loaderData:null,z=r.hydrationData?r.hydrationData.errors:null;if(z){let q=F.findIndex(ne=>z[ne.route.id]!==void 0);pe=F.slice(0,q+1).every(ne=>!km(ne.route,N,z))}else pe=F.every(q=>!km(q.route,N,z))}else{pe=!1,F=[];let N=Sn(null,h,r.history.location.pathname);N.active&&N.matches&&(ue=!0,F=N.matches)}let de,B={historyAction:r.history.action,location:r.history.location,matches:F,initialized:pe,navigation:Tm,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ie,fetchers:new Map,blockers:new Map},x="POP",A=!1,R,V=!1,L=new Map,k=null,D=!1,ze=!1,He=new Set,X=new Map,ce=0,ge=-1,ke=new Map,O=new Set,te=new Map,he=new Map,oe=new Set,Se=new Map,qe,Ie=null;function Pt(){if(w=r.history.listen(({action:N,location:z,delta:q})=>{if(qe){qe(),qe=void 0;return}Vt(Se.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=zi({currentLocation:B.location,nextLocation:z,historyAction:N});if(ne&&q!=null){let le=new Promise(ye=>{qe=ye});r.history.go(q*-1),Wn(ne,{state:"blocked",location:z,proceed(){Wn(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),le.then(()=>r.history.go(q))},reset(){let ye=new Map(B.blockers);ye.set(ne,Xl),At({blockers:ye})}});return}return wn(N,z)}),n){DA(e,L);let N=()=>OA(e,L);e.addEventListener("pagehide",N),k=()=>e.removeEventListener("pagehide",N)}return B.initialized||wn("POP",B.location,{initialHydration:!0}),de}function gt(){w&&w(),k&&k(),T.clear(),R&&R.abort(),B.fetchers.forEach((N,z)=>Lt(z)),B.blockers.forEach((N,z)=>ai(z))}function Qn(N){return T.add(N),()=>T.delete(N)}function At(N,z={}){B={...B,...N};let q=[],ne=[];B.fetchers.forEach((le,ye)=>{le.state==="idle"&&(oe.has(ye)?q.push(ye):ne.push(ye))}),oe.forEach(le=>{!B.fetchers.has(le)&&!X.has(le)&&q.push(le)}),[...T].forEach(le=>le(B,{deletedFetchers:q,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),q.forEach(le=>Lt(le)),ne.forEach(le=>B.fetchers.delete(le))}function fn(N,z,{flushSync:q}={}){var Ae,Oe;let ne=B.actionData!=null&&B.navigation.formMethod!=null&&Yn(B.navigation.formMethod)&&B.navigation.state==="loading"&&((Ae=N.state)==null?void 0:Ae._isRedirect)!==!0,le;z.actionData?Object.keys(z.actionData).length>0?le=z.actionData:le=null:ne?le=B.actionData:le=null;let ye=z.loaderData?n0(B.loaderData,z.loaderData,z.matches||[],z.errors):B.loaderData,De=B.blockers;De.size>0&&(De=new Map(De),De.forEach((be,Me)=>De.set(Me,Xl)));let _e=A===!0||B.navigation.formMethod!=null&&Yn(B.navigation.formMethod)&&((Oe=N.state)==null?void 0:Oe._isRedirect)!==!0;m&&(h=m,m=void 0),D||x==="POP"||(x==="PUSH"?r.history.push(N,N.state):x==="REPLACE"&&r.history.replace(N,N.state));let we;if(x==="POP"){let be=L.get(B.location.pathname);be&&be.has(N.pathname)?we={currentLocation:B.location,nextLocation:N}:L.has(N.pathname)&&(we={currentLocation:N,nextLocation:B.location})}else if(V){let be=L.get(B.location.pathname);be?be.add(N.pathname):(be=new Set([N.pathname]),L.set(B.location.pathname,be)),we={currentLocation:B.location,nextLocation:N}}At({...z,actionData:le,loaderData:ye,historyAction:x,location:N,initialized:!0,navigation:Tm,revalidation:"idle",restoreScrollPosition:Bi(N,z.matches||B.matches),preventScrollReset:_e,blockers:De},{viewTransitionOpts:we,flushSync:q===!0}),x="POP",A=!1,V=!1,D=!1,ze=!1,Ie==null||Ie.resolve(),Ie=null}async function Dr(N,z){if(typeof N=="number"){r.history.go(N);return}let q=Lm(B.location,B.matches,p,N,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:ne,submission:le,error:ye}=Y_(!1,q,z),De=B.location,_e=du(B.location,ne,z&&z.state);_e={..._e,...r.history.encodeLocation(_e)};let we=z&&z.replace!=null?z.replace:void 0,Ae="PUSH";we===!0?Ae="REPLACE":we===!1||le!=null&&Yn(le.formMethod)&&le.formAction===B.location.pathname+B.location.search&&(Ae="REPLACE");let Oe=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,be=(z&&z.flushSync)===!0,Me=zi({currentLocation:De,nextLocation:_e,historyAction:Ae});if(Me){Wn(Me,{state:"blocked",location:_e,proceed(){Wn(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Dr(N,z)},reset(){let We=new Map(B.blockers);We.set(Me,Xl),At({blockers:We})}});return}await wn(Ae,_e,{submission:le,pendingError:ye,preventScrollReset:Oe,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:be})}function ri(){Ie||(Ie=NA()),Ui(),At({revalidation:"loading"});let N=Ie.promise;return B.navigation.state==="submitting"?N:B.navigation.state==="idle"?(wn(B.historyAction,B.location,{startUninterruptedRevalidation:!0}),N):(wn(x||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:V===!0}),N)}async function wn(N,z,q){R&&R.abort(),R=null,x=N,D=(q&&q.startUninterruptedRevalidation)===!0,yr(B.location,B.matches),A=(q&&q.preventScrollReset)===!0,V=(q&&q.enableViewTransition)===!0;let ne=m||h,le=q&&q.overrideNavigation,ye=q!=null&&q.initialHydration&&B.matches&&B.matches.length>0&&!ue?B.matches:ma(ne,z,p),De=(q&&q.flushSync)===!0;if(ye&&B.initialized&&!ze&&SA(B.location,z)&&!(q&&q.submission&&Yn(q.submission.formMethod))){fn(z,{matches:ye},{flushSync:De});return}let _e=Sn(ye,ne,z.pathname);if(_e.active&&_e.matches&&(ye=_e.matches),!ye){let{error:ot,notFoundMatches:nt,route:Qe}=si(z.pathname);fn(z,{matches:nt,loaderData:{},errors:{[Qe.id]:ot}},{flushSync:De});return}R=new AbortController;let we=_o(r.history,z,R.signal,q&&q.submission),Ae=new G_(r.unstable_getContext?await r.unstable_getContext():void 0),Oe;if(q&&q.pendingError)Oe=[ms(ye).route.id,{type:"error",error:q.pendingError}];else if(q&&q.submission&&Yn(q.submission.formMethod)){let ot=await Ua(we,z,q.submission,ye,Ae,_e.active,q&&q.initialHydration===!0,{replace:q.replace,flushSync:De});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[nt,Qe]=ot.pendingActionResult;if(Kn(Qe)&&mu(Qe.error)&&Qe.error.status===404){R=null,fn(z,{matches:ot.matches,loaderData:{},errors:{[nt]:Qe.error}});return}}ye=ot.matches||ye,Oe=ot.pendingActionResult,le=wm(z,q.submission),De=!1,_e.active=!1,we=_o(r.history,we.url,we.signal)}let{shortCircuited:be,matches:Me,loaderData:We,errors:ht}=await Ms(we,z,ye,Ae,_e.active,le,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,De,Oe);be||(R=null,fn(z,{matches:Me||ye,...r0(Oe),loaderData:We,errors:ht}))}async function Ua(N,z,q,ne,le,ye,De,_e={}){Ui();let we=IA(z,q);if(At({navigation:we},{flushSync:_e.flushSync===!0}),ye){let be=await xr(ne,z.pathname,N.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let Me=ms(be.partialMatches).route.id;return{matches:be.partialMatches,pendingActionResult:[Me,{type:"error",error:be.error}]}}else if(be.matches)ne=be.matches;else{let{notFoundMatches:Me,error:We,route:ht}=si(z.pathname);return{matches:Me,pendingActionResult:[ht.id,{type:"error",error:We}]}}}let Ae,Oe=eu(ne,z);if(!Oe.route.action&&!Oe.route.lazy)Ae={type:"error",error:fr(405,{method:N.method,pathname:z.pathname,routeId:Oe.route.id})};else{let be=Ao(o,u,N,ne,Oe,De?[]:a,le),Me=await $n(N,be,le,null);if(Ae=Me[Oe.route.id],!Ae){for(let We of ne)if(Me[We.route.id]){Ae=Me[We.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(ps(Ae)){let be;return _e&&_e.replace!=null?be=_e.replace:be=J_(Ae.response.headers.get("Location"),new URL(N.url),p)===B.location.pathname+B.location.search,await gr(N,Ae,!0,{submission:q,replace:be}),{shortCircuited:!0}}if(Kn(Ae)){let be=ms(ne,Oe.route.id);return(_e&&_e.replace)!==!0&&(x="PUSH"),{matches:ne,pendingActionResult:[be.route.id,Ae,Oe.route.id]}}return{matches:ne,pendingActionResult:[Oe.route.id,Ae]}}async function Ms(N,z,q,ne,le,ye,De,_e,we,Ae,Oe,be){let Me=ye||wm(z,De),We=De||_e||s0(Me),ht=!D&&!Ae;if(le){if(ht){let kt=bn(be);At({navigation:Me,...kt!==void 0?{actionData:kt}:{}},{flushSync:Oe})}let Ue=await xr(q,z.pathname,N.signal);if(Ue.type==="aborted")return{shortCircuited:!0};if(Ue.type==="error"){let kt=ms(Ue.partialMatches).route.id;return{matches:Ue.partialMatches,loaderData:{},errors:{[kt]:Ue.error}}}else if(Ue.matches)q=Ue.matches;else{let{error:kt,notFoundMatches:kn,route:On}=si(z.pathname);return{matches:kn,loaderData:{},errors:{[On.id]:kt}}}}let ot=m||h,{dsMatches:nt,revalidatingFetchers:Qe}=Q_(N,ne,o,u,r.history,B,q,We,z,Ae?[]:a,Ae===!0,ze,He,oe,te,O,ot,p,r.patchRoutesOnNavigation!=null,be);if(ge=++ce,!r.dataStrategy&&!nt.some(Ue=>Ue.shouldLoad)&&Qe.length===0){let Ue=Nr();return fn(z,{matches:q,loaderData:{},errors:be&&Kn(be[1])?{[be[0]]:be[1].error}:null,...r0(be),...Ue?{fetchers:new Map(B.fetchers)}:{}},{flushSync:Oe}),{shortCircuited:!0}}if(ht){let Ue={};if(!le){Ue.navigation=Me;let kt=bn(be);kt!==void 0&&(Ue.actionData=kt)}Qe.length>0&&(Ue.fetchers=$o(Qe)),At(Ue,{flushSync:Oe})}Qe.forEach(Ue=>{Xn(Ue.key),Ue.controller&&X.set(Ue.key,Ue.controller)});let Jn=()=>Qe.forEach(Ue=>Xn(Ue.key));R&&R.signal.addEventListener("abort",Jn);let{loaderResults:qt,fetcherResults:An}=await ki(nt,Qe,N,ne);if(N.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Jn),Qe.forEach(Ue=>X.delete(Ue.key));let nn=Jc(qt);if(nn)return await gr(N,nn.result,!0,{replace:we}),{shortCircuited:!0};if(nn=Jc(An),nn)return O.add(nn.key),await gr(N,nn.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Pr,errors:Ln}=t0(B,q,qt,be,Qe,An);Ae&&B.errors&&(Ln={...B.errors,...Ln});let Hi=Nr(),mn=Mr(ge),Rn=Hi||mn||Qe.length>0;return{matches:q,loaderData:Pr,errors:Ln,...Rn?{fetchers:new Map(B.fetchers)}:{}}}function bn(N){if(N&&!Kn(N[1]))return{[N[0]]:N[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function $o(N){return N.forEach(z=>{let q=B.fetchers.get(z.key),ne=Wl(void 0,q?q.data:void 0);B.fetchers.set(z.key,ne)}),new Map(B.fetchers)}async function za(N,z,q,ne){Xn(N);let le=(ne&&ne.flushSync)===!0,ye=m||h,De=Lm(B.location,B.matches,p,q,z,ne==null?void 0:ne.relative),_e=ma(ye,De,p),we=Sn(_e,ye,De);if(we.active&&we.matches&&(_e=we.matches),!_e){Ge(N,z,fr(404,{pathname:De}),{flushSync:le});return}let{path:Ae,submission:Oe,error:be}=Y_(!0,De,ne);if(be){Ge(N,z,be,{flushSync:le});return}let Me=eu(_e,Ae),We=new G_(r.unstable_getContext?await r.unstable_getContext():void 0),ht=(ne&&ne.preventScrollReset)===!0;if(Oe&&Yn(Oe.formMethod)){await Li(N,z,Ae,Me,_e,We,we.active,le,ht,Oe);return}te.set(N,{routeId:z,path:Ae}),await ii(N,z,Ae,Me,_e,We,we.active,le,ht,Oe)}async function Li(N,z,q,ne,le,ye,De,_e,we,Ae){Ui(),te.delete(N);function Oe(Tt){if(!Tt.route.action&&!Tt.route.lazy){let er=fr(405,{method:Ae.formMethod,pathname:q,routeId:z});return Ge(N,z,er,{flushSync:_e}),!0}return!1}if(!De&&Oe(ne))return;let be=B.fetchers.get(N);ut(N,CA(Ae,be),{flushSync:_e});let Me=new AbortController,We=_o(r.history,q,Me.signal,Ae);if(De){let Tt=await xr(le,q,We.signal,N);if(Tt.type==="aborted")return;if(Tt.type==="error"){Ge(N,z,Tt.error,{flushSync:_e});return}else if(Tt.matches){if(le=Tt.matches,ne=eu(le,q),Oe(ne))return}else{Ge(N,z,fr(404,{pathname:q}),{flushSync:_e});return}}X.set(N,Me);let ht=ce,ot=Ao(o,u,We,le,ne,a,ye),Qe=(await $n(We,ot,ye,N))[ne.route.id];if(We.signal.aborted){X.get(N)===Me&&X.delete(N);return}if(oe.has(N)){if(ps(Qe)||Kn(Qe)){ut(N,da(void 0));return}}else{if(ps(Qe))if(X.delete(N),ge>ht){ut(N,da(void 0));return}else return O.add(N),ut(N,Wl(Ae)),gr(We,Qe,!1,{fetcherSubmission:Ae,preventScrollReset:we});if(Kn(Qe)){Ge(N,z,Qe.error);return}}let Jn=B.navigation.location||B.location,qt=_o(r.history,Jn,Me.signal),An=m||h,nn=B.navigation.state!=="idle"?ma(An,B.navigation.location,p):B.matches;Xe(nn,"Didn't find any matches after fetcher action");let Pr=++ce;ke.set(N,Pr);let Ln=Wl(Ae,Qe.data);B.fetchers.set(N,Ln);let{dsMatches:Hi,revalidatingFetchers:mn}=Q_(qt,ye,o,u,r.history,B,nn,Ae,Jn,a,!1,ze,He,oe,te,O,An,p,r.patchRoutesOnNavigation!=null,[ne.route.id,Qe]);mn.filter(Tt=>Tt.key!==N).forEach(Tt=>{let er=Tt.key,oi=B.fetchers.get(er),rn=Wl(void 0,oi?oi.data:void 0);B.fetchers.set(er,rn),Xn(er),Tt.controller&&X.set(er,Tt.controller)}),At({fetchers:new Map(B.fetchers)});let Rn=()=>mn.forEach(Tt=>Xn(Tt.key));Me.signal.addEventListener("abort",Rn);let{loaderResults:Ue,fetcherResults:kt}=await ki(Hi,mn,qt,ye);if(Me.signal.aborted)return;if(Me.signal.removeEventListener("abort",Rn),ke.delete(N),X.delete(N),mn.forEach(Tt=>X.delete(Tt.key)),B.fetchers.has(N)){let Tt=da(Qe.data);B.fetchers.set(N,Tt)}let kn=Jc(Ue);if(kn)return gr(qt,kn.result,!1,{preventScrollReset:we});if(kn=Jc(kt),kn)return O.add(kn.key),gr(qt,kn.result,!1,{preventScrollReset:we});let{loaderData:On,errors:Lr}=t0(B,nn,Ue,void 0,mn,kt);Mr(Pr),B.navigation.state==="loading"&&Pr>ge?(Xe(x,"Expected pending action"),R&&R.abort(),fn(B.navigation.location,{matches:nn,loaderData:On,errors:Lr,fetchers:new Map(B.fetchers)})):(At({errors:Lr,loaderData:n0(B.loaderData,On,nn,Lr),fetchers:new Map(B.fetchers)}),ze=!1)}async function ii(N,z,q,ne,le,ye,De,_e,we,Ae){let Oe=B.fetchers.get(N);ut(N,Wl(Ae,Oe?Oe.data:void 0),{flushSync:_e});let be=new AbortController,Me=_o(r.history,q,be.signal);if(De){let Qe=await xr(le,q,Me.signal,N);if(Qe.type==="aborted")return;if(Qe.type==="error"){Ge(N,z,Qe.error,{flushSync:_e});return}else if(Qe.matches)le=Qe.matches,ne=eu(le,q);else{Ge(N,z,fr(404,{pathname:q}),{flushSync:_e});return}}X.set(N,be);let We=ce,ht=Ao(o,u,Me,le,ne,a,ye),nt=(await $n(Me,ht,ye,N))[ne.route.id];if(X.get(N)===be&&X.delete(N),!Me.signal.aborted){if(oe.has(N)){ut(N,da(void 0));return}if(ps(nt))if(ge>We){ut(N,da(void 0));return}else{O.add(N),await gr(Me,nt,!1,{preventScrollReset:we});return}if(Kn(nt)){Ge(N,z,nt.error);return}ut(N,da(nt.data))}}async function gr(N,z,q,{submission:ne,fetcherSubmission:le,preventScrollReset:ye,replace:De}={}){z.response.headers.has("X-Remix-Revalidate")&&(ze=!0);let _e=z.response.headers.get("Location");Xe(_e,"Expected a Location header on the redirect Response"),_e=J_(_e,new URL(N.url),p);let we=du(B.location,_e,{_isRedirect:!0});if(n){let ht=!1;if(z.response.headers.has("X-Remix-Reload-Document"))ht=!0;else if(dp.test(_e)){const ot=YE(_e,!0);ht=ot.origin!==e.location.origin||pr(ot.pathname,p)==null}if(ht){De?e.location.replace(_e):e.location.assign(_e);return}}R=null;let Ae=De===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:be,formEncType:Me}=B.navigation;!ne&&!le&&Oe&&be&&Me&&(ne=s0(B.navigation));let We=ne||le;if(cA.has(z.response.status)&&We&&Yn(We.formMethod))await wn(Ae,we,{submission:{...We,formAction:_e},preventScrollReset:ye||A,enableViewTransition:q?V:void 0});else{let ht=wm(we,ne);await wn(Ae,we,{overrideNavigation:ht,fetcherSubmission:le,preventScrollReset:ye||A,enableViewTransition:q?V:void 0})}}async function $n(N,z,q,ne){let le,ye={};try{le=await _A(g,N,z,ne,q,!1)}catch(De){return z.filter(_e=>_e.shouldLoad).forEach(_e=>{ye[_e.route.id]={type:"error",error:De}}),ye}if(N.signal.aborted)return ye;for(let[De,_e]of Object.entries(le))if(AA(_e)){let we=_e.result;ye[De]={type:"redirect",response:wA(we,N,De,z,p)}}else ye[De]=await TA(_e);return ye}async function ki(N,z,q,ne){let le=$n(q,N,ne,null),ye=Promise.all(z.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let Oe=(await $n(we.request,we.matches,ne,we.key))[we.match.route.id];return{[we.key]:Oe}}else return Promise.resolve({[we.key]:{type:"error",error:fr(404,{pathname:we.path})}})})),De=await le,_e=(await ye).reduce((we,Ae)=>Object.assign(we,Ae),{});return{loaderResults:De,fetcherResults:_e}}function Ui(){ze=!0,te.forEach((N,z)=>{X.has(z)&&He.add(z),Xn(z)})}function ut(N,z,q={}){B.fetchers.set(N,z),At({fetchers:new Map(B.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function Ge(N,z,q,ne={}){let le=ms(B.matches,z);Lt(N),At({errors:{[le.route.id]:q},fetchers:new Map(B.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function dn(N){return he.set(N,(he.get(N)||0)+1),oe.has(N)&&oe.delete(N),B.fetchers.get(N)||hA}function Lt(N){let z=B.fetchers.get(N);X.has(N)&&!(z&&z.state==="loading"&&ke.has(N))&&Xn(N),te.delete(N),ke.delete(N),O.delete(N),oe.delete(N),He.delete(N),B.fetchers.delete(N)}function xs(N){let z=(he.get(N)||0)-1;z<=0?(he.delete(N),oe.add(N)):he.set(N,z),At({fetchers:new Map(B.fetchers)})}function Xn(N){let z=X.get(N);z&&(z.abort(),X.delete(N))}function Or(N){for(let z of N){let q=dn(z),ne=da(q.data);B.fetchers.set(z,ne)}}function Nr(){let N=[],z=!1;for(let q of O){let ne=B.fetchers.get(q);Xe(ne,`Expected fetcher: ${q}`),ne.state==="loading"&&(O.delete(q),N.push(q),z=!0)}return Or(N),z}function Mr(N){let z=[];for(let[q,ne]of ke)if(ne<N){let le=B.fetchers.get(q);Xe(le,`Expected fetcher: ${q}`),le.state==="loading"&&(Xn(q),ke.delete(q),z.push(q))}return Or(z),z.length>0}function Pn(N,z){let q=B.blockers.get(N)||Xl;return Se.get(N)!==z&&Se.set(N,z),q}function ai(N){B.blockers.delete(N),Se.delete(N)}function Wn(N,z){let q=B.blockers.get(N)||Xl;Xe(q.state==="unblocked"&&z.state==="blocked"||q.state==="blocked"&&z.state==="blocked"||q.state==="blocked"&&z.state==="proceeding"||q.state==="blocked"&&z.state==="unblocked"||q.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${q.state} -> ${z.state}`);let ne=new Map(B.blockers);ne.set(N,z),At({blockers:ne})}function zi({currentLocation:N,nextLocation:z,historyAction:q}){if(Se.size===0)return;Se.size>1&&Vt(!1,"A router only supports one blocker at a time");let ne=Array.from(Se.entries()),[le,ye]=ne[ne.length-1],De=B.blockers.get(le);if(!(De&&De.state==="proceeding")&&ye({currentLocation:N,nextLocation:z,historyAction:q}))return le}function si(N){let z=fr(404,{pathname:N}),q=m||h,{matches:ne,route:le}=i0(q);return{notFoundMatches:ne,route:le,error:z}}function Ba(N,z,q){if(I=N,$=z,M=q||null,!K&&B.navigation===Tm){K=!0;let ne=Bi(B.location,B.matches);ne!=null&&At({restoreScrollPosition:ne})}return()=>{I=null,$=null,M=null}}function Zn(N,z){return M&&M(N,z.map(ne=>HS(ne,B.loaderData)))||N.key}function yr(N,z){if(I&&$){let q=Zn(N,z);I[q]=$()}}function Bi(N,z){if(I){let q=Zn(N,z),ne=I[q];if(typeof ne=="number")return ne}return null}function Sn(N,z,q){if(r.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:oh(z,q,p,!0)}}else return{active:!0,matches:oh(z,q,p,!0)||[]};return{active:!1,matches:null}}async function xr(N,z,q,ne){if(!r.patchRoutesOnNavigation)return{type:"success",matches:N};let le=N;for(;;){let ye=m==null,De=m||h,_e=u;try{await r.patchRoutesOnNavigation({signal:q,path:z,matches:le,fetcherKey:ne,patch:(Oe,be)=>{q.aborted||$_(Oe,be,De,_e,o)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:le}}finally{ye&&!q.aborted&&(h=[...h])}if(q.aborted)return{type:"aborted"};let we=ma(De,z,p);if(we)return{type:"success",matches:we};let Ae=oh(De,z,p,!0);if(!Ae||le.length===Ae.length&&le.every((Oe,be)=>Oe.route.id===Ae[be].route.id))return{type:"success",matches:null};le=Ae}}function Vr(N){u={},m=Eh(N,o,void 0,u)}function ji(N,z){let q=m==null;$_(N,z,m||h,u,o),q&&(h=[...h],At({}))}return de={get basename(){return p},get future(){return v},get state(){return B},get routes(){return h},get window(){return e},initialize:Pt,subscribe:Qn,enableScrollRestoration:Ba,navigate:Dr,fetch:za,revalidate:ri,createHref:N=>r.history.createHref(N),encodeLocation:N=>r.history.encodeLocation(N),getFetcher:dn,deleteFetcher:xs,dispose:gt,getBlocker:Pn,deleteBlocker:ai,patchRoutes:ji,_internalFetchControllers:X,_internalSetRoutes:Vr},de}function mA(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Lm(r,e,n,a,o,u){let h,m;if(o){h=[];for(let g of e)if(h.push(g),g.route.id===o){m=g;break}}else h=e,m=e[e.length-1];let p=Yh(a||".",Kh(h),pr(r.pathname,n)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&m){let g=mp(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let v=new URLSearchParams(p.search),w=v.getAll("index");v.delete("index"),w.filter(I=>I).forEach(I=>v.append("index",I));let T=v.toString();p.search=T?`?${T}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Xr([n,p.pathname])),Ra(p)}function Y_(r,e,n){if(!n||!mA(n))return{path:e};if(n.formMethod&&!RA(n.formMethod))return{path:e,error:fr(405,{method:n.formMethod})};let a=()=>({path:e,error:fr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=aT(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Yn(u))return a();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((T,[I,M])=>`${T}${I}=${M}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!Yn(u))return a();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return a()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let m,p;if(n.formData)m=zm(n.formData),p=n.formData;else if(n.body instanceof FormData)m=zm(n.body),p=n.body;else if(n.body instanceof URLSearchParams)m=n.body,p=e0(m);else if(n.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(n.body),p=e0(m)}catch{return a()}let g={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Yn(g.formMethod))return{path:e,submission:g};let v=Va(e);return r&&v.search&&mp(v.search)&&m.append("index",""),v.search=`?${m}`,{path:Ra(v),submission:g}}function Q_(r,e,n,a,o,u,h,m,p,g,v,w,T,I,M,$,K,F,ue,ie){var D;let pe=ie?Kn(ie[1])?ie[1].error:ie[1].data:void 0,de=o.createURL(u.location),B=o.createURL(p),x;if(v&&u.errors){let ze=Object.keys(u.errors)[0];x=h.findIndex(He=>He.route.id===ze)}else if(ie&&Kn(ie[1])){let ze=ie[0];x=h.findIndex(He=>He.route.id===ze)-1}let A=ie?ie[1].statusCode:void 0,R=A&&A>=400,V={currentUrl:de,currentParams:((D=u.matches[0])==null?void 0:D.params)||{},nextUrl:B,nextParams:h[0].params,...m,actionResult:pe,actionStatus:A},L=h.map((ze,He)=>{let{route:X}=ze,ce=null;if(x!=null&&He>x?ce=!1:X.lazy?ce=!0:X.loader==null?ce=!1:v?ce=km(X,u.loaderData,u.errors):pA(u.loaderData,u.matches[He],ze)&&(ce=!0),ce!==null)return Um(n,a,r,ze,g,e,ce);let ge=R?!1:w||de.pathname+de.search===B.pathname+B.search||de.search!==B.search||gA(u.matches[He],ze),ke={...V,defaultShouldRevalidate:ge},O=bh(ze,ke);return Um(n,a,r,ze,g,e,O,ke)}),k=[];return M.forEach((ze,He)=>{if(v||!h.some(oe=>oe.route.id===ze.routeId)||I.has(He))return;let X=u.fetchers.get(He),ce=X&&X.state!=="idle"&&X.data===void 0,ge=ma(K,ze.path,F);if(!ge){if(ue&&ce)return;k.push({key:He,routeId:ze.routeId,path:ze.path,matches:null,match:null,request:null,controller:null});return}if($.has(He))return;let ke=eu(ge,ze.path),O=new AbortController,te=_o(o,ze.path,O.signal),he=null;if(T.has(He))T.delete(He),he=Ao(n,a,te,ge,ke,g,e);else if(ce)w&&(he=Ao(n,a,te,ge,ke,g,e));else{let oe={...V,defaultShouldRevalidate:R?!1:w};bh(ke,oe)&&(he=Ao(n,a,te,ge,ke,g,e,oe))}he&&k.push({key:He,routeId:ze.routeId,path:ze.path,matches:he,match:ke,request:te,controller:O})}),{dsMatches:L,revalidatingFetchers:k}}function km(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function pA(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function gA(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function bh(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function $_(r,e,n,a,o){let u;if(r){let p=a[r];Xe(p,`No route found to patch children into: routeId = ${r}`),p.children||(p.children=[]),u=p.children}else u=n;let h=e.filter(p=>!u.some(g=>eT(p,g))),m=Eh(h,o,[r||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...m)}function eT(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>eT(n,u))}):!1}var X_=new WeakMap,tT=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Xe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let h=X_.get(o);h||(h={},X_.set(o,h));let m=h[r];if(m)return m;let p=(async()=>{let g=US(r),w=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)Vt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),h[r]=Promise.resolve();else if(w)Vt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let T=await u();T!=null&&(Object.assign(o,{[r]:T}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(T=>T===void 0)&&(o.lazy=void 0))})();return h[r]=p,p},W_=new WeakMap;function yA(r,e,n,a,o){let u=n[r.id];if(Xe(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=W_.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let w=(async()=>{Xe(typeof r.lazy=="function","No lazy route function found");let T=await r.lazy(),I={};for(let M in T){let $=T[M];if($===void 0)continue;let K=BS(M),ue=u[M]!==void 0&&M!=="hasErrorBoundary";K?Vt(!K,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ue?Vt(!ue,`Route "${u.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):I[M]=$}Object.assign(u,I),Object.assign(u,{...a(u),lazy:void 0})})();return W_.set(u,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let h=Object.keys(r.lazy),m=[],p;for(let v of h){if(o&&o.includes(v))continue;let w=tT({key:v,route:r,manifest:n,mapRouteProperties:a});w&&(m.push(w),v===e&&(p=w))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function Z_(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function vA(r){return r.matches.some(e=>e.route.unstable_middleware)?nT(r,!1,()=>Z_(r),(e,n)=>({[n]:{type:"error",result:e}})):Z_(r)}async function nT(r,e,n,a){let{matches:o,request:u,params:h,context:m}=r,p={handlerResult:void 0};try{let g=o.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(T=>[w.route.id,T]):[]),v=await rT({request:u,params:h,context:m},g,e,p,n);return e?v:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let v=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,v):v}}async function rT(r,e,n,a,o,u=0){let{request:h}=r;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let m=e[u];if(!m)return a.handlerResult=await o(),a.handlerResult;let[p,g]=m,v=!1,w,T=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await rT(r,e,n,a,o,u+1)};try{let I=await g({request:r.request,params:r.params,context:r.context},T);return v?I===void 0?w:I:T()}catch(I){throw a.middlewareError?a.middlewareError.error!==I&&(a.middlewareError={routeId:p,error:I}):a.middlewareError={routeId:p,error:I},I}}function iT(r,e,n,a,o){let u=tT({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),h=yA(a.route,Yn(n.method)?"action":"loader",e,r,o);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function Um(r,e,n,a,o,u,h,m=null){let p=!1,g=iT(r,e,n,a,o);return{...a,_lazyPromises:g,shouldLoad:h,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(v){return p=!0,m?typeof v=="boolean"?bh(a,{...m,defaultShouldRevalidate:v}):bh(a,m):h},resolve(v){return p||h||v&&n.method==="GET"&&(a.route.lazy||a.route.loader)?EA({request:n,match:a,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Ao(r,e,n,a,o,u,h,m=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:iT(r,e,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Um(r,e,n,p,u,h,!0,m))}async function _A(r,e,n,a,o,u){n.some(g=>{var v;return(v=g._lazyPromises)==null?void 0:v.middleware})&&await Promise.all(n.map(g=>{var v;return(v=g._lazyPromises)==null?void 0:v.middleware}));let h={request:e,params:n[0].params,context:o,matches:n},p=await r({...h,fetcherKey:a,unstable_runClientMiddleware:g=>{let v=h;return nT(v,!1,()=>g({...v,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(w,T)=>({[T]:{type:"error",result:w}}))}});try{await Promise.all(n.flatMap(g=>{var v,w;return[(v=g._lazyPromises)==null?void 0:v.handler,(w=g._lazyPromises)==null?void 0:w.route]}))}catch{}return p}async function EA({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let h,m,p=Yn(r.method),g=p?"action":"loader",v=w=>{let T,I=new Promise((K,F)=>T=F);m=()=>T(),r.signal.addEventListener("abort",m);let M=K=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):w({request:r,params:e.params,context:u},...K!==void 0?[K]:[]),$=(async()=>{try{return{type:"data",result:await(o?o(F=>M(F)):M())}}catch(K){return{type:"error",result:K}}})();return Promise.race([$,I])};try{let w=p?e.route.action:e.route.loader;if(n||a)if(w){let T,[I]=await Promise.all([v(w).catch(M=>{T=M}),n,a]);if(T!==void 0)throw T;h=I}else{await n;let T=p?e.route.action:e.route.loader;if(T)[h]=await Promise.all([v(T),a]);else if(g==="action"){let I=new URL(r.url),M=I.pathname+I.search;throw fr(405,{method:r.method,pathname:M,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)h=await v(w);else{let T=new URL(r.url),I=T.pathname+T.search;throw fr(404,{pathname:I})}}catch(w){return{type:"error",result:w}}finally{m&&r.signal.removeEventListener("abort",m)}return h}async function TA(r){var a,o,u,h,m,p;let{result:e,type:n}=r;if(sT(e)){let g;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(v){return{type:"error",error:v}}return n==="error"?{type:"error",error:new wh(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return n==="error"?a0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new wh(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:mu(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:mu(e)?e.status:void 0}:a0(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function wA(r,e,n,a,o){let u=r.headers.get("Location");if(Xe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!dp.test(u)){let h=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=Lm(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function J_(r,e,n){if(dp.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=pr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function _o(r,e,n,a){let o=r.createURL(aT(e)).toString(),u={signal:n};if(a&&Yn(a.formMethod)){let{formMethod:h,formEncType:m}=a;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=zm(a.formData):u.body=a.formData}return new Request(o,u)}function zm(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function e0(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function bA(r,e,n,a=!1,o=!1){let u={},h=null,m,p=!1,g={},v=n&&Kn(n[1])?n[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in e))return;let T=w.route.id,I=e[T];if(Xe(!ps(I),"Cannot handle redirect results in processLoaderData"),Kn(I)){let M=I.error;if(v!==void 0&&(M=v,v=void 0),h=h||{},o)h[T]=M;else{let $=ms(r,T);h[$.route.id]==null&&(h[$.route.id]=M)}a||(u[T]=JE),p||(p=!0,m=mu(I.error)?I.error.status:500),I.headers&&(g[T]=I.headers)}else u[T]=I.data,I.statusCode&&I.statusCode!==200&&!p&&(m=I.statusCode),I.headers&&(g[T]=I.headers)}),v!==void 0&&n&&(h={[n[0]]:v},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:g}}function t0(r,e,n,a,o,u){let{loaderData:h,errors:m}=bA(e,n,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:v,controller:w}=p,T=u[g];if(Xe(T,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(Kn(T)){let I=ms(r.matches,v==null?void 0:v.route.id);m&&m[I.route.id]||(m={...m,[I.route.id]:T.error}),r.fetchers.delete(g)}else if(ps(T))Xe(!1,"Unhandled fetcher revalidation redirect");else{let I=da(T.data);r.fetchers.set(g,I)}}),{loaderData:h,errors:m}}function n0(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==JE).reduce((u,[h,m])=>(u[h]=m,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),a&&a.hasOwnProperty(h))break}return o}function r0(r){return r?Kn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function ms(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function i0(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let h="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(h="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(h="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(h="Not Found",m=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new wh(r||500,h,new Error(m),!0)}function Jc(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ps(o))return{key:a,result:o}}}function aT(r){let e=typeof r=="string"?Va(r):r;return Ra({...e,hash:""})}function SA(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function AA(r){return sT(r.result)&&uA.has(r.result.status)}function Kn(r){return r.type==="error"}function ps(r){return(r&&r.type)==="redirect"}function a0(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function sT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function RA(r){return lA.has(r.toUpperCase())}function Yn(r){return sA.has(r.toUpperCase())}function mp(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function eu(r,e){let n=typeof e=="string"?Va(e).search:e.search;if(r[r.length-1].route.index&&mp(n||""))return r[r.length-1];let a=XE(r);return a[a.length-1]}function s0(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:h}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:h,text:void 0}}}function wm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function IA(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Wl(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function CA(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function da(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function DA(r,e){try{let n=r.sessionStorage.getItem(ZE);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function OA(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(ZE,JSON.stringify(n))}catch(a){Vt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function NA(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Rs=Q.createContext(null);Rs.displayName="DataRouter";var Ru=Q.createContext(null);Ru.displayName="DataRouterState";var pp=Q.createContext({isTransitioning:!1});pp.displayName="ViewTransition";var oT=Q.createContext(new Map);oT.displayName="Fetchers";var MA=Q.createContext(null);MA.displayName="Await";var Cr=Q.createContext(null);Cr.displayName="Navigation";var Qh=Q.createContext(null);Qh.displayName="Location";var ni=Q.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var gp=Q.createContext(null);gp.displayName="RouteError";function xA(r,{relative:e}={}){Xe(zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Q.useContext(Cr),{hash:o,pathname:u,search:h}=Iu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xr([n,u])),a.createHref({pathname:m,search:h,hash:o})}function zo(){return Q.useContext(Qh)!=null}function Pa(){return Xe(zo(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Qh).location}var lT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uT(r){Q.useContext(Cr).static||Q.useLayoutEffect(r)}function yp(){let{isDataRoute:r}=Q.useContext(ni);return r?KA():VA()}function VA(){Xe(zo(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Rs),{basename:e,navigator:n}=Q.useContext(Cr),{matches:a}=Q.useContext(ni),{pathname:o}=Pa(),u=JSON.stringify(Kh(a)),h=Q.useRef(!1);return uT(()=>{h.current=!0}),Q.useCallback((p,g={})=>{if(Vt(h.current,lT),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=Yh(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Xr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}Q.createContext(null);function Iu(r,{relative:e}={}){let{matches:n}=Q.useContext(ni),{pathname:a}=Pa(),o=JSON.stringify(Kh(n));return Q.useMemo(()=>Yh(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function PA(r,e,n,a){Xe(zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(Cr),{matches:u}=Q.useContext(ni),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let F=v&&v.path||"";cT(p,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Pa(),T;T=w;let I=T.pathname||"/",M=I;if(g!=="/"){let F=g.replace(/^\//,"").split("/");M="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let $=ma(r,{pathname:M});return Vt(v||$!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Vt($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),BA($&&$.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Xr([g,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:Xr([g,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,a)}function LA(){let r=GA(),e=mu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,h)}var kA=Q.createElement(LA,null),UA=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(ni.Provider,{value:this.props.routeContext},Q.createElement(gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zA({routeContext:r,match:e,children:n}){let a=Q.useContext(Rs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(ni.Provider,{value:r},n)}function BA(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Xe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:w}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let w,T=!1,I=null,M=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||kA,h&&(m<0&&v===0?(cT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,M=null):m===v&&(T=!0,M=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,v+1)),K=()=>{let F;return w?F=I:T?F=M:g.route.Component?F=Q.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=p,Q.createElement(zA,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:F})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?Q.createElement(UA,{location:n.location,revalidation:n.revalidation,component:I,error:w,children:K(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):K()},null)}function vp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jA(r){let e=Q.useContext(Rs);return Xe(e,vp(r)),e}function HA(r){let e=Q.useContext(Ru);return Xe(e,vp(r)),e}function qA(r){let e=Q.useContext(ni);return Xe(e,vp(r)),e}function _p(r){let e=qA(r),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function FA(){return _p("useRouteId")}function GA(){var a;let r=Q.useContext(gp),e=HA("useRouteError"),n=_p("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function KA(){let{router:r}=jA("useNavigate"),e=_p("useNavigate"),n=Q.useRef(!1);return uT(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{Vt(n.current,lT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var o0={};function cT(r,e,n){!e&&!o0[r]&&(o0[r]=!0,Vt(!1,n))}var l0={};function u0(r,e){!r&&!l0[e]&&(l0[e]=!0,console.warn(e))}function YA(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Q.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Q.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Q.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var QA=["HydrateFallback","hydrateFallbackElement"],$A=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function XA({router:r,flushSync:e}){let[n,a]=Q.useState(r.state),[o,u]=Q.useState(),[h,m]=Q.useState({isTransitioning:!1}),[p,g]=Q.useState(),[v,w]=Q.useState(),[T,I]=Q.useState(),M=Q.useRef(new Map),$=Q.useCallback((ie,{deletedFetchers:pe,flushSync:de,viewTransitionOpts:B})=>{ie.fetchers.forEach((A,R)=>{A.data!==void 0&&M.current.set(R,A.data)}),pe.forEach(A=>M.current.delete(A)),u0(de===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(u0(B==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!x){e&&de?e(()=>a(ie)):Q.startTransition(()=>a(ie));return}if(e&&de){e(()=>{v&&(p&&p.resolve(),v.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let A=r.window.document.startViewTransition(()=>{e(()=>a(ie))});A.finished.finally(()=>{e(()=>{g(void 0),w(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>w(A));return}v?(p&&p.resolve(),v.skipTransition(),I({state:ie,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(u(ie),m({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[r.window,e,v,p]);Q.useLayoutEffect(()=>r.subscribe($),[r,$]),Q.useEffect(()=>{h.isTransitioning&&!h.flushSync&&g(new $A)},[h]),Q.useEffect(()=>{if(p&&o&&r.window){let ie=o,pe=p.promise,de=r.window.document.startViewTransition(async()=>{Q.startTransition(()=>a(ie)),await pe});de.finished.finally(()=>{g(void 0),w(void 0),u(void 0),m({isTransitioning:!1})}),w(de)}},[o,p,r.window]),Q.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,v,n.location,o]),Q.useEffect(()=>{!h.isTransitioning&&T&&(u(T.state),m({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),I(void 0))},[h.isTransitioning,T]);let K=Q.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ie=>r.navigate(ie),push:(ie,pe,de)=>r.navigate(ie,{state:pe,preventScrollReset:de==null?void 0:de.preventScrollReset}),replace:(ie,pe,de)=>r.navigate(ie,{replace:!0,state:pe,preventScrollReset:de==null?void 0:de.preventScrollReset})}),[r]),F=r.basename||"/",ue=Q.useMemo(()=>({router:r,navigator:K,static:!1,basename:F}),[r,K,F]);return Q.createElement(Q.Fragment,null,Q.createElement(Rs.Provider,{value:ue},Q.createElement(Ru.Provider,{value:n},Q.createElement(oT.Provider,{value:M.current},Q.createElement(pp.Provider,{value:h},Q.createElement(eR,{basename:F,location:n.location,navigationType:n.historyAction,navigator:K},Q.createElement(WA,{routes:r.routes,future:r.future,state:n})))))),null)}var WA=Q.memo(ZA);function ZA({routes:r,future:e,state:n}){return PA(r,void 0,n,e)}function JA({to:r,replace:e,state:n,relative:a}){Xe(zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(Cr);Vt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(ni),{pathname:h}=Pa(),m=yp(),p=Yh(r,Kh(u),h,a==="path"),g=JSON.stringify(p);return Q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function eR({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Xe(!zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Va(n));let{pathname:p="/",search:g="",hash:v="",state:w=null,key:T="default"}=n,I=Q.useMemo(()=>{let M=pr(p,h);return M==null?null:{location:{pathname:M,search:g,hash:v,state:w,key:T},navigationType:a}},[h,p,g,v,w,T,a]);return Vt(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:Q.createElement(Cr.Provider,{value:m},Q.createElement(Qh.Provider,{children:e,value:I}))}var lh="get",uh="application/x-www-form-urlencoded";function $h(r){return r!=null&&typeof r.tagName=="string"}function tR(r){return $h(r)&&r.tagName.toLowerCase()==="button"}function nR(r){return $h(r)&&r.tagName.toLowerCase()==="form"}function rR(r){return $h(r)&&r.tagName.toLowerCase()==="input"}function iR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function aR(r,e){return r.button===0&&(!e||e==="_self")&&!iR(r)}var eh=null;function sR(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var oR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(r){return r!=null&&!oR.has(r)?(Vt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function lR(r,e){let n,a,o,u,h;if(nR(r)){let m=r.getAttribute("action");a=m?pr(m,e):null,n=r.getAttribute("method")||lh,o=bm(r.getAttribute("enctype"))||uh,u=new FormData(r)}else if(tR(r)||rR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?pr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||lh,o=bm(r.getAttribute("formenctype"))||bm(m.getAttribute("enctype"))||uh,u=new FormData(m,r),!sR()){let{name:g,type:v,value:w}=r;if(v==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,w)}}else{if($h(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,a=null,o=uh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Ep(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function uR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function hR(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await uR(u,n);return h.links?h.links():[]}return[]}));return pR(a.flat(1).filter(cR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function c0(r,e,n,a,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function fR(r,e,{includeHydrateFallback:n}={}){return dR(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function dR(r){return[...new Set(r)]}function mR(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function pR(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(mR(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gR=new Set([100,101,204,205]);function yR(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&pr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function hT(){let r=Q.useContext(Rs);return Ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function vR(){let r=Q.useContext(Ru);return Ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Tp=Q.createContext(void 0);Tp.displayName="FrameworkContext";function fT(){let r=Q.useContext(Tp);return Ep(r,"You must render this element inside a <HydratedRouter> element"),r}function _R(r,e){let n=Q.useContext(Tp),[a,o]=Q.useState(!1),[u,h]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:w}=e,T=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=F=>{F.forEach(ue=>{h(ue.isIntersecting)})},K=new IntersectionObserver($,{threshold:.5});return T.current&&K.observe(T.current),()=>{K.disconnect()}}},[r]),Q.useEffect(()=>{if(a){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[a]);let I=()=>{o(!0)},M=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,T,{}]:[u,T,{onFocus:Zl(m,I),onBlur:Zl(p,M),onMouseEnter:Zl(g,I),onMouseLeave:Zl(v,M),onTouchStart:Zl(w,I)}]:[!1,T,{}]}function Zl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function ER({page:r,...e}){let{router:n}=hT(),a=Q.useMemo(()=>ma(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?Q.createElement(wR,{page:r,matches:a,...e}):null}function TR(r){let{manifest:e,routeModules:n}=fT(),[a,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return hR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),a}function wR({page:r,matches:e,...n}){let a=Pa(),{manifest:o,routeModules:u}=fT(),{basename:h}=hT(),{loaderData:m,matches:p}=vR(),g=Q.useMemo(()=>c0(r,e,p,o,a,"data"),[r,e,p,o,a]),v=Q.useMemo(()=>c0(r,e,p,o,a,"assets"),[r,e,p,o,a]),w=Q.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let M=new Set,$=!1;if(e.forEach(F=>{var ie;let ue=o.routes[F.route.id];!ue||!ue.hasLoader||(!g.some(pe=>pe.route.id===F.route.id)&&F.route.id in m&&((ie=u[F.route.id])!=null&&ie.shouldRevalidate)||ue.hasClientLoader?$=!0:M.add(F.route.id))}),M.size===0)return[];let K=yR(r,h);return $&&M.size>0&&K.searchParams.set("_routes",e.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[K.pathname+K.search]},[h,m,a,o,g,e,r,u]),T=Q.useMemo(()=>fR(v,o),[v,o]),I=TR(v);return Q.createElement(Q.Fragment,null,w.map(M=>Q.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),T.map(M=>Q.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),I.map(({key:M,link:$})=>Q.createElement("link",{key:M,...$})))}function bR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dT&&(window.__reactRouterVersion="7.6.2")}catch{}function SR(r,e){return dA({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:VS({window:e==null?void 0:e.window}),hydrationData:AR(),routes:r,mapRouteProperties:YA,hydrationRouteProperties:QA,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function AR(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:RR(r.errors)}),r}function RR(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new wh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[a]=h}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vs=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:w,...T},I){let{basename:M}=Q.useContext(Cr),$=typeof g=="string"&&mT.test(g),K,F=!1;if(typeof g=="string"&&$&&(K=g,dT))try{let R=new URL(window.location.href),V=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=pr(V.pathname,M);V.origin===R.origin&&L!=null?g=L+V.search+V.hash:F=!0}catch{Vt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=xA(g,{relative:o}),[ie,pe,de]=_R(a,T),B=OR(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:w});function x(R){e&&e(R),R.defaultPrevented||B(R)}let A=Q.createElement("a",{...T,...de,href:K||ue,onClick:F||u?e:x,ref:bR(I,pe),target:p,"data-discover":!$&&n==="render"?"true":void 0});return ie&&!$?Q.createElement(Q.Fragment,null,A,Q.createElement(ER,{page:ue})):A});vs.displayName="Link";var IR=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let w=Iu(h,{relative:g.relative}),T=Pa(),I=Q.useContext(Ru),{navigator:M,basename:$}=Q.useContext(Cr),K=I!=null&&PR(w)&&m===!0,F=M.encodeLocation?M.encodeLocation(w).pathname:w.pathname,ue=T.pathname,ie=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(ue=ue.toLowerCase(),ie=ie?ie.toLowerCase():null,F=F.toLowerCase()),ie&&$&&(ie=pr(ie,$)||ie);const pe=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let de=ue===F||!o&&ue.startsWith(F)&&ue.charAt(pe)==="/",B=ie!=null&&(ie===F||!o&&ie.startsWith(F)&&ie.charAt(F.length)==="/"),x={isActive:de,isPending:B,isTransitioning:K},A=de?e:void 0,R;typeof a=="function"?R=a(x):R=[a,de?"active":null,B?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return Q.createElement(vs,{...g,"aria-current":A,className:R,ref:v,style:V,to:h,viewTransition:m},typeof p=="function"?p(x):p)});IR.displayName="NavLink";var CR=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=lh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:w,...T},I)=>{let M=xR(),$=VR(m,{relative:g}),K=h.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&mT.test(m),ue=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let pe=ie.nativeEvent.submitter,de=(pe==null?void 0:pe.getAttribute("formmethod"))||h;M(pe||ie.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:w})};return Q.createElement("form",{ref:I,method:K,action:$,onSubmit:a?p:ue,...T,"data-discover":!F&&r==="render"?"true":void 0})});CR.displayName="Form";function DR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(r){let e=Q.useContext(Rs);return Xe(e,DR(r)),e}function OR(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=yp(),p=Pa(),g=Iu(r,{relative:u});return Q.useCallback(v=>{if(aR(v,e)){v.preventDefault();let w=n!==void 0?n:Ra(p)===Ra(g);m(r,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,a,e,r,o,u,h])}var NR=0,MR=()=>`__${String(++NR)}__`;function xR(){let{router:r}=pT("useSubmit"),{basename:e}=Q.useContext(Cr),n=FA();return Q.useCallback(async(a,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=lR(a,e);if(o.navigate===!1){let v=o.fetcherKey||MR();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function VR(r,{relative:e}={}){let{basename:n}=Q.useContext(Cr),a=Q.useContext(ni);Xe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Iu(r||".",{relative:e})},h=Pa();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xr([n,u.pathname])),Ra(u)}function PR(r,e={}){let n=Q.useContext(pp);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=pT("useViewTransitionState"),o=Iu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Th(o.pathname,h)!=null||Th(o.pathname,u)!=null}[...gR];var gT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h0=ys.createContext&&ys.createContext(gT),LR=["attr","size","title"];function kR(r,e){if(r==null)return{};var n=UR(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function UR(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function Sh(){return Sh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Sh.apply(this,arguments)}function f0(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function Ah(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f0(Object(n),!0).forEach(function(a){zR(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function zR(r,e,n){return e=BR(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function BR(r){var e=jR(r,"string");return typeof e=="symbol"?e:e+""}function jR(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yT(r){return r&&r.map((e,n)=>ys.createElement(e.tag,Ah({key:n},e.attr),yT(e.child)))}function Cu(r){return e=>ys.createElement(HR,Sh({attr:Ah({},r.attr)},e),yT(r.child))}function HR(r){var e=n=>{var{attr:a,size:o,title:u}=r,h=kR(r,LR),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),ys.createElement("svg",Sh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,h,{className:p,style:Ah(Ah({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ys.createElement("title",null,u),r.children)};return h0!==void 0?ys.createElement(h0.Consumer,null,n=>e(n)):e(gT)}function qR(r){return Cu({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(r)}function FR(r){return Cu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(r)}function GR(r){return Cu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function Sm({url:r,children:e}){return fe.jsx("a",{href:r,target:"_blank",children:e})}const KR=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},YR=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,w=(u&3)<<4|m>>4;let T=(m&15)<<2|g>>6,I=g&63;p||(I=64,h||(T=64)),a.push(n[v],n[w],n[T],n[I])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(vT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):YR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new QR;const T=u<<2|m>>4;if(a.push(T),g!==64){const I=m<<4&240|g>>2;if(a.push(I),w!==64){const M=g<<6&192|w;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $R=function(r){const e=vT(r);return _T.encodeByteArray(e,!0)},Rh=function(r){return $R(r).replace(/\./g,"")},ET=function(r){try{return _T.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=()=>XR().__FIREBASE_DEFAULTS__,ZR=()=>{if(typeof process>"u"||typeof d0>"u")return;const r=d0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},JR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ET(r[1]);return e&&JSON.parse(e)},Xh=()=>{try{return KR()||WR()||ZR()||JR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TT=r=>{var e,n;return(n=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},eI=r=>{const e=TT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},wT=()=>{var r;return(r=Xh())===null||r===void 0?void 0:r.config},bT=r=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(r){return r.endsWith(".cloudworkstations.dev")}async function ST(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rh(JSON.stringify(n)),Rh(JSON.stringify(h)),""].join(".")}const ou={};function rI(){const r={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?r.emulator.push(e):r.prod.push(e);return r}function iI(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let m0=!1;function AT(r,e){if(typeof window>"u"||typeof document>"u"||!Bo(window.location.host)||ou[r]===e||ou[r]||m0)return;ou[r]=e;function n(T){return`__firebase__banner__${T}`}const a="__firebase__banner",u=rI().prod.length>0;function h(){const T=document.getElementById(a);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{m0=!0,h()},T}function v(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=iI(a),I=n("text"),M=document.getElementById(I)||document.createElement("span"),$=n("learnmore"),K=document.getElementById($)||document.createElement("a"),F=n("preprendIcon"),ue=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ie=T.element;m(ie),v(K,$);const pe=g();p(ue,F),ie.append(ue,M,K,pe),document.body.appendChild(ie)}u?(M.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function sI(){var r;const e=(r=Xh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function uI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cI(){const r=En();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function hI(){return!sI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fI(){try{return typeof indexedDB=="object"}catch{return!1}}function dI(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="FirebaseError";class Pi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=mI,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?pI(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Pi(o,m,a)}}function pI(r,e){return r.replace(gI,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const gI=/\{\$([^}]+)}/g;function yI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ts(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(p0(u)&&p0(h)){if(!Ts(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function p0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function tu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function nu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function vI(r,e){const n=new _I(r,e);return n.subscribe.bind(n)}class _I{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");EI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(r){return r&&r._delegate?r._delegate:r}class ws{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new tI;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bI(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:wI(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wI(r){return r===ds?void 0:r}function bI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const AI={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},RI=et.INFO,II={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},CI=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=II[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wp{constructor(e){this.name=e,this._logLevel=RI,this._logHandler=CI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const DI=(r,e)=>e.some(n=>r instanceof n);let g0,y0;function OI(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NI(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RT=new WeakMap,Bm=new WeakMap,IT=new WeakMap,Rm=new WeakMap,bp=new WeakMap;function MI(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Ea(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&RT.set(n,r)}).catch(()=>{}),bp.set(e,r),e}function xI(r){if(Bm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Bm.set(r,e)}let jm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||IT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ea(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function VI(r){jm=r(jm)}function PI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Im(this),e,...n);return IT.set(a,e.sort?e.sort():[e]),Ea(a)}:NI().includes(r)?function(...e){return r.apply(Im(this),e),Ea(RT.get(this))}:function(...e){return Ea(r.apply(Im(this),e))}}function LI(r){return typeof r=="function"?PI(r):(r instanceof IDBTransaction&&xI(r),DI(r,OI())?new Proxy(r,jm):r)}function Ea(r){if(r instanceof IDBRequest)return MI(r);if(Rm.has(r))return Rm.get(r);const e=LI(r);return e!==r&&(Rm.set(r,e),bp.set(e,r)),e}const Im=r=>bp.get(r);function kI(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Ea(h);return a&&h.addEventListener("upgradeneeded",p=>{a(Ea(h.result),p.oldVersion,p.newVersion,Ea(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const UI=["get","getKey","getAll","getAllKeys","count"],zI=["put","add","delete","clear"],Cm=new Map;function v0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=zI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||UI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,u),u}VI(r=>({...r,get:(e,n,a)=>v0(e,n)||r.get(e,n,a),has:(e,n)=>!!v0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function jI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",_0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new wp("@firebase/app"),HI="@firebase/app-compat",qI="@firebase/analytics-compat",FI="@firebase/analytics",GI="@firebase/app-check-compat",KI="@firebase/app-check",YI="@firebase/auth",QI="@firebase/auth-compat",$I="@firebase/database",XI="@firebase/data-connect",WI="@firebase/database-compat",ZI="@firebase/functions",JI="@firebase/functions-compat",e2="@firebase/installations",t2="@firebase/installations-compat",n2="@firebase/messaging",r2="@firebase/messaging-compat",i2="@firebase/performance",a2="@firebase/performance-compat",s2="@firebase/remote-config",o2="@firebase/remote-config-compat",l2="@firebase/storage",u2="@firebase/storage-compat",c2="@firebase/firestore",h2="@firebase/ai",f2="@firebase/firestore-compat",d2="firebase",m2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",p2={[Hm]:"fire-core",[HI]:"fire-core-compat",[FI]:"fire-analytics",[qI]:"fire-analytics-compat",[KI]:"fire-app-check",[GI]:"fire-app-check-compat",[YI]:"fire-auth",[QI]:"fire-auth-compat",[$I]:"fire-rtdb",[XI]:"fire-data-connect",[WI]:"fire-rtdb-compat",[ZI]:"fire-fn",[JI]:"fire-fn-compat",[e2]:"fire-iid",[t2]:"fire-iid-compat",[n2]:"fire-fcm",[r2]:"fire-fcm-compat",[i2]:"fire-perf",[a2]:"fire-perf-compat",[s2]:"fire-rc",[o2]:"fire-rc-compat",[l2]:"fire-gcs",[u2]:"fire-gcs-compat",[c2]:"fire-fst",[f2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[d2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,g2=new Map,Fm=new Map;function E0(r,e){try{r.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Oo(r){const e=r.name;if(Fm.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,r);for(const n of Ih.values())E0(n,r);for(const n of g2.values())E0(n,r);return!0}function Sp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ta=new Du("app","Firebase",y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=m2;function CT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:qm,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Ta.create("bad-app-name",{appName:String(o)});if(n||(n=wT()),!n)throw Ta.create("no-options");const u=Ih.get(o);if(u){if(Ts(n,u.options)&&Ts(a,u.config))return u;throw Ta.create("duplicate-app",{appName:o})}const h=new SI(o);for(const p of Fm.values())h.addComponent(p);const m=new v2(n,a,h);return Ih.set(o,m),m}function DT(r=qm){const e=Ih.get(r);if(!e&&r===qm&&wT())return CT();if(!e)throw Ta.create("no-app",{appName:r});return e}function wa(r,e,n){var a;let o=(a=p2[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(m.join(" "));return}Oo(new ws(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebase-heartbeat-database",E2=1,pu="firebase-heartbeat-store";let Dm=null;function OT(){return Dm||(Dm=kI(_2,E2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(pu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ta.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function T2(r){try{const n=(await OT()).transaction(pu),a=await n.objectStore(pu).get(NT(r));return await n.done,a}catch(e){if(e instanceof Pi)Ni.warn(e.message);else{const n=Ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function T0(r,e){try{const a=(await OT()).transaction(pu,"readwrite");await a.objectStore(pu).put(e,NT(r)),await a.done}catch(n){if(n instanceof Pi)Ni.warn(n.message);else{const a=Ta.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(a.message)}}}function NT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=1024,b2=30;class S2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R2(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=w0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>b2){const h=I2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ni.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w0(),{heartbeatsToSend:a,unsentEntries:o}=A2(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ni.warn(n),""}}}function w0(){return new Date().toISOString().substring(0,10)}function A2(r,e=w2){const n=[];let a=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),b0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),b0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class R2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fI()?dI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return T0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return T0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function b0(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function I2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(r){Oo(new ws("platform-logger",e=>new BI(e),"PRIVATE")),Oo(new ws("heartbeat",e=>new S2(e),"PRIVATE")),wa(Hm,_0,r),wa(Hm,_0,"esm2017"),wa("fire-js","")}C2("");var D2="firebase",O2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa(D2,O2,"app");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,MT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function R(){}R.prototype=A.prototype,x.D=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(V,L,k){for(var D=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)D[ze-2]=arguments[ze];return A.prototype[L].apply(V,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,R){R||(R=0);var V=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)V[L]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(L=0;16>L;++L)V[L]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],L=x.g[2];var k=x.g[3],D=A+(k^R&(L^k))+V[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=k+(L^A&(R^L))+V[1]+3905402710&4294967295,k=A+(D<<12&4294967295|D>>>20),D=L+(R^k&(A^R))+V[2]+606105819&4294967295,L=k+(D<<17&4294967295|D>>>15),D=R+(A^L&(k^A))+V[3]+3250441966&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(k^R&(L^k))+V[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(L^A&(R^L))+V[5]+1200080426&4294967295,k=A+(D<<12&4294967295|D>>>20),D=L+(R^k&(A^R))+V[6]+2821735955&4294967295,L=k+(D<<17&4294967295|D>>>15),D=R+(A^L&(k^A))+V[7]+4249261313&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(k^R&(L^k))+V[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(L^A&(R^L))+V[9]+2336552879&4294967295,k=A+(D<<12&4294967295|D>>>20),D=L+(R^k&(A^R))+V[10]+4294925233&4294967295,L=k+(D<<17&4294967295|D>>>15),D=R+(A^L&(k^A))+V[11]+2304563134&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(k^R&(L^k))+V[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=k+(L^A&(R^L))+V[13]+4254626195&4294967295,k=A+(D<<12&4294967295|D>>>20),D=L+(R^k&(A^R))+V[14]+2792965006&4294967295,L=k+(D<<17&4294967295|D>>>15),D=R+(A^L&(k^A))+V[15]+1236535329&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(L^k&(R^L))+V[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^L&(A^R))+V[6]+3225465664&4294967295,k=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(k^A))+V[11]+643717713&4294967295,L=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(L^k))+V[0]+3921069994&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^k&(R^L))+V[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^L&(A^R))+V[10]+38016083&4294967295,k=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(k^A))+V[15]+3634488961&4294967295,L=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(L^k))+V[4]+3889429448&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^k&(R^L))+V[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^L&(A^R))+V[14]+3275163606&4294967295,k=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(k^A))+V[3]+4107603335&4294967295,L=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(L^k))+V[8]+1163531501&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^k&(R^L))+V[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=k+(R^L&(A^R))+V[2]+4243563512&4294967295,k=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(k^A))+V[7]+1735328473&4294967295,L=k+(D<<14&4294967295|D>>>18),D=R+(k^A&(L^k))+V[12]+2368359562&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(R^L^k)+V[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^L)+V[8]+2272392833&4294967295,k=A+(D<<11&4294967295|D>>>21),D=L+(k^A^R)+V[11]+1839030562&4294967295,L=k+(D<<16&4294967295|D>>>16),D=R+(L^k^A)+V[14]+4259657740&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^k)+V[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^L)+V[4]+1272893353&4294967295,k=A+(D<<11&4294967295|D>>>21),D=L+(k^A^R)+V[7]+4139469664&4294967295,L=k+(D<<16&4294967295|D>>>16),D=R+(L^k^A)+V[10]+3200236656&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^k)+V[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^L)+V[0]+3936430074&4294967295,k=A+(D<<11&4294967295|D>>>21),D=L+(k^A^R)+V[3]+3572445317&4294967295,L=k+(D<<16&4294967295|D>>>16),D=R+(L^k^A)+V[6]+76029189&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^k)+V[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=k+(A^R^L)+V[12]+3873151461&4294967295,k=A+(D<<11&4294967295|D>>>21),D=L+(k^A^R)+V[15]+530742520&4294967295,L=k+(D<<16&4294967295|D>>>16),D=R+(L^k^A)+V[2]+3299628645&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(L^(R|~k))+V[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~L))+V[7]+1126891415&4294967295,k=A+(D<<10&4294967295|D>>>22),D=L+(A^(k|~R))+V[14]+2878612391&4294967295,L=k+(D<<15&4294967295|D>>>17),D=R+(k^(L|~A))+V[5]+4237533241&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~k))+V[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~L))+V[3]+2399980690&4294967295,k=A+(D<<10&4294967295|D>>>22),D=L+(A^(k|~R))+V[10]+4293915773&4294967295,L=k+(D<<15&4294967295|D>>>17),D=R+(k^(L|~A))+V[1]+2240044497&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~k))+V[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~L))+V[15]+4264355552&4294967295,k=A+(D<<10&4294967295|D>>>22),D=L+(A^(k|~R))+V[6]+2734768916&4294967295,L=k+(D<<15&4294967295|D>>>17),D=R+(k^(L|~A))+V[13]+1309151649&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~k))+V[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=k+(R^(A|~L))+V[11]+3174756917&4294967295,k=A+(D<<10&4294967295|D>>>22),D=L+(A^(k|~R))+V[2]+718787259&4294967295,L=k+(D<<15&4294967295|D>>>17),D=R+(k^(L|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+k&4294967295}a.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var R=A-this.blockSize,V=this.B,L=this.h,k=0;k<A;){if(L==0)for(;k<=R;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<A;)if(V[L++]=x.charCodeAt(k++),L==this.blockSize){o(this,V),L=0;break}}else for(;k<A;)if(V[L++]=x[k++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=A},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var R=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=R&255,R/=256;for(this.u(x),x=Array(16),A=R=0;4>A;++A)for(var V=0;32>V;V+=8)x[R++]=this.g[A]>>>V&255;return x};function u(x,A){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function h(x,A){this.h=A;for(var R=[],V=!0,L=x.length-1;0<=L;L--){var k=x[L]|0;V&&k==A||(R[L]=k,V=!1)}this.g=R}var m={};function p(x){return-128<=x&&128>x?u(x,function(A){return new h([A|0],0>A?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return K(g(-x));for(var A=[],R=1,V=0;x>=R;V++)A[V]=x/R|0,R*=4294967296;return new h(A,0)}function v(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return K(v(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),V=w,L=0;L<x.length;L+=8){var k=Math.min(8,x.length-L),D=parseInt(x.substring(L,L+k),A);8>k?(k=g(Math.pow(A,k)),V=V.j(k).add(g(D))):(V=V.j(R),V=V.add(g(D)))}return V}var w=p(0),T=p(1),I=p(16777216);r=h.prototype,r.m=function(){if($(this))return-K(this).m();for(var x=0,A=1,R=0;R<this.g.length;R++){var V=this.i(R);x+=(0<=V?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M(this))return"0";if($(this))return"-"+K(this).toString(x);for(var A=g(Math.pow(x,6)),R=this,V="";;){var L=pe(R,A).g;R=F(R,L.j(A));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=L,M(R))return k+V;for(;6>k.length;)k="0"+k;V=k+V}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function M(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=F(this,x),$(x)?-1:M(x)?0:1};function K(x){for(var A=x.g.length,R=[],V=0;V<A;V++)R[V]=~x.g[V];return new h(R,~x.h).add(T)}r.abs=function(){return $(this)?K(this):this},r.add=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],V=0,L=0;L<=A;L++){var k=V+(this.i(L)&65535)+(x.i(L)&65535),D=(k>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);V=D>>>16,k&=65535,D&=65535,R[L]=D<<16|k}return new h(R,R[R.length-1]&-2147483648?-1:0)};function F(x,A){return x.add(K(A))}r.j=function(x){if(M(this)||M(x))return w;if($(this))return $(x)?K(this).j(K(x)):K(K(this).j(x));if($(x))return K(this.j(K(x)));if(0>this.l(I)&&0>x.l(I))return g(this.m()*x.m());for(var A=this.g.length+x.g.length,R=[],V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<x.g.length;L++){var k=this.i(V)>>>16,D=this.i(V)&65535,ze=x.i(L)>>>16,He=x.i(L)&65535;R[2*V+2*L]+=D*He,ue(R,2*V+2*L),R[2*V+2*L+1]+=k*He,ue(R,2*V+2*L+1),R[2*V+2*L+1]+=D*ze,ue(R,2*V+2*L+1),R[2*V+2*L+2]+=k*ze,ue(R,2*V+2*L+2)}for(V=0;V<A;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=A;V<2*A;V++)R[V]=0;return new h(R,0)};function ue(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ie(x,A){this.g=x,this.h=A}function pe(x,A){if(M(A))throw Error("division by zero");if(M(x))return new ie(w,w);if($(x))return A=pe(K(x),A),new ie(K(A.g),K(A.h));if($(A))return A=pe(x,K(A)),new ie(K(A.g),A.h);if(30<x.g.length){if($(x)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,V=A;0>=V.l(x);)R=de(R),V=de(V);var L=B(R,1),k=B(V,1);for(V=B(V,2),R=B(R,2);!M(V);){var D=k.add(V);0>=D.l(x)&&(L=L.add(R),k=D),V=B(V,1),R=B(R,1)}return A=F(x,L.j(A)),new ie(L,A)}for(L=w;0<=x.l(A);){for(R=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),k=g(R),D=k.j(A);$(D)||0<D.l(x);)R-=V,k=g(R),D=k.j(A);M(k)&&(k=T),L=L.add(k),x=F(x,D)}return new ie(L,x)}r.A=function(x){return pe(this,x).h},r.and=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)&x.i(V);return new h(R,this.h&x.h)},r.or=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)|x.i(V);return new h(R,this.h|x.h)},r.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)^x.i(V);return new h(R,this.h^x.h)};function de(x){for(var A=x.g.length+1,R=[],V=0;V<A;V++)R[V]=x.i(V)<<1|x.i(V-1)>>>31;return new h(R,x.h)}function B(x,A){var R=A>>5;A%=32;for(var V=x.g.length-R,L=[],k=0;k<V;k++)L[k]=0<A?x.i(k+R)>>>A|x.i(k+R+1)<<32-A:x.i(k+R);return new h(L,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,MT=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ba=h}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xT,ru,VT,ch,Gm,PT,LT,kT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in _))break e;_=_[j]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,j={next:function(){if(!S&&_<c.length){var Z=_++;return{value:y(Z,c[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function T(c,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function I(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,j,Z){for(var me=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)me[rt-2]=arguments[rt];return y.prototype[j].apply(S,me)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function K(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const j=c.length||0,Z=S.length||0;c.length=j+Z;for(let me=0;me<Z;me++)c[j+me]=S[me]}else c.push(S)}}class F{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ue(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var de=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function B(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)c[_]=S[_];for(let Z=0;Z<R.length;Z++)_=R[Z],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function L(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function D(){var c=ke;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ze{constructor(){this.h=this.g=null}add(y,_){const S=He.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var He=new F(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,ke=new ze,O=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){k(_)}var y=He;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function qe(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(de){e:{try{pe(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&qe.aa.h.call(this)}}M(qe,oe);var Ie={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function Qn(c,y,_,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=j,this.key=++gt,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fn(c){this.src=c,this.g={},this.h=0}fn.prototype.add=function(c,y,_,S,j){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var me=ri(c,y,S,j);return-1<me?(y=c[me],_||(y.fa=!1)):(y=new Qn(y,this.src,Z,!!S,j),y.fa=_,c.push(y)),y};function Dr(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],j=Array.prototype.indexOf.call(S,y,void 0),Z;(Z=0<=j)&&Array.prototype.splice.call(S,j,1),Z&&(At(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ri(c,y,_,S){for(var j=0;j<c.length;++j){var Z=c[j];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==S)return j}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),Ua={};function Ms(c,y,_,S,j){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)Ms(c,y[Z],_,S,j);return null}return _=Ui(_),c&&c[Pt]?c.K(y,_,g(S)?!!S.capture:!1,j):bn(c,y,_,!1,S,j)}function bn(c,y,_,S,j,Z){if(!y)throw Error("Invalid event type");var me=g(j)?!!j.capture:!!j,rt=$n(c);if(rt||(c[wn]=rt=new fn(c)),_=rt.add(y,_,S,me,Z),_.proxy)return _;if(S=$o(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Se||(j=me),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(ii(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $o(){function c(_){return y.call(c.src,c.listener,_)}const y=gr;return c}function za(c,y,_,S,j){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)za(c,y[Z],_,S,j);else S=g(S)?!!S.capture:!!S,_=Ui(_),c&&c[Pt]?(c=c.i,y=String(y).toString(),y in c.g&&(Z=c.g[y],_=ri(Z,_,S,j),-1<_&&(At(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete c.g[y],c.h--)))):c&&(c=$n(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ri(y,_,S,j)),(_=-1<c?y[c]:null)&&Li(_))}function Li(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Pt])Dr(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(ii(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=$n(y))?(Dr(_,c),_.h==0&&(_.src=null,y[wn]=null)):At(c)}}}function ii(c){return c in Ua?Ua[c]:Ua[c]="on"+c}function gr(c,y){if(c.da)c=!0;else{y=new qe(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Li(c),c=_.call(S,y)}return c}function $n(c){return c=c[wn],c instanceof fn?c:null}var ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(c){return typeof c=="function"?c:(c[ki]||(c[ki]=function(y){return c.handleEvent(y)}),c[ki])}function ut(){he.call(this),this.i=new fn(this),this.M=this,this.F=null}M(ut,he),ut.prototype[Pt]=!0,ut.prototype.removeEventListener=function(c,y,_,S){za(this,c,y,_,S)};function Ge(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var j=y;y=new oe(S,c),V(y,j)}if(j=!0,_)for(var Z=_.length-1;0<=Z;Z--){var me=y.g=_[Z];j=dn(me,S,!0,y)&&j}if(me=y.g=c,j=dn(me,S,!0,y)&&j,j=dn(me,S,!1,y)&&j,_)for(Z=0;Z<_.length;Z++)me=y.g=_[Z],j=dn(me,S,!1,y)&&j}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)At(_[S]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},ut.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function dn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Z=0;Z<y.length;++Z){var me=y[Z];if(me&&!me.da&&me.capture==_){var rt=me.listener,Ft=me.ha||me.src;me.fa&&Dr(c.i,me),j=rt.call(Ft,S)!==!1&&j}}return j&&!S.defaultPrevented}function Lt(c,y,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function xs(c){c.g=Lt(()=>{c.g=null,c.i&&(c.i=!1,xs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Xn extends he{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(c){he.call(this),this.h=c,this.g={}}M(Or,he);var Nr=[];function Mr(c){B(c.g,function(y,_){this.g.hasOwnProperty(_)&&Li(y)},c),c.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Mr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,ai=m.JSON.parse,Wn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function zi(){}zi.prototype.h=null;function si(c){return c.h||(c.h=c.i())}function Ba(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yr(){oe.call(this,"d")}M(yr,oe);function Bi(){oe.call(this,"c")}M(Bi,oe);var Sn={},xr=null;function Vr(){return xr=xr||new ut}Sn.La="serverreachability";function ji(c){oe.call(this,Sn.La,c)}M(ji,oe);function N(c){const y=Vr();Ge(y,new ji(y))}Sn.STAT_EVENT="statevent";function z(c,y){oe.call(this,Sn.STAT_EVENT,c),this.stat=y}M(z,oe);function q(c){const y=Vr();Ge(y,new z(y,c))}Sn.Ma="timingevent";function ne(c,y){oe.call(this,Sn.Ma,c),this.size=y}M(ne,oe);function le(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function De(c,y,_,S,j,Z){c.info(function(){if(c.g)if(Z)for(var me="",rt=Z.split("&"),Ft=0;Ft<rt.length;Ft++){var it=rt[Ft].split("=");if(1<it.length){var Wt=it[0];it=it[1];var Gt=Wt.split("_");me=2<=Gt.length&&Gt[1]=="type"?me+(Wt+"="+it+"&"):me+(Wt+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+_+`
`+me})}function _e(c,y,_,S,j,Z,me){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+_+`
`+Z+" "+me})}function we(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Oe(c,_)+(S?" "+S:"")})}function Ae(c,y){c.info(function(){return"TIMEOUT: "+y})}ye.prototype.info=function(){};function Oe(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var Z=j[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<j.length;me++)j[me]=""}}}}return Pn(_)}catch{return y}}var be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Me={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},We;function ht(){}M(ht,zi),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},We=new ht;function ot(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nt}function nt(){this.i=null,this.g="",this.h=!1}var Qe={},Jn={};function qt(c,y,_){c.L=1,c.v=qa(Un(y)),c.m=_,c.P=!0,An(c,null)}function An(c,y){c.F=Date.now(),Ln(c),c.A=Un(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),el(_.i,"t",S),c.C=0,_=c.j.J,c.h=new nt,c.g=$u(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Xn(T(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Nr[0]=j.toString()),j=Nr);for(var Z=0;Z<j.length;Z++){var me=Ms(_,j[Z],S||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),N(),De(c.i,c.u,c.A,c.l,c.R,c.m)}ot.prototype.ca=function(c){c=c.target;const y=this.M;y&&ir(c)==3?y.j():this.Y(c)},ot.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=ir(this.g);var y=this.g.Ba();const mi=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=mi?N(3):N(2)),mn(this);var _=this.g.Z();this.X=_;t:if(nn(this)){var S=ju(this.g);c="";var j=S.length,Z=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Rn(this);var me="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Z&&y==j-1)});S.length=0,this.h.g+=c,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,_e(this.i,this.u,this.A,this.l,this.R,Gt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Ft=this.g;if((rt=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(rt)){var it=rt;break t}}it=null}if(_=it)we(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kt(this,_);else{this.o=!1,this.s=3,q(12),Ue(this),Rn(this);break e}}if(this.P){_=!0;let an;for(;!this.J&&this.C<me.length;)if(an=Pr(this,me),an==Jn){Gt==4&&(this.s=4,q(14),_=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Qe){this.s=4,q(15),we(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else we(this.i,this.l,an,null),kt(this,an);if(nn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||me.length!=0||this.h.h||(this.s=1,q(16),_=!1),this.o=this.o&&_,!_)we(this.i,this.l,me,"[Invalid Chunked Response]"),Ue(this),Rn(this);else if(0<me.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Wa(Wt),Wt.M=!0,q(11))}}else we(this.i,this.l,me,null),kt(this,me);Gt==4&&Ue(this),this.o&&!this.J&&(Gt==4?Ku(this.j,this):(this.o=!1,Ln(this)))}else Tf(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,q(12)):(this.s=0,q(13)),Ue(this),Rn(this)}}}catch{}finally{}};function nn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pr(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Jn:(_=Number(y.substring(_,S)),isNaN(_)?Qe:(S+=1,S+_>y.length?Jn:(y=y.slice(S,S+_),c.C=S+_,y)))}ot.prototype.cancel=function(){this.J=!0,Ue(this)};function Ln(c){c.S=Date.now()+c.I,Hi(c,c.I)}function Hi(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=le(T(c.ba,c),y)}function mn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ot.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ae(this.i,this.A),this.L!=2&&(N(),q(17)),Ue(this),this.s=2,Rn(this)):Hi(this,this.S-c)};function Rn(c){c.j.G==0||c.J||Ku(c.j,c)}function Ue(c){mn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Mr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function kt(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||er(_.h,c))){if(!c.K&&er(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Hs(_),Bs(_);else break e;al(_),q(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=le(T(_.Za,_),6e3));if(1>=Tt(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else di(_,11)}else if((c.K||_.g==c)&&Hs(_),!ue(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let it=j[y];if(_.T=it[0],it=it[1],_.G==2)if(it[0]=="c"){_.K=it[1],_.ia=it[2];const Wt=it[3];Wt!=null&&(_.la=Wt,_.j.info("VER="+_.la));const Gt=it[4];Gt!=null&&(_.Aa=Gt,_.j.info("SVER="+_.Aa));const mi=it[5];mi!=null&&typeof mi=="number"&&0<mi&&(S=1.5*mi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const an=c.g;if(an){const qr=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var Z=S.h;Z.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(oi(Z,Z.h),Z.h=null))}if(S.D){const ol=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(S.ya=ol,yt(S.I,S.D,ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var me=c;if(S.qa=Qu(S,S.J?S.ia:null,S.W),me.K){rn(S.h,me);var rt=me,Ft=S.L;Ft&&(rt.I=Ft),rt.B&&(mn(rt),Ln(rt)),S.g=me}else Fu(S);0<_.i.length&&js(_)}else it[0]!="stop"&&it[0]!="close"||di(_,7);else _.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?di(_,7):rl(_):it[0]!="noop"&&_.l&&_.l.ta(it),_.v=0)}}N(4)}catch{}}var kn=class{constructor(c,y){this.g=c,this.map=y}};function On(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tt(c){return c.h?1:c.g?c.g.size:0}function er(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function oi(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}On.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function yf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function Vs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Wo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Vs(c),S=yf(c),j=S.length,Z=0;Z<j;Z++)y.call(void 0,S[Z],_&&_[Z],c)}var ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),j=null;if(0<=S){var Z=c[_].substring(0,S);j=c[_].substring(S+1)}else Z=c[_];y(Z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,Ha(this,c.j),this.o=c.o,this.g=c.g,qi(this,c.s),this.l=c.l;var y=c.i,_=new ui;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),li(this,_),this.m=c.m}else c&&(y=String(c).match(ja))?(this.h=!1,Ha(this,y[1]||"",!0),this.o=tr(y[2]||""),this.g=tr(y[3]||"",!0),qi(this,y[4]),this.l=tr(y[5]||"",!0),li(this,y[6]||"",!0),this.m=tr(y[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Fa(y,Zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Fa(y,Zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Fa(_,_.charAt(0)=="/"?_f:Jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Fa(_,Ps)),c.join("")};function Un(c){return new Ut(c)}function Ha(c,y,_){c.j=_?tr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function qi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function li(c,y,_){y instanceof ui?(c.i=y,zu(c.i,c.h)):(_||(y=Fa(y,Ef)),c.i=new ui(y,c.h))}function yt(c,y,_){c.i.set(y,_)}function qa(c){return yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function tr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fa(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zo=/[#\/\?@]/g,Jo=/[#\?:]/g,_f=/[#\?]/g,Ef=/[#\?@]/g,Ps=/#/g;function ui(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function nr(c){c.g||(c.g=new Map,c.h=0,c.i&&vf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ui.prototype,r.add=function(c,y){nr(this),this.i=null,c=kr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ci(c,y){nr(c),y=kr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function hi(c,y){return nr(c),y=kr(c,y),c.g.has(y)}r.forEach=function(c,y){nr(this),this.g.forEach(function(_,S){_.forEach(function(j){c.call(y,j,S,this)},this)},this)},r.na=function(){nr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const j=c[S];for(let Z=0;Z<j.length;Z++)_.push(y[S])}return _},r.V=function(c){nr(this);let y=[];if(typeof c=="string")hi(this,c)&&(y=y.concat(this.g.get(kr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return nr(this),this.i=null,c=kr(this,c),hi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function el(c,y,_){ci(c,y),0<_.length&&(c.i=null,c.g.set(kr(c,y),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Z=encodeURIComponent(String(S)),me=this.V(S);for(S=0;S<me.length;S++){var j=Z;me[S]!==""&&(j+="="+encodeURIComponent(String(me[S]))),c.push(j)}}return this.i=c.join("&")};function kr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zu(c,y){y&&!c.j&&(nr(c),c.i=null,c.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(ci(this,S),el(this,j,_))},c)),c.j=y}function Ga(c,y){const _=new ye;if(m.Image){const S=new Image;S.onload=I(rr,_,"TestLoadImage: loaded",!0,y,S),S.onerror=I(rr,_,"TestLoadImage: error",!1,y,S),S.onabort=I(rr,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(rr,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function vr(c,y){const _=new ye,S=new AbortController,j=setTimeout(()=>{S.abort(),rr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Z=>{clearTimeout(j),Z.ok?rr(_,"TestPingServer: ok",!0,y):rr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),rr(_,"TestPingServer: error",!1,y)})}function rr(c,y,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function Ka(){this.g=new Wn}function Ur(c,y,_){const S=_||"";try{Wo(c,function(j,Z){let me=j;g(j)&&(me=Pn(j)),y.push(S+Z+"="+encodeURIComponent(me))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function Fi(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Fi,zi),Fi.prototype.g=function(){return new fi(this.l,this.j)},Fi.prototype.i=function(c){return function(){return c}}({});function fi(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(fi,ut),r=fi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Br(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?zr(this):Br(this),this.readyState==3&&tl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,zr(this))},r.Qa=function(c){this.g&&(this.response=c,zr(this))},r.ga=function(){this.g&&zr(this)};function zr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Br(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Br(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nl(c){let y="";return B(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Xt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=nl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):yt(c,y,_))}function ft(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(ft,ut);var Ls=/^https?$/i,Ya=["POST","PUT"];r=ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():We.g(),this.v=this.o?si(this.o):si(We),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Z){Bu(this,Z);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())_.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ya,y,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of _)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Bu(this,Z)}};function Bu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ks(c),jr(c)}function ks(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),jr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Us(this):this.bb())},r.bb=function(){Us(this)};function Us(c){if(c.h&&typeof h<"u"&&(!c.v[1]||ir(c)!=4||c.Z()!=2)){if(c.u&&ir(c)==4)Lt(c.Ea,0,c);else if(Ge(c,"readystatechange"),ir(c)==4){c.h=!1;try{const me=c.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=me===0){var j=String(c.D).match(ja)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!Ls.test(j?j.toLowerCase():"")}_=S}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Z=2<ir(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",ks(c)}}finally{jr(c)}}}}function jr(c,y){if(c.g){Qa(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=S}catch{}}}function Qa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function ir(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ai(y)}};function ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Tf(c){const y={};c=(c.g&&2<=ir(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ue(c[S]))continue;var _=L(c[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[j]||[];y[j]=Z,Z.push(_)}x(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function zs(c){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,c),this.cb=$a("retryDelaySeedMs",1e4,c),this.Wa=$a("forwardChannelMaxRetries",2,c),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new On(c&&c.concurrentRequestLimit),this.Da=new Ka,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=zs.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){q(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Qu(this,null,this.W),js(this)};function rl(c){if(Hu(c),c.G==3){var y=c.U++,_=Un(c.I);if(yt(_,"SID",c.K),yt(_,"RID",y),yt(_,"TYPE","terminate"),Xa(c,_),y=new ot(c,c.j,y),y.L=2,y.v=qa(Un(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=$u(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ln(y)}Yu(c)}function Bs(c){c.g&&(Wa(c),c.g.cancel(),c.g=null)}function Hu(c){Bs(c),c.u&&(m.clearTimeout(c.u),c.u=null),Hs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function js(c){if(!Lr(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||O(),ge||(ce(),ge=!0),ke.add(y,c),c.B=0}}function wf(c,y){return Tt(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=le(T(c.Ga,c,y),sl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ot(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=A(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(j.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=qu(this,j,y),_=Un(this.I),yt(_,"RID",c),yt(_,"CVER",22),this.D&&yt(_,"X-HTTP-Session-Id",this.D),Xa(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(nl(Z)))+"&"+y:this.m&&Xt(_,this.m,Z)),oi(this.h,j),this.Ua&&yt(_,"TYPE","init"),this.P?(yt(_,"$req",y),yt(_,"SID","null"),j.T=!0,qt(j,_,null)):qt(j,_,y),this.G=2}}else this.G==3&&(c?il(this,c):this.i.length==0||Lr(this.h)||il(this))};function il(c,y){var _;y?_=y.l:_=c.U++;const S=Un(c.I);yt(S,"SID",c.K),yt(S,"RID",_),yt(S,"AID",c.T),Xa(c,S),c.m&&c.o&&Xt(S,c.m,c.o),_=new ot(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),oi(c.h,_),qt(_,S,y)}function Xa(c,y){c.H&&B(c.H,function(_,S){yt(y,S,_)}),c.l&&Wo({},function(_,S){yt(y,S,_)})}function qu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?T(c.l.Na,c.l,c):null;e:{var j=c.i;let Z=-1;for(;;){const me=["count="+_];Z==-1?0<_?(Z=j[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let rt=!0;for(let Ft=0;Ft<_;Ft++){let it=j[Ft].g;const Wt=j[Ft].map;if(it-=Z,0>it)Z=Math.max(0,j[Ft].g-100),rt=!1;else try{Ur(Wt,me,"req"+it+"_")}catch{S&&S(Wt)}}if(rt){S=me.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Fu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||O(),ge||(ce(),ge=!0),ke.add(y,c),c.v=0}}function al(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=le(T(c.Fa,c),sl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=le(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,q(10),Bs(this),Gu(this))};function Wa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Gu(c){c.g=new ot(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Un(c.qa);yt(y,"RID","rpc"),yt(y,"SID",c.K),yt(y,"AID",c.T),yt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&yt(y,"TO",c.ja),yt(y,"TYPE","xmlhttp"),Xa(c,y),c.m&&c.o&&Xt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=qa(Un(y)),_.m=null,_.P=!0,An(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Bs(this),al(this),q(19))};function Hs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ku(c,y){var _=null;if(c.g==y){Hs(c),Wa(c),c.g=null;var S=2}else if(er(c.h,y))_=y.D,rn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;S=Vr(),Ge(S,new ne(S,_)),js(c)}else Fu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&wf(c,y)||S==2&&al(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:di(c,5);break;case 4:di(c,10);break;case 3:di(c,6);break;default:di(c,2)}}}function sl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function di(c,y){if(c.j.info("Error code "+y),y==2){var _=T(c.fb,c),S=c.Xa;const j=!S;S=new Ut(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ha(S,"https"),qa(S),j?Ga(S.toString(),_):vr(S.toString(),_)}else q(2);c.G=0,c.l&&c.l.sa(y),Yu(c),Hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),q(2)):(this.j.info("Failed to ping google.com"),q(1))};function Yu(c){if(c.G=0,c.ka=[],c.l){const y=Xo(c.h);(y.length!=0||c.i.length!=0)&&(K(c.ka,y),K(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Qu(c,y,_){var S=_ instanceof Ut?Un(_):new Ut(_);if(S.g!="")y&&(S.g=y+"."+S.g),qi(S,S.s);else{var j=m.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Z=new Ut(null);S&&Ha(Z,S),y&&(Z.g=y),j&&qi(Z,j),_&&(Z.l=_),S=Z}return _=c.D,y=c.ya,_&&y&&yt(S,_,y),yt(S,"VER",c.la),Xa(c,S),S}function $u(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ft(new Fi({eb:_})):new ft(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function qs(){}qs.prototype.g=function(c,y){return new In(c,y)};function In(c,y){ut.call(this),this.g=new zs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ue(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ue(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Hr(this)}M(In,ut),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){rl(this.g)},In.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);y.i.push(new kn(y.Ya++,c)),y.G==3&&js(y)},In.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,In.aa.N.call(this)};function Wu(c){yr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Wu,yr);function Zu(){Bi.call(this),this.status=1}M(Zu,Bi);function Hr(c){this.g=c}M(Hr,Xu),Hr.prototype.ua=function(){Ge(this.g,"a")},Hr.prototype.ta=function(c){Ge(this.g,new Wu(c))},Hr.prototype.sa=function(c){Ge(this.g,new Zu)},Hr.prototype.ra=function(){Ge(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,kT=function(){return new qs},LT=function(){return Vr()},PT=Sn,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,ch=be,Me.COMPLETE="complete",VT=Me,Ba.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ru=Ba,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,xT=ft}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",R0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new wp("@firebase/firestore");function Eo(){return bs.logLevel}function ve(r,...e){if(bs.logLevel<=et.DEBUG){const n=e.map(Ap);bs.debug(`Firestore (${Ho}): ${r}`,...n)}}function Mi(r,...e){if(bs.logLevel<=et.ERROR){const n=e.map(Ap);bs.error(`Firestore (${Ho}): ${r}`,...n)}}function No(r,...e){if(bs.logLevel<=et.WARN){const n=e.map(Ap);bs.warn(`Firestore (${Ho}): ${r}`,...n)}}function Ap(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,UT(r,a,n)}function UT(r,e,n){let a=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Mi(a),new Error(a)}function dt(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||UT(e,o,a)}function je(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class M2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x2{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Oi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Oi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(dt(typeof a.accessToken=="string",31837,{l:a}),new zT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class V2{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P2{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new V2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const a=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=k2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ye(r,e){return r<e?-1:r>e?1:0}function Km(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ye(a,o);{const u=BT(),h=U2(u.encode(C0(r,n)),u.encode(C0(e,n)));return h!==0?h:Ye(a,o)}}n+=a>65535?2:1}return Ye(r.length,e.length)}function C0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function U2(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ye(r[n],e[n]);return Ye(r.length,e.length)}function Mo(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=-62135596800,O0=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*O0);return new Qt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<D0)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-D0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Qt(0,0))}static max(){return new Be(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__name__";class $r{constructor(e,n,a){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Pe(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=$r.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ye(e.length,n.length)}static compareSegments(e,n){const a=$r.isNumericId(e),o=$r.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?$r.extractNumericId(e).compare($r.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class St extends $r{construct(e,n,a){return new St(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new St(n)}static emptyPath(){return new St([])}}const z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends $r{construct(e,n,a){return new cn(e,n,a)}static isValidIdentifier(e){return z2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new cn([N0])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ee(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(u(),o++)}if(u(),h)throw new Ee(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(St.fromString(e))}static fromName(e){return new Ce(St.fromString(e).popFirst(5))}static empty(){return new Ce(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new St(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function B2(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Be.fromTimestamp(a===1e9?new Qt(n+1,0):new Qt(n,a));return new Ia(o,Ce.empty(),e)}function j2(r){return new Ia(r.readTime,r.key,gu)}class Ia{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ia(Be.min(),Ce.empty(),gu)}static max(){return new Ia(Be.max(),Ce.empty(),gu)}}function H2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(r.documentKey,e.documentKey),n!==0?n:Ye(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==q2)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,a)=>{n(e)})}static reject(e){return new se((n,a)=>{a(e)})}static waitFor(e){return new se((n,a)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>a(p))}),h=!0,u===o&&n()})}static or(e){let n=se.resolve(!1);for(const a of e)n=n.next(o=>o?se.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new se((a,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{h[g]=v,++m,m===u&&a(h)},v=>o(v))}})}static doWhile(e,n){return new se((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function G2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=-1;function Zh(r){return r==null}function Ch(r){return r===0&&1/r==-1/0}function K2(r){return typeof r=="number"&&Number.isInteger(r)&&!Ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="";function Y2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=M0(e)),e=Q2(r.get(n),e);return M0(e)}function Q2(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case HT:n+="";break;default:n+=u}}return n}function M0(r){return r+HT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Is(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function qT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new un(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V0(this.data.getIterator())}getIteratorFrom(e){return new V0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class V0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new br([])}unionWith(e){let n=new $t(cn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new FT("Invalid base64 string: "+u):u}}(e);return new hn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const $2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(r){if(dt(!!r,39018),typeof r=="string"){let e=0;const n=$2.exec(r);if(dt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Da(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="server_timestamp",KT="__type__",YT="__previous_value__",QT="__local_write_time__";function Ip(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[KT])===null||n===void 0?void 0:n.stringValue)===GT}function Jh(r){const e=r.mapValue.fields[YT];return Ip(e)?Jh(e):e}function yu(r){const e=Ca(r.mapValue.fields[QT].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,a,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Dh="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="__type__",W2="__max__",rh={mapValue:{}},XT="__vector__",Oh="value";function Oa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ip(r)?4:J2(r)?9007199254740991:Z2(r)?10:11:Pe(28295,{value:r})}function ti(r,e){if(r===e)return!0;const n=Oa(r);if(n!==Oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yu(r).isEqual(yu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ca(o.timestampValue),m=Ca(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Da(o.bytesValue).isEqual(Da(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=xt(o.doubleValue),m=xt(u.doubleValue);return h===m?Ch(h)===Ch(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return Mo(r.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(x0(h)!==x0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ti(h[p],m[p])))return!1;return!0}(r,e);default:return Pe(52216,{left:r})}}function _u(r,e){return(r.values||[]).find(n=>ti(n,e))!==void 0}function xo(r,e){if(r===e)return 0;const n=Oa(r),a=Oa(e);if(n!==a)return Ye(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=xt(u.integerValue||u.doubleValue),p=xt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return P0(r.timestampValue,e.timestampValue);case 4:return P0(yu(r),yu(e));case 5:return Km(r.stringValue,e.stringValue);case 6:return function(u,h){const m=Da(u),p=Da(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ye(m[g],p[g]);if(v!==0)return v}return Ye(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ye(xt(u.latitude),xt(h.latitude));return m!==0?m:Ye(xt(u.longitude),xt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return L0(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,v;const w=u.fields||{},T=h.fields||{},I=(m=w[Oh])===null||m===void 0?void 0:m.arrayValue,M=(p=T[Oh])===null||p===void 0?void 0:p.arrayValue,$=Ye(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((v=M==null?void 0:M.values)===null||v===void 0?void 0:v.length)||0);return $!==0?$:L0(I,M)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const T=Km(p[w],v[w]);if(T!==0)return T;const I=xo(m[p[w]],g[v[w]]);if(I!==0)return I}return Ye(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Pe(23264,{Pe:n})}}function P0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ye(r,e);const n=Ca(r),a=Ca(e),o=Ye(n.seconds,a.seconds);return o!==0?o:Ye(n.nanos,a.nanos)}function L0(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=xo(n[o],a[o]);if(u)return u}return Ye(n.length,a.length)}function Vo(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Ca(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Da(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ce.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Ym(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Ym(n.fields[h])}`;return o+"}"}(r.mapValue):Pe(61005,{value:r})}function hh(r){switch(Oa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(r);return e?16+hh(e):16;case 5:return 2*r.stringValue.length;case 6:return Da(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+hh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Is(a.fields,(u,h)=>{o+=u.length+hh(h)}),o}(r.mapValue);default:throw Pe(13486,{value:r})}}function k0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Qm(r){return!!r&&"integerValue"in r}function Cp(r){return!!r&&"arrayValue"in r}function U0(r){return!!r&&"nullValue"in r}function z0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fh(r){return!!r&&"mapValue"in r}function Z2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[$T])===null||n===void 0?void 0:n.stringValue)===XT}function lu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Is(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=lu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function J2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===W2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=cn.emptyPath(),a={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}h?a[m.lastSegment()]=lu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Is(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new dr(lu(this.value))}}function WT(r){const e=[];return Is(r.fields,(n,a)=>{const o=new cn([n]);if(fh(a)){const u=WT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,a,o,u,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Be.min(),Be.min(),Be.min(),dr.empty(),0)}static newFoundDocument(e,n,a,o){return new _n(e,1,n,Be.min(),a,o,0)}static newNoDocument(e,n){return new _n(e,2,n,Be.min(),Be.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Be.min(),Be.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function B0(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=Ce.comparator(Ce.fromName(h.referenceValue),n.key):a=xo(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function j0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ti(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function eC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{}class Ht extends ZT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new nC(e,n,a):n==="array-contains"?new aC(e,a):n==="in"?new sC(e,a):n==="not-in"?new oC(e,a):n==="array-contains-any"?new lC(e,a):new Ht(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new rC(e,a):new iC(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&Oa(this.value)===Oa(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends ZT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Rr(e,n)}matches(e){return JT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function JT(r){return r.op==="and"}function ew(r){return tC(r)&&JT(r)}function tC(r){for(const e of r.filters)if(e instanceof Rr)return!1;return!0}function $m(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+Vo(r.value);if(ew(r))return r.filters.map(e=>$m(e)).join(",");{const e=r.filters.map(n=>$m(n)).join(",");return`${r.op}(${e})`}}function tw(r,e){return r instanceof Ht?function(a,o){return o instanceof Ht&&a.op===o.op&&a.field.isEqual(o.field)&&ti(a.value,o.value)}(r,e):r instanceof Rr?function(a,o){return o instanceof Rr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,m)=>u&&tw(h,o.filters[m]),!0):!1}(r,e):void Pe(19439)}function nw(r){return r instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(r):r instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(nw).join(" ,")+"}"}(r):"Filter"}class nC extends Ht{constructor(e,n,a){super(e,n,a),this.key=Ce.fromName(a.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class rC extends Ht{constructor(e,n){super(e,"in",n),this.keys=rw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iC extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=rw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rw(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ce.fromName(a.referenceValue))}class aC extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cp(n)&&_u(n.arrayValue,this.value)}}class sC extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class oC extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}}class lC extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>_u(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n=null,a=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function H0(r,e=null,n=[],a=[],o=null,u=null,h=null){return new uC(r,e,n,a,o,u,h)}function Dp(r){const e=je(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>$m(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Vo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Vo(a)).join(",")),e.Ie=n}return e.Ie}function Op(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!eC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!tw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!j0(r.startAt,e.startAt)&&j0(r.endAt,e.endAt)}function Xm(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n=null,a=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function cC(r,e,n,a,o,u,h,m){return new Go(r,e,n,a,o,u,h,m)}function ef(r){return new Go(r)}function q0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iw(r){return r.collectionGroup!==null}function uu(r){const e=je(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new $t(cn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Eu(u,a))}),n.has(cn.keyField().canonicalString())||e.Ee.push(new Eu(cn.keyField(),a))}return e.Ee}function Wr(r){const e=je(r);return e.de||(e.de=hC(e,uu(r))),e.de}function hC(r,e){if(r.limitType==="F")return H0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Eu(o.field,u)});const n=r.endAt?new Nh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Nh(r.startAt.position,r.startAt.inclusive):null;return H0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Wm(r,e){const n=r.filters.concat([e]);return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Zm(r,e,n){return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function tf(r,e){return Op(Wr(r),Wr(e))&&r.limitType===e.limitType}function aw(r){return`${Dp(Wr(r))}|lt:${r.limitType}`}function To(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>nw(o)).join(", ")}]`),Zh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Vo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Vo(o)).join(",")),`Target(${a})`}(Wr(r))}; limitType=${r.limitType})`}function nf(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ce.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of uu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(h,m,p){const g=B0(h,m,p);return h.inclusive?g<=0:g<0}(a.startAt,uu(a),o)||a.endAt&&!function(h,m,p){const g=B0(h,m,p);return h.inclusive?g>=0:g>0}(a.endAt,uu(a),o))}(r,e)}function fC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sw(r){return(e,n)=>{let a=!1;for(const o of uu(r)){const u=dC(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function dC(r,e,n){const a=r.field.isKeyField()?Ce.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?xo(p,g):Pe(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Pe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Ct(Ce.comparator);function xi(){return mC}const ow=new Ct(Ce.comparator);function iu(...r){let e=ow;for(const n of r)e=e.insert(n.key,n);return e}function lw(r){let e=ow;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function gs(){return cu()}function uw(){return cu()}function cu(){return new Cs(r=>r.toString(),(r,e)=>r.isEqual(e))}const pC=new Ct(Ce.comparator),gC=new $t(Ce.comparator);function tt(...r){let e=gC;for(const n of r)e=e.add(n);return e}const yC=new $t(Ye);function vC(){return yC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function cw(r){return{integerValue:""+r}}function _C(r,e){return K2(e)?cw(e):Np(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function EC(r,e,n){return r instanceof Mh?function(o,u){const h={fields:{[KT]:{stringValue:GT},[QT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ip(u)&&(u=Jh(u)),u&&(h.fields[YT]=u),{mapValue:h}}(n,e):r instanceof Tu?fw(r,e):r instanceof wu?dw(r,e):function(o,u){const h=hw(o,u),m=F0(h)+F0(o.Re);return Qm(h)&&Qm(o.Re)?cw(m):Np(o.serializer,m)}(r,e)}function TC(r,e,n){return r instanceof Tu?fw(r,e):r instanceof wu?dw(r,e):n}function hw(r,e){return r instanceof xh?function(a){return Qm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Mh extends rf{}class Tu extends rf{constructor(e){super(),this.elements=e}}function fw(r,e){const n=mw(e);for(const a of r.elements)n.some(o=>ti(o,a))||n.push(a);return{arrayValue:{values:n}}}class wu extends rf{constructor(e){super(),this.elements=e}}function dw(r,e){let n=mw(e);for(const a of r.elements)n=n.filter(o=>!ti(o,a));return{arrayValue:{values:n}}}class xh extends rf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function F0(r){return xt(r.integerValue||r.doubleValue)}function mw(r){return Cp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function wC(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Tu&&o instanceof Tu||a instanceof wu&&o instanceof wu?Mo(a.elements,o.elements,ti):a instanceof xh&&o instanceof xh?ti(a.Re,o.Re):a instanceof Mh&&o instanceof Mh}(r.transform,e.transform)}class bC{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class af{}function pw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Mp(r.key,Ar.none()):new Nu(r.key,r.data,Ar.none());{const n=r.data,a=dr.empty();let o=new $t(cn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Ds(r.key,a,new br(o.toArray()),Ar.none())}}function SC(r,e,n){r instanceof Nu?function(o,u,h){const m=o.value.clone(),p=K0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Ds?function(o,u,h){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=K0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(gw(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function hu(r,e,n,a){return r instanceof Nu?function(u,h,m,p){if(!dh(u.precondition,h))return m;const g=u.value.clone(),v=Y0(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof Ds?function(u,h,m,p){if(!dh(u.precondition,h))return m;const g=Y0(u.fieldTransforms,p,h),v=h.data;return v.setAll(gw(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,a):function(u,h,m){return dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,n)}function AC(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=hw(a.transform,o||null);u!=null&&(n===null&&(n=dr.empty()),n.set(a.field,u))}return n||null}function G0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Mo(a,o,(u,h)=>wC(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nu extends af{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends af{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gw(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function K0(r,e,n){const a=new Map;dt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);a.set(u.field,TC(h,m,n[o]))}return a}function Y0(r,e,n){const a=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);a.set(o.field,EC(u,h,e))}return a}class Mp extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RC extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SC(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=hu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=hu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=uw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=pw(h,m);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Be.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(n,a)=>G0(n,a))&&Mo(this.baseMutations,e.baseMutations,(n,a)=>G0(n,a))}}class xp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){dt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return pC}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new xp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,st;function OC(r){switch(r){case ae.OK:return Pe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Pe(15467,{code:r})}}function yw(r){if(r===void 0)return Mi("GRPC error has no .code"),ae.UNKNOWN;switch(r){case jt.OK:return ae.OK;case jt.CANCELLED:return ae.CANCELLED;case jt.UNKNOWN:return ae.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ae.INTERNAL;case jt.UNAVAILABLE:return ae.UNAVAILABLE;case jt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case jt.NOT_FOUND:return ae.NOT_FOUND;case jt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case jt.ABORTED:return ae.ABORTED;case jt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case jt.DATA_LOSS:return ae.DATA_LOSS;default:return Pe(39323,{code:r})}}(st=jt||(jt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new ba([4294967295,4294967295],0);function Q0(r){const e=BT().encode(r),n=new MT;return n.update(e),new Uint8Array(n.digest())}function $0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ba([n,a],0),new ba([o,u],0)]}class Vp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(a<0)throw new au(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ba.fromNumber(this.pe)}we(e,n,a){let o=e.add(n.multiply(ba.fromNumber(a)));return o.compare(NC)===1&&(o=new ba([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Q0(e),[a,o]=$0(n);for(let u=0;u<this.hashCount;u++){const h=this.we(a,o,u);if(!this.be(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Vp(u,o,n);return a.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const n=Q0(e),[a,o]=$0(n);for(let u=0;u<this.hashCount;u++){const h=this.we(a,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new sf(Be.min(),o,new Ct(Ye),xi(),tt())}}class Mu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Mu(a,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,a,o){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=o}}class vw{constructor(e,n){this.targetId=e,this.Ce=n}}class _w{constructor(e,n,a=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class X0{constructor(){this.Fe=0,this.Me=W0(),this.xe=hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),n=tt(),a=tt();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Pe(38017,{changeType:u})}}),new Mu(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=W0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class MC{constructor(e){this.ze=e,this.je=new Map,this.He=xi(),this.Je=ih(),this.Ye=ih(),this.Ze=new Ct(Ye)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,a=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Xm(u))if(a===0){const h=new Ce(u.path);this.tt(n,h,_n.newNoDocument(h,Be.min()))}else dt(a===1,20013,{expectedCount:a});else{const h=this.ut(n);if(h!==a){const m=this.ct(e),p=m?this.lt(m,e,h):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Da(a).toUint8Array()}catch(p){if(p instanceof FT)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vp(h,o,u)}catch(p){return No(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&Xm(m.target)){const p=new Ce(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,_n.newNoDocument(p,e))}u.Le&&(n.set(h,u.qe()),u.Qe())}});let a=tt();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new sf(e,n,this.Ze,this.He,a);return this.He=xi(),this.Je=ih(),this.Ye=ih(),this.Ze=new Ct(Ye),o}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new X0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new $t(Ye),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new $t(Ye),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new X0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ih(){return new Ct(Ce.comparator)}function W0(){return new Ct(Ce.comparator)}const xC={asc:"ASCENDING",desc:"DESCENDING"},VC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PC={and:"AND",or:"OR"};class LC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(r,e){return r.useProto3Json||Zh(e)?e:{value:e}}function Vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ew(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kC(r,e){return Vh(r,e.toTimestamp())}function Zr(r){return dt(!!r,49232),Be.fromTimestamp(function(n){const a=Ca(n);return new Qt(a.seconds,a.nanos)}(r))}function Pp(r,e){return ep(r,e).canonicalString()}function ep(r,e){const n=function(o){return new St(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function Tw(r){const e=St.fromString(r);return dt(Rw(e),10190,{key:e.toString()}),e}function tp(r,e){return Pp(r.databaseId,e.path)}function Om(r,e){const n=Tw(e);if(n.get(1)!==r.databaseId.projectId)throw new Ee(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ee(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ce(bw(n))}function ww(r,e){return Pp(r.databaseId,e)}function UC(r){const e=Tw(r);return e.length===4?St.emptyPath():bw(e)}function np(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function bw(r){return dt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Z0(r,e,n){return{name:tp(r,e),fields:n.value.mapValue.fields}}function zC(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(dt(v===void 0||typeof v=="string",58123),hn.fromBase64String(v||"")):(dt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),hn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const v=g.code===void 0?ae.UNKNOWN:yw(g.code);return new Ee(v,g.message||"")}(h);n=new _w(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Om(r,a.document.name),u=Zr(a.document.updateTime),h=a.document.createTime?Zr(a.document.createTime):Be.min(),m=new dr({mapValue:{fields:a.document.fields}}),p=_n.newFoundDocument(o,u,h,m),g=a.targetIds||[],v=a.removedTargetIds||[];n=new mh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Om(r,a.document),u=a.readTime?Zr(a.readTime):Be.min(),h=_n.newNoDocument(o,u),m=a.removedTargetIds||[];n=new mh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Om(r,a.document),u=a.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new DC(o,u),m=a.targetId;n=new vw(m,h)}}return n}function BC(r,e){let n;if(e instanceof Nu)n={update:Z0(r,e.key,e.value)};else if(e instanceof Mp)n={delete:tp(r,e.key)};else if(e instanceof Ds)n={update:Z0(r,e.key,e.data),updateMask:$C(e.fieldMask)};else{if(!(e instanceof RC))return Pe(16599,{ft:e.type});n={verify:tp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const m=h.transform;if(m instanceof Mh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Pe(20930,{transform:h.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:kC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe(27497)}(r,e.precondition)),n}function jC(r,e){return r&&r.length>0?(dt(e!==void 0,14353),r.map(n=>function(o,u){let h=o.updateTime?Zr(o.updateTime):Zr(u);return h.isEqual(Be.min())&&(h=Zr(u)),new bC(h,o.transformResults||[])}(n,e))):[]}function HC(r,e){return{documents:[ww(r,e.path)]}}function qC(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=ww(r,o);const u=function(g){if(g.length!==0)return Aw(Rr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:wo(T.field),direction:KC(T.dir)}}(v))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Jm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function FC(r){let e=UC(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){dt(a===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(w){const T=Sw(w);return T instanceof Rr&&ew(T)?T.getFilters():[T]}(n.where));let h=[];n.orderBy&&(h=function(w){return w.map(T=>function(M){return new Eu(bo(M.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(w){let T;return T=typeof w=="object"?w.value:w,Zh(T)?null:T}(n.limit));let p=null;n.startAt&&(p=function(w){const T=!!w.before,I=w.values||[];return new Nh(I,T)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const T=!w.before,I=w.values||[];return new Nh(I,T)}(n.endAt)),cC(e,o,h,u,m,"F",p,g)}function GC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sw(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=bo(n.unaryFilter.field);return Ht.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(n.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bo(n.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=bo(n.unaryFilter.field);return Ht.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ht.create(bo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(a=>Sw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(r):Pe(30097,{filter:r})}function KC(r){return xC[r]}function YC(r){return VC[r]}function QC(r){return PC[r]}function wo(r){return{fieldPath:r.canonicalString()}}function bo(r){return cn.fromServerFormat(r.fieldPath)}function Aw(r){return r instanceof Ht?function(n){if(n.op==="=="){if(z0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(U0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(U0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:YC(n.op),value:n.value}}}(r):r instanceof Rr?function(n){const a=n.getFilters().map(o=>Aw(o));return a.length===1?a[0]:{compositeFilter:{op:QC(n.op),filters:a}}}(r):Pe(54877,{filter:r})}function $C(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,a,o,u=Be.min(),h=Be.min(),m=hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.wt=e}}function WC(r){const e=FC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.Cn=new JC}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Ia.min())}updateCollectionGroup(e,n,a){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class JC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new $t(St.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new $t(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Iw=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(Iw,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Po(0)}static lr(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="LruGarbageCollector",eD=1048576;function tE([r,e],[n,a]){const o=Ye(r,n);return o===0?Ye(e,a):o}class tD{constructor(e){this.Er=e,this.buffer=new $t(tE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();tE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ve(eE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fo(n)?ve(eE,"Ignoring IndexedDB error during garbage collection: ",n):await qo(n)}await this.mr(3e5)})}}class rD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Wh.le);const a=new tD(n);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.gr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(J0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let a,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,m=Date.now(),this.removeTargets(e,a,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(g=Date.now(),Eo()<=et.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function iD(r,e){return new rD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?se.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&hu(a.mutation,o,br.empty(),Qt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,tt()).next(()=>a))}getLocalViewOfDocuments(e,n,a=tt()){const o=gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let h=iu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const a=gs();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,tt()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,a,o){let u=xi();const h=cu(),m=function(){return cu()}();return n.forEach((p,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ds)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),hu(v.mutation,g,v.mutation.getFieldMask(),Qt.now())):h.set(g.key,br.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),n.forEach((g,v)=>{var w;return m.set(g,new sD(v,(w=h.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const a=cu();let o=new Ct((h,m)=>h-m),u=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=a.get(p)||br.empty();v=m.applyToLocalView(g,v),a.set(p,v);const w=(o.get(m.batchId)||tt()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,w=uw();v.forEach(T=>{if(!u.has(T)){const I=pw(n.get(T),a.get(T));I!==null&&w.set(T,I),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return se.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(h){return Ce.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):se.resolve(gs());let m=gu,p=u;return h.next(g=>se.forEach(g,(v,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,tt())).next(v=>({batchId:m,changes:lw(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(a=>{let o=iu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=iu();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,p=>{const g=function(w,T){return new Go(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(v=>{v.forEach((w,T)=>{h=h.insert(w,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,_n.newInvalidDocument(v)))});let m=iu();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&hu(v.mutation,g,br.empty(),Qt.now()),nf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return se.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Zr(o.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:WC(o.bundledQuery),readTime:Zr(o.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.overlays=new Ct(Ce.comparator),this.Qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const a=gs();return se.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(a)),se.resolve()}getOverlaysForCollection(e,n,a){const o=gs(),u=n.length+1,h=new Ce(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Ct((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=gs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return se.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new CC(n,a));let u=this.Qr.get(n);u===void 0&&(u=tt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.$r=new $t(tn.Ur),this.Kr=new $t(tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const a=new tn(e,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.zr(new tn(e,n))}jr(e,n){e.forEach(a=>this.removeReference(a,n))}Hr(e){const n=new Ce(new St([])),a=new tn(n,e),o=new tn(n,e+1),u=[];return this.Kr.forEachInRange([a,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ce(new St([])),a=new tn(n,e),o=new tn(n,e+1);let u=tt();return this.Kr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new tn(e,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class tn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ce.comparator(e.key,n.key)||Ye(e.Zr,n.Zr)}static Wr(e,n){return Ye(e.Zr,n.Zr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new $t(tn.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new IC(u,n,a,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new tn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ti(a),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Rp:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new tn(n,0),o=new tn(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([a,o],h=>{const m=this.ei(h.Zr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new $t(Ye);return n.forEach(o=>{const u=new tn(o,0),h=new tn(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{a=a.add(m.Zr)})}),se.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ce.isDocumentKey(u)||(u=u.child(""));const h=new tn(new Ce(u),0);let m=new $t(Ye);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},h),se.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){dt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return se.forEach(n.mutations,o=>{const u=new tn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,n){const a=new tn(n,0),o=this.Xr.firstAfterOrEqual(a);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.ii=e,this.docs=function(){return new Ct(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return se.resolve(a?a.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let a=xi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))}),se.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=xi();const h=n.path,m=new Ce(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||H2(j2(v),a)<=0||(o.has(v.key)||nf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Pe(9500)}si(e,n){return se.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new dD(this)}getSize(e){return se.resolve(this.size)}}class dD extends aD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),se.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.persistence=e,this.oi=new Cs(n=>Dp(n),Op),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this._i=0,this.ai=new Lp,this.targetCount=0,this.ui=Po.cr()}forEachTarget(e,n){return this.oi.forEach((a,o)=>n(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),se.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Po(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Tr(n),se.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const a=this.oi.get(n)||null;return se.resolve(a)}addMatchingKeys(e,n,a){return this.ai.Gr(n,a),se.resolve()}removeMatchingKeys(e,n,a){this.ai.jr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ai.Yr(n);return se.resolve(a)}containsKey(e,n){return se.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.ci={},this.overlays={},this.li=new Wh(0),this.hi=!1,this.hi=!0,this.Pi=new cD,this.referenceDelegate=e(this),this.Ti=new mD(this),this.indexManager=new ZC,this.remoteDocumentCache=function(o){return new fD(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new XC(n),this.Ei=new lD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ci[e.toKey()];return a||(a=new hD(n,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,a){ve("MemoryPersistence","Starting transaction:",e);const o=new pD(this.li.next());return this.referenceDelegate.di(),a(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return se.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,n)))}}class pD extends F2{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Vi=new Lp,this.mi=null}static fi(e){return new kp(e)}get gi(){if(this.mi)return this.mi;throw Pe(60996)}addReference(e,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),se.resolve()}removeReference(e,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,a=>{const o=Ce.fromPath(a);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Be.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return se.or([()=>se.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.yi=new Cs(a=>Y2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=iD(this,n)}static fi(e,n){return new Ph(e,n)}di(){}Ai(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}br(e){let n=0;return this.yr(e,a=>{n++}).next(()=>n)}yr(e,n){return se.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(u=>u?se.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,n).next(m=>{m||(a++,u.removeEntry(h,Be.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),se.resolve()}removeReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hh(e.data.value)),n}Dr(e,n,a){return se.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return se.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.ds=a,this.As=o}static Rs(e,n){let a=tt(),o=tt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Up(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return hI()?8:G2(En())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ws(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(e,n,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new gD;return this.Ss(e,n,h).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,h,m.size)})}).next(()=>u.result)}Ds(e,n,a,o){return a.documentReadCount<this.gs?(Eo()<=et.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(Eo()<=et.DEBUG&&ve("QueryEngine","Query:",To(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(Eo()<=et.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):se.resolve())}ws(e,n){if(q0(n))return se.resolve(null);let a=Wr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),a=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=tt(...u);return this.ys.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,h,p.readTime)?this.ws(e,Zm(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,a,o){return q0(n)||o.isEqual(Be.min())?se.resolve(null):this.ys.getDocuments(e,a).next(u=>{const h=this.vs(n,u);return this.Cs(n,h,a,o)?se.resolve(null):(Eo()<=et.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(n)),this.Fs(e,h,n,B2(o,gu)).next(m=>m))})}vs(e,n){let a=new $t(sw(e));return n.forEach((o,u)=>{nf(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Eo()<=et.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",To(n)),this.ys.getDocumentsMatchingQuery(e,n,Ia.min(),a)}Fs(e,n,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",vD=3e8;class _D{constructor(e,n,a,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new Ct(Ye),this.Os=new Cs(u=>Dp(u),Op),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function ED(r,e,n,a){return new _D(r,e,n,a)}async function Dw(r,e){const n=je(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],m=[];let p=tt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:m}))})})}function TD(r,e){const n=je(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const w=g.batch,T=w.keys();let I=se.resolve();return T.forEach(M=>{I=I.next(()=>v.getEntry(p,M)).next($=>{const K=g.docVersions.get(M);dt(K!==null,48541),$.version.compareTo(K)<0&&(w.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),v.addEntry($)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=tt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function Ow(r){const e=je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function wD(r,e){const n=je(r),a=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;m.push(n.Ti.removeMatchingKeys(u,v.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,v.addedDocuments,w)));let I=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(hn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,a)),o=o.insert(w,I),function($,K,F){return $.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=vD?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,I,v)&&m.push(n.Ti.updateTargetData(u,I))});let p=xi(),g=tt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(bD(u,h,e.documentUpdates).next(v=>{p=v.qs,g=v.Qs})),!a.isEqual(Be.min())){const v=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(v)}return se.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function bD(r,e,n){let a=tt(),o=tt();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let h=xi();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ve(zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function SD(r,e){const n=je(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Rp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function AD(r,e){const n=je(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Ti.getTargetData(a,e).next(u=>u?(o=u,se.resolve(o)):n.Ti.allocateTargetId(a).next(h=>(o=new _a(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(a.targetId,a),n.Os.set(e,a.targetId)),a})}async function rp(r,e,n){const a=je(r),o=a.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Fo(h))throw h;ve(zp,`Failed to update sequence numbers for target ${e}: ${h}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function nE(r,e,n){const a=je(r);let o=Be.min(),u=tt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const w=je(p),T=w.Os.get(v);return T!==void 0?se.resolve(w.xs.get(T)):w.Ti.getTargetData(g,v)}(a,h,Wr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>a.Ms.getDocumentsMatchingQuery(h,e,n?o:Be.min(),n?u:tt())).next(m=>(RD(a,fC(e),m),{documents:m,$s:u})))}function RD(r,e,n){let a=r.Ns.get(e)||Be.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Ns.set(e,a)}class rE{constructor(){this.activeTargetIds=vC()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ID{constructor(){this.xo=new rE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,a){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new rE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="ConnectivityMonitor";class aE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ve(iE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ve(iE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function ip(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",DD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===Dh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,n,a,o,u){const h=ip(),m=this.jo(e,n.toUriEncodedString());ve(Nm,`Sending RPC '${e}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),v=Bo(g);return this.Jo(e,m,p,a,v).then(w=>(ve(Nm,`Received RPC '${e}' ${h}: `,w),w),w=>{throw No(Nm,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",a),w})}Yo(e,n,a,o,u,h){return this.zo(e,n,a,o,u)}Ho(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const a=DD[e];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class MD extends OD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const h=ip();return new Promise((m,p)=>{const g=new xT;g.setWithCredentials(!0),g.listenOnce(VT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ch.NO_ERROR:const w=g.getResponseJson();ve(yn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case ch.TIMEOUT:ve(yn,`RPC '${e}' ${h} timed out`),p(new Ee(ae.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const T=g.getStatus();if(ve(yn,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const M=I==null?void 0:I.error;if(M&&M.status&&M.message){const $=function(F){const ue=F.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(ue)>=0?ue:ae.UNKNOWN}(M.status);p(new Ee($,M.message))}else p(new Ee(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ee(ae.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{h_:e,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ve(yn,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);ve(yn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,a,15)})}I_(e,n,a){const o=ip(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=kT(),m=LT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const v=u.join("");ve(yn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=h.createWebChannel(v,p);this.E_(w);let T=!1,I=!1;const M=new ND({Zo:K=>{I?ve(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(T||(ve(yn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ve(yn,`RPC '${e}' stream ${o} sending:`,K),w.send(K))},Xo:()=>w.close()}),$=(K,F,ue)=>{K.listen(F,ie=>{try{ue(ie)}catch(pe){setTimeout(()=>{throw pe},0)}})};return $(w,ru.EventType.OPEN,()=>{I||(ve(yn,`RPC '${e}' stream ${o} transport opened.`),M.__())}),$(w,ru.EventType.CLOSE,()=>{I||(I=!0,ve(yn,`RPC '${e}' stream ${o} transport closed`),M.u_(),this.d_(w))}),$(w,ru.EventType.ERROR,K=>{I||(I=!0,No(yn,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),M.u_(new Ee(ae.UNAVAILABLE,"The operation could not be completed")))}),$(w,ru.EventType.MESSAGE,K=>{var F;if(!I){const ue=K.data[0];dt(!!ue,16349);const ie=ue,pe=(ie==null?void 0:ie.error)||((F=ie[0])===null||F===void 0?void 0:F.error);if(pe){ve(yn,`RPC '${e}' stream ${o} received error:`,pe);const de=pe.status;let B=function(R){const V=jt[R];if(V!==void 0)return yw(V)}(de),x=pe.message;B===void 0&&(B=ae.INTERNAL,x="Unknown error status: "+de+" with message "+pe.message),I=!0,M.u_(new Ee(B,x)),w.close()}else ve(yn,`RPC '${e}' stream ${o} received:`,ue),M.c_(ue)}}),$(m,PT.STAT_EVENT,K=>{K.stat===Gm.PROXY?ve(yn,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Gm.NOPROXY&&ve(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.a_()},0),M}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(r){return new LC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,a=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=a,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-a);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="PersistentStream";class Mw{constructor(e,n,a,o,u,h,m,p){this.xi=e,this.S_=a,this.D_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Nw(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===n&&this.z_(a,o)},a=>{e(()=>{const o=new Ee(ae.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,n){const a=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ve(sE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ve(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xD extends Mw{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=zC(this.serializer,e),a=function(u){if(!("targetChange"in u))return Be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Be.min():h.readTime?Zr(h.readTime):Be.min()}(e);return this.listener.Y_(n,a)}Z_(e){const n={};n.database=np(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=Xm(p)?{documents:HC(u,p)}:{query:qC(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Ew(u,h.resumeToken);const g=Jm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Be.min())>0){m.readTime=Vh(u,h.snapshotVersion.toTimestamp());const g=Jm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=GC(this.serializer,e);a&&(n.labels=a),this.Q_(n)}X_(e){const n={};n.database=np(this.serializer),n.removeTarget=e,this.Q_(n)}}class VD extends Mw{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=jC(e.writeResults,e.commitTime),a=Zr(e.commitTime);return this.listener.ra(a,n)}ia(){const e={};e.database=np(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>BC(this.serializer,a))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{}class LD extends PD{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Ee(ae.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,ep(n,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(ae.UNKNOWN,u.toString())})}Yo(e,n,a,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(e,ep(n,a),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ee(ae.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class kD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Mi(n),this.ua=!1):ve("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="RemoteStore";class UD{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{a.enqueueAndForget(async()=>{Os(this)&&(ve(Ss,"Restarting streams for network reachability change."),await async function(p){const g=je(p);g.da.add(4),await xu(g),g.Va.set("Unknown"),g.da.delete(4),await lf(g)}(this))})}),this.Va=new kD(a,o)}}async function lf(r){if(Os(r))for(const e of r.Aa)await e(!0)}async function xu(r){for(const e of r.Aa)await e(!1)}function xw(r,e){const n=je(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),qp(n)?Hp(n):Ko(n).N_()&&jp(n,e))}function Bp(r,e){const n=je(r),a=Ko(n);n.Ea.delete(e),a.N_()&&Vw(n,e),n.Ea.size===0&&(a.N_()?a.k_():Os(n)&&n.Va.set("Unknown"))}function jp(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ko(r).Z_(e)}function Vw(r,e){r.ma.Ke(e),Ko(r).X_(e)}function Hp(r){r.ma=new MC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ko(r).start(),r.Va.ca()}function qp(r){return Os(r)&&!Ko(r).O_()&&r.Ea.size>0}function Os(r){return je(r).da.size===0}function Pw(r){r.ma=void 0}async function zD(r){r.Va.set("Online")}async function BD(r){r.Ea.forEach((e,n)=>{jp(r,e)})}async function jD(r,e){Pw(r),qp(r)?(r.Va.Pa(e),Hp(r)):r.Va.set("Unknown")}async function HD(r,e,n){if(r.Va.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ea.delete(m),o.ma.removeTarget(m))}(r,e)}catch(a){ve(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Lh(r,a)}else if(e instanceof mh?r.ma.Xe(e):e instanceof vw?r.ma.ot(e):r.ma.nt(e),!n.isEqual(Be.min()))try{const a=await Ow(r.localStore);n.compareTo(a)>=0&&await function(u,h){const m=u.ma.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ea.get(g);v&&u.Ea.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ea.get(p);if(!v)return;u.Ea.set(p,v.withResumeToken(hn.EMPTY_BYTE_STRING,v.snapshotVersion)),Vw(u,p);const w=new _a(v.target,p,g,v.sequenceNumber);jp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){ve(Ss,"Failed to raise snapshot:",a),await Lh(r,a)}}async function Lh(r,e,n){if(!Fo(e))throw e;r.da.add(1),await xu(r),r.Va.set("Offline"),n||(n=()=>Ow(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ve(Ss,"Retrying IndexedDB access"),await n(),r.da.delete(1),await lf(r)})}function Lw(r,e){return e().catch(n=>Lh(r,n,e))}async function uf(r){const e=je(r),n=Na(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Rp;for(;qD(e);)try{const o=await SD(e.localStore,a);if(o===null){e.Ia.length===0&&n.k_();break}a=o.batchId,FD(e,o)}catch(o){await Lh(e,o)}kw(e)&&Uw(e)}function qD(r){return Os(r)&&r.Ia.length<10}function FD(r,e){r.Ia.push(e);const n=Na(r);n.N_()&&n.ea&&n.ta(e.mutations)}function kw(r){return Os(r)&&!Na(r).O_()&&r.Ia.length>0}function Uw(r){Na(r).start()}async function GD(r){Na(r).ia()}async function KD(r){const e=Na(r);for(const n of r.Ia)e.ta(n.mutations)}async function YD(r,e,n){const a=r.Ia.shift(),o=xp.from(a,e,n);await Lw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await uf(r)}async function QD(r,e){e&&Na(r).ea&&await async function(a,o){if(function(h){return OC(h)&&h!==ae.ABORTED}(o.code)){const u=a.Ia.shift();Na(a).L_(),await Lw(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(a)}}(r,e),kw(r)&&Uw(r)}async function oE(r,e){const n=je(r);n.asyncQueue.verifyOperationInProgress(),ve(Ss,"RemoteStore received new credentials");const a=Os(n);n.da.add(3),await xu(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await lf(n)}async function $D(r,e){const n=je(r);e?(n.da.delete(2),await lf(n)):e||(n.da.add(2),await xu(n),n.Va.set("Unknown"))}function Ko(r){return r.fa||(r.fa=function(n,a,o){const u=je(n);return u.oa(),new xD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:zD.bind(null,r),n_:BD.bind(null,r),i_:jD.bind(null,r),Y_:HD.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),qp(r)?Hp(r):r.Va.set("Unknown")):(await r.fa.stop(),Pw(r))})),r.fa}function Na(r){return r.ga||(r.ga=function(n,a,o){const u=je(n);return u.oa(),new VD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:GD.bind(null,r),i_:QD.bind(null,r),na:KD.bind(null,r),ra:YD.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await uf(r)):(await r.ga.stop(),r.Ia.length>0&&(ve(Ss,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,m=new Fp(e,n,h,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(r,e){if(Mi("AsyncQueue",`${e}: ${r}`),Fo(r))return new Ee(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ce.comparator(n.key,a.key):(n,a)=>Ce.comparator(n.key,a.key),this.keyedMap=iu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Ro;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.pa=new Ct(Ce.comparator)}track(e){const n=e.doc.key,a=this.pa.get(n);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(n,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(n):e.type===1&&a.type===2?this.pa=this.pa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Pe(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,a)=>{e.push(a)}),e}}class Lo{constructor(e,n,a,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Lo(e,n,Ro.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class WD{constructor(){this.queries=uE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=je(n),u=o.queries;o.queries=uE(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(a)})})(this,new Ee(ae.ABORTED,"Firestore shutting down"))}}function uE(){return new Cs(r=>aw(r),tf)}async function Kp(r,e){const n=je(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(a=2):(u=new XD,a=e.va()?0:1);try{switch(a){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Gp(h,`Initialization of query '${To(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&Qp(n)}async function Yp(r,e){const n=je(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function ZD(r,e){const n=je(r);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Ma(o)&&(a=!0);h.ba=o}}a&&Qp(n)}function JD(r,e,n){const a=je(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Qp(r){r.Ca.forEach(e=>{e.next()})}var ap,cE;(cE=ap||(ap={})).xa="default",cE.Cache="cache";class $p{constructor(e,n,a){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Lo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const a=n!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.key=e}}class Bw{constructor(e){this.key=e}}class eO{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.Za=sw(e),this.Xa=new Ro(this.Za)}get eu(){return this.Ha}tu(e,n){const a=n?n.nu:new lE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),I=nf(this.query,w)?w:null,M=!!T&&this.mutatedKeys.has(T.key),$=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let K=!1;T&&I?T.data.isEqual(I.data)?M!==$&&(a.track({type:3,doc:I}),K=!0):this.ru(T,I)||(a.track({type:2,doc:I}),K=!0,(p&&this.Za(I,p)>0||g&&this.Za(I,g)<0)&&(m=!0)):!T&&I?(a.track({type:0,doc:I}),K=!0):T&&!I&&(a.track({type:1,doc:T}),K=!0,(p||g)&&(m=!0)),K&&(I?(h=h.add(I),u=$?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{Xa:h,nu:a,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((v,w)=>function(I,M){const $=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:K})}};return $(I)-$(M)}(v.type,w.type)||this.Za(v.doc,w.doc)),this.iu(a),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new Lo(this.query,e.Xa,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new lE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const n=[];return e.forEach(a=>{this.Ya.has(a)||n.push(new Bw(a))}),this.Ya.forEach(a=>{e.has(a)||n.push(new zw(a))}),n}au(e){this.Ha=e.$s,this.Ya=tt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Lo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Xp="SyncEngine";class tO{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class nO{constructor(e){this.key=e,this.cu=!1}}class rO{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new Cs(m=>aw(m),tf),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ct(Ce.comparator),this.Eu=new Map,this.du=new Lp,this.Au={},this.Ru=new Map,this.Vu=Po.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function iO(r,e,n=!0){const a=Kw(r);let o;const u=a.hu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await jw(a,e,n,!0),o}async function aO(r,e){const n=Kw(r);await jw(n,e,!0,!1)}async function jw(r,e,n,a){const o=await AD(r.localStore,Wr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await sO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&xw(r.remoteStore,o),m}async function sO(r,e,n,a,o){r.fu=(w,T,I)=>async function($,K,F,ue){let ie=K.view.tu(F);ie.Cs&&(ie=await nE($.localStore,K.query,!1).then(({documents:x})=>K.view.tu(x,ie)));const pe=ue&&ue.targetChanges.get(K.targetId),de=ue&&ue.targetMismatches.get(K.targetId)!=null,B=K.view.applyChanges(ie,$.isPrimaryClient,pe,de);return fE($,K.targetId,B.ou),B.snapshot}(r,w,T,I);const u=await nE(r.localStore,e,!0),h=new eO(e,u.$s),m=h.tu(u.documents),p=Mu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);fE(r,n,g.ou);const v=new tO(e,n,h);return r.hu.set(e,v),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),g.snapshot}async function oO(r,e,n){const a=je(r),o=a.hu.get(e),u=a.Pu.get(o.targetId);if(u.length>1)return a.Pu.set(o.targetId,u.filter(h=>!tf(h,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Bp(a.remoteStore,o.targetId),sp(a,o.targetId)}).catch(qo)):(sp(a,o.targetId),await rp(a.localStore,o.targetId,!0))}async function lO(r,e){const n=je(r),a=n.hu.get(e),o=n.Pu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Bp(n.remoteStore,a.targetId))}async function uO(r,e,n){const a=gO(r);try{const o=await function(h,m){const p=je(h),g=Qt.now(),v=m.reduce((I,M)=>I.add(M.key),tt());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=xi(),$=tt();return p.Bs.getEntries(I,v).next(K=>{M=K,M.forEach((F,ue)=>{ue.isValidDocument()||($=$.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,M)).next(K=>{w=K;const F=[];for(const ue of m){const ie=AC(ue,w.get(ue.key).overlayedDocument);ie!=null&&F.push(new Ds(ue.key,ie,WT(ie.value.mapValue),Ar.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,F,m)}).next(K=>{T=K;const F=K.applyToLocalDocumentSet(w,$);return p.documentOverlayCache.saveOverlays(I,K.batchId,F)})}).then(()=>({batchId:T.batchId,changes:lw(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Au[h.currentUser.toKey()];g||(g=new Ct(Ye)),g=g.insert(m,p),h.Au[h.currentUser.toKey()]=g}(a,o.batchId,n),await Vu(a,o.changes),await uf(a.remoteStore)}catch(o){const u=Gp(o,"Failed to persist write");n.reject(u)}}async function Hw(r,e){const n=je(r);try{const a=await wD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?dt(h.cu,14607):o.removedDocuments.size>0&&(dt(h.cu,42227),h.cu=!1))}),await Vu(n,a,e)}catch(a){await qo(a)}}function hE(r,e,n){const a=je(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.hu.forEach((u,h)=>{const m=h.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=je(h);p.onlineState=m;let g=!1;p.queries.forEach((v,w)=>{for(const T of w.Sa)T.Fa(m)&&(g=!0)}),g&&Qp(p)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function cO(r,e,n){const a=je(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let h=new Ct(Ce.comparator);h=h.insert(u,_n.newNoDocument(u,Be.min()));const m=tt().add(u),p=new sf(Be.min(),new Map,new Ct(Ye),h,m);await Hw(a,p),a.Iu=a.Iu.remove(u),a.Eu.delete(e),Wp(a)}else await rp(a.localStore,e,!1).then(()=>sp(a,e,n)).catch(qo)}async function hO(r,e){const n=je(r),a=e.batch.batchId;try{const o=await TD(n.localStore,e);Fw(n,a,null),qw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Vu(n,o)}catch(o){await qo(o)}}async function fO(r,e,n){const a=je(r);try{const o=await function(h,m){const p=je(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(dt(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(a.localStore,e);Fw(a,e,n),qw(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Vu(a,o)}catch(o){await qo(o)}}function qw(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function Fw(r,e,n){const a=je(r);let o=a.Au[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function sp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Pu.get(e))r.hu.delete(a),n&&r.lu.gu(a,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(a=>{r.du.containsKey(a)||Gw(r,a)})}function Gw(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(Bp(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),Wp(r))}function fE(r,e,n){for(const a of n)a instanceof zw?(r.du.addReference(a.key,e),dO(r,a)):a instanceof Bw?(ve(Xp,"Document no longer in limbo: "+a.key),r.du.removeReference(a.key,e),r.du.containsKey(a.key)||Gw(r,a.key)):Pe(19791,{pu:a})}function dO(r,e){const n=e.key,a=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(a)||(ve(Xp,"New document in limbo: "+n),r.Tu.add(a),Wp(r))}function Wp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new Ce(St.fromString(e)),a=r.Vu.next();r.Eu.set(a,new nO(n)),r.Iu=r.Iu.insert(n,a),xw(r.remoteStore,new _a(Wr(ef(n.path)),a,"TargetPurposeLimboResolution",Wh.le))}}async function Vu(r,e,n){const a=je(r),o=[],u=[],h=[];a.hu.isEmpty()||(a.hu.forEach((m,p)=>{h.push(a.fu(p,e,n).then(g=>{var v;if((g||n)&&a.isPrimaryClient){const w=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Up.Rs(p.targetId,g);u.push(w)}}))}),await Promise.all(h),a.lu.Y_(o),await async function(p,g){const v=je(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>se.forEach(g,T=>se.forEach(T.ds,I=>v.persistence.referenceDelegate.addReference(w,T.targetId,I)).next(()=>se.forEach(T.As,I=>v.persistence.referenceDelegate.removeReference(w,T.targetId,I)))))}catch(w){if(!Fo(w))throw w;ve(zp,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const I=v.xs.get(T),M=I.snapshotVersion,$=I.withLastLimboFreeSnapshotVersion(M);v.xs=v.xs.insert(T,$)}}}(a.localStore,u))}async function mO(r,e){const n=je(r);if(!n.currentUser.isEqual(e)){ve(Xp,"User change. New user:",e.toKey());const a=await Dw(n.localStore,e);n.currentUser=e,function(u,h){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new Ee(ae.CANCELLED,h))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Vu(n,a.ks)}}function pO(r,e){const n=je(r),a=n.Eu.get(e);if(a&&a.cu)return tt().add(a.key);{let o=tt();const u=n.Pu.get(e);if(!u)return o;for(const h of u){const m=n.hu.get(h);o=o.unionWith(m.view.eu)}return o}}function Kw(r){const e=je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cO.bind(null,e),e.lu.Y_=ZD.bind(null,e.eventManager),e.lu.gu=JD.bind(null,e.eventManager),e}function gO(r){const e=je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fO.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return ED(this.persistence,new yD,e.initialUser,this.serializer)}Su(e){return new Cw(kp.fi,this.serializer)}bu(e){return new ID}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class yO extends kh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){dt(this.persistence.referenceDelegate instanceof Ph,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new nD(a,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new Cw(a=>Ph.fi(a,n),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>hE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=mO.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WD}()}createDatastore(e){const n=of(e.databaseInfo.databaseId),a=function(u){return new MD(u)}(e.databaseInfo);return function(u,h,m,p){return new LD(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,h,m){return new UD(a,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>hE(this.syncEngine,n,0),function(){return aE.C()?new aE:new CD}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,v){const w=new rO(o,u,h,m,p,g);return v&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=je(o);ve(Ss,"RemoteStore shutting down."),u.da.add(5),await xu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="FirestoreClient";class vO{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=jT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{ve(Ma,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ve(Ma,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Gp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),ve(Ma,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Dw(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function dE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await _O(r);ve(Ma,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>oE(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>oE(e.remoteStore,o)),r._onlineComponents=e}async function _O(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(Ma,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await xm(r,new kh)}}else ve(Ma,"Using default OfflineComponentProvider"),await xm(r,new yO(void 0));return r._offlineComponents}async function Yw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(Ma,"Using user provided OnlineComponentProvider"),await dE(r,r._uninitializedComponentsProvider._online)):(ve(Ma,"Using default OnlineComponentProvider"),await dE(r,new op))),r._onlineComponents}function EO(r){return Yw(r).then(e=>e.syncEngine)}async function Uh(r){const e=await Yw(r),n=e.eventManager;return n.onListen=iO.bind(null,e.syncEngine),n.onUnlisten=oO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lO.bind(null,e.syncEngine),n}function TO(r,e,n={}){const a=new Oi;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Zp({next:T=>{v.xu(),h.enqueueAndForget(()=>Yp(u,w));const I=T.docs.has(m);!I&&T.fromCache?g.reject(new Ee(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&p&&p.source==="server"?g.reject(new Ee(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new $p(ef(m.path),v,{includeMetadataChanges:!0,Qa:!0});return Kp(u,w)}(await Uh(r),r.asyncQueue,e,n,a)),a.promise}function wO(r,e,n={}){const a=new Oi;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Zp({next:T=>{v.xu(),h.enqueueAndForget(()=>Yp(u,w)),T.fromCache&&p.source==="server"?g.reject(new Ee(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new $p(m,v,{includeMetadataChanges:!0,Qa:!0});return Kp(u,w)}(await Uh(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r,e,n){if(!n)throw new Ee(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function bO(r,e,n,a){if(e===!0&&a===!0)throw new Ee(ae.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function pE(r){if(!Ce.isDocumentKey(r))throw new Ee(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gE(r){if(Ce.isDocumentKey(r))throw new Ee(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Pe(12329,{type:typeof r})}function mr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ee(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(r);throw new Ee(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firestore.googleapis.com",yE=!0;class vE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xw,this.ssl=yE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:yE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Iw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eD)throw new Ee(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qw((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new N2;switch(a.type){case"firstParty":return new P2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ee(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=mE.get(n);a&&(ve("ComponentProvider","Removing Datastore"),mE.delete(n),a.terminate())}(this),Promise.resolve()}}function SO(r,e,n,a={}){var o;r=mr(r,hf);const u=Bo(e),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(ST(`https://${p}`),AT("Firestore",!0)),h.host!==Xw&&h.host!==p&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:a});if(!Ts(g,m)&&(r._setSettings(g),a.mockUserToken)){let v,w;if(typeof a.mockUserToken=="string")v=a.mockUserToken,w=vn.MOCK_USER;else{v=nI(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new Ee(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new vn(T)}r._authCredentials=new M2(new zT(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class Dn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Sa extends La{constructor(e,n,a){super(e,n,ef(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Ce(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function lp(r,e,...n){if(r=Tn(r),$w("collection","path",e),r instanceof hf){const a=St.fromString(e,...n);return gE(a),new Sa(r,null,a)}{if(!(r instanceof Dn||r instanceof Sa))throw new Ee(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...n));return gE(a),new Sa(r.firestore,null,a)}}function bu(r,e,...n){if(r=Tn(r),arguments.length===1&&(e=jT.newId()),$w("doc","path",e),r instanceof hf){const a=St.fromString(e,...n);return pE(a),new Dn(r,null,new Ce(a))}{if(!(r instanceof Dn||r instanceof Sa))throw new Ee(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...n));return pE(a),new Dn(r.firestore,r instanceof Sa?r.converter:null,new Ce(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="AsyncQueue";class EE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Nw(this,"async_queue_retry"),this.rc=()=>{const a=Mm();a&&ve(_E,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Oi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Fo(e))throw e;ve(_E,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Mi("INTERNAL UNHANDLED ERROR: ",TE(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=n,n}enqueueAfterDelay(e,n,a){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Fp.createAndSchedule(this,e,n,a,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Pe(47125,{cc:TE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function TE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class xa extends hf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new EE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EE(e),this._firestoreClient=void 0,await e}}}function AO(r,e){const n=typeof r=="object"?r:DT(),a=typeof r=="string"?r:Dh,o=Sp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=eI("firestore");u&&SO(o,...u)}return o}function ff(r){if(r._terminated)throw new Ee(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RO(r),r._firestoreClient}function RO(r){var e,n,a;const o=r._freezeSettings(),u=function(m,p,g,v){return new X2(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Qw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new vO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(hn.fromBase64String(e))}catch(n){throw new Ee(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ko(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^__.*__$/;class CO{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}function Zw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ic:r})}}class ng{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return zh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Zw(this.Ic)&&IO.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class DO{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||of(e)}bc(e,n,a,o=!1){return new ng({Ic:e,methodName:n,wc:a,path:cn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(r){const e=r._freezeSettings(),n=of(r._databaseId);return new DO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Jw(r,e,n,a,o,u={}){const h=r.bc(u.merge||u.mergeFields?2:0,e,n,o);nb("Data must be an object, but it was:",h,a);const m=eb(a,h);let p,g;if(u.merge)p=new br(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const w of u.mergeFields){const T=NO(e,w,n);if(!h.contains(T))throw new Ee(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);xO(v,T)||v.push(T)}p=new br(v),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new CO(new dr(m),p,g)}function OO(r,e,n,a=!1){return ig(n,r.bc(a?4:3,e))}function ig(r,e){if(tb(r=Tn(r)))return nb("Unsupported field value:",e,r),eb(r,e);if(r instanceof Ww)return function(a,o){if(!Zw(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const m of a){let p=ig(m,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=Tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _C(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Qt.fromDate(a);return{timestampValue:Vh(o.serializer,u)}}if(a instanceof Qt){const u=new Qt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(a instanceof eg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ko)return{bytesValue:Ew(o.serializer,a._byteString)};if(a instanceof Dn){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof tg)return function(h,m){return{mapValue:{fields:{[$T]:{stringValue:XT},[Oh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return Np(m.serializer,g)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${cf(a)}`)}(r,e)}function eb(r,e){const n={};return qT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(r,(a,o)=>{const u=ig(o,e.Ac(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function tb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qt||r instanceof eg||r instanceof ko||r instanceof Dn||r instanceof Ww||r instanceof tg)}function nb(r,e,n){if(!tb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=cf(n);throw a==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+a)}}function NO(r,e,n){if((e=Tn(e))instanceof Jp)return e._internalPath;if(typeof e=="string")return rb(r,e);throw zh("Field path arguments must be of type string or ",r,!1,void 0,n)}const MO=new RegExp("[~\\*/\\[\\]]");function rb(r,e,n){if(e.search(MO)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Jp(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function zh(r,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new Ee(ae.INVALID_ARGUMENT,m+r+p)}function xO(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ag("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VO extends ib{data(){return super.data()}}function ag(r,e){return typeof e=="string"?rb(r,e):e instanceof Jp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ee(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class sb extends sg{}function ob(r,e,...n){let a=[];e instanceof sg&&a.push(e),a=a.concat(n),function(u){const h=u.filter(p=>p instanceof lg).length,m=u.filter(p=>p instanceof og).length;if(h>1||h>0&&m>0)throw new Ee(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class og extends sb{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new og(e,n,a)}_apply(e){const n=this._parse(e);return ub(e._query,n),new La(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=rg(e.firestore);return function(u,h,m,p,g,v,w){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ee(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){SE(w,v);const M=[];for(const $ of w)M.push(bE(p,u,$));T={arrayValue:{values:M}}}else T=bE(p,u,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||SE(w,v),T=OO(m,h,w,v==="in"||v==="not-in");return Ht.create(g,v,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class lg extends sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lg(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)ub(h,p),h=Wm(h,p)}(e._query,n),new La(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ug extends sb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ug(e,n)}_apply(e){const n=function(o,u,h){if(o.startAt!==null)throw new Ee(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ee(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(u,h)}(e._query,this._field,this._direction);return new La(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Go(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function lb(r,e="asc"){const n=e,a=ag("orderBy",r);return ug._create(a,n)}function bE(r,e,n){if(typeof(n=Tn(n))=="string"){if(n==="")throw new Ee(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iw(e)&&n.indexOf("/")!==-1)throw new Ee(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(St.fromString(n));if(!Ce.isDocumentKey(a))throw new Ee(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return k0(r,new Ce(a))}if(n instanceof Dn)return k0(r,n._key);throw new Ee(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function SE(r,e){if(!Array.isArray(r)||r.length===0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ub(r,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ee(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PO{convertValue(e,n="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Is(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[Oh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>xt(h.doubleValue));return new tg(u)}convertGeoPoint(e){return new eg(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Jh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=Ca(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=St.fromString(e);dt(Rw(a),9688,{name:e});const o=new vu(a.get(1),a.get(3)),u=new Ce(a.popFirst(5));return o.isEqual(n)||Mi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,e,n){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hb extends ib{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ag("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class ph extends hb{data(e={}){return super.data(e)}}class fb{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new su(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new ph(this._firestore,this._userDataWriter,a.key,a,new su(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new su(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new su(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:LO(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r){r=mr(r,Dn);const e=mr(r.firestore,xa);return TO(ff(e),r._key).then(n=>mb(e,r,n))}class cg extends PO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function kO(r){r=mr(r,La);const e=mr(r.firestore,xa),n=ff(e),a=new cg(e);return ab(r._query),wO(n,r._query).then(o=>new fb(e,a,r,o))}function UO(r,e,n){r=mr(r,Dn);const a=mr(r.firestore,xa),o=cb(r.converter,e);return hg(a,[Jw(rg(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ar.none())])}function zO(r){return hg(mr(r.firestore,xa),[new Mp(r._key,Ar.none())])}function BO(r,e){const n=mr(r.firestore,xa),a=bu(r),o=cb(r.converter,e);return hg(n,[Jw(rg(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Ar.exists(!1))]).then(()=>a)}function jO(r,...e){var n,a,o;r=Tn(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||wE(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(wE(e[h])){const w=e[h];e[h]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[h+1]=(a=w.error)===null||a===void 0?void 0:a.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,v;if(r instanceof Dn)g=mr(r.firestore,xa),v=ef(r._key.path),p={next:w=>{e[h]&&e[h](mb(g,r,w))},error:e[h+1],complete:e[h+2]};else{const w=mr(r,La);g=mr(w.firestore,xa),v=w._query;const T=new cg(g);p={next:I=>{e[h]&&e[h](new fb(g,T,w,I))},error:e[h+1],complete:e[h+2]},ab(r._query)}return function(T,I,M,$){const K=new Zp($),F=new $p(I,K,M);return T.asyncQueue.enqueueAndForget(async()=>Kp(await Uh(T),F)),()=>{K.xu(),T.asyncQueue.enqueueAndForget(async()=>Yp(await Uh(T),F))}}(ff(g),v,m,p)}function hg(r,e){return function(a,o){const u=new Oi;return a.asyncQueue.enqueueAndForget(async()=>uO(await EO(a),o,u)),u.promise}(ff(r),e)}function mb(r,e,n){const a=n.docs.get(e._key),o=new cg(r);return new hb(r,o,e._key,a,new su(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ho=o})(jo),Oo(new ws("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new xa(new x2(a.getProvider("auth-internal")),new L2(h,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),wa(A0,R0,e),wa(A0,R0,"esm2017")})();function fg(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function pb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HO=pb,gb=new Du("auth","Firebase",pb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new wp("@firebase/auth");function qO(r,...e){Bh.logLevel<=et.WARN&&Bh.warn(`Auth (${jo}): ${r}`,...e)}function gh(r,...e){Bh.logLevel<=et.ERROR&&Bh.error(`Auth (${jo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(r,...e){throw dg(r,...e)}function Jr(r,...e){return dg(r,...e)}function yb(r,e,n){const a=Object.assign(Object.assign({},HO()),{[e]:n});return new Du("auth","Firebase",a).create(e,{appName:r.name})}function Aa(r){return yb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dg(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return gb.create(r,...e)}function Ve(r,e,...n){if(!r)throw dg(e,...n)}function Ci(r){const e="INTERNAL ASSERTION FAILED: "+r;throw gh(e),new Error(e)}function Vi(r,e){r||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function FO(){return AE()==="http:"||AE()==="https:"}function AE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FO()||lI()||"connection"in navigator)?navigator.onLine:!0}function KO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=aI()||uI()}get(){return GO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r,e){Vi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$O=new Pu(3e4,6e4);function Ns(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ka(r,e,n,a,o={}){return _b(r,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const m=Ou(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return oI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Bo(r.emulatorConfig.host)&&(g.credentials="include"),vb.fetch()(await Eb(r,r.config.apiHost,n,m),g)})}async function _b(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},YO),e);try{const o=new WO(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw sh(r,"user-disabled",h);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw yb(r,v,g);Ir(r,v)}}catch(o){if(o instanceof Pi)throw o;Ir(r,"network-request-failed",{message:String(o)})}}async function df(r,e,n,a,o={}){const u=await ka(r,e,n,a,o);return"mfaPendingCredential"in u&&Ir(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Eb(r,e,n,a){const o=`${e}${n}?${a}`,u=r,h=u.config.emulator?mg(r.config,o):`${r.config.apiScheme}://${o}`;return QO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function XO(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Jr(this.auth,"network-request-failed")),$O.get())})}}function sh(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Jr(r,e,a);return o.customData._tokenResponse=n,o}function RE(r){return r!==void 0&&r.enterprise!==void 0}class ZO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JO(r,e){return ka(r,"GET","/v2/recaptchaConfig",Ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,e){return ka(r,"POST","/v1/accounts:delete",e)}async function jh(r,e){return ka(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tN(r,e=!1){const n=Tn(r),a=await n.getIdToken(e),o=pg(a);Ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:fu(Vm(o.auth_time)),issuedAtTime:fu(Vm(o.iat)),expirationTime:fu(Vm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Vm(r){return Number(r)*1e3}function pg(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ET(n);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function IE(r){const e=pg(r);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Pi&&nN(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function nN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Su(r,jh(n,{idToken:a}));Ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Tb(u.providerUserInfo):[],m=aN(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new cp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(r,w)}async function iN(r){const e=Tn(r);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aN(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Tb(r){return r.map(e=>{var{providerId:n}=e,a=fg(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(r,e){const n=await _b(r,{},async()=>{const a=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await Eb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&Bo(r.emulatorConfig.host)&&(p.credentials="include"),vb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oN(r,e){return ka(r,"POST","/v2/accounts:revokeToken",Ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=IE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await sN(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,h=new Io;return a&&(Ve(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(Ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(r,e){Ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Sr{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new cp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Su(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tN(this,e)}reload(){return iN(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(Aa(this.auth));const e=await this.getIdToken();return await Su(this,eN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,h,m,p,g,v;const w=(a=n.displayName)!==null&&a!==void 0?a:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,I=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(h=n.photoURL)!==null&&h!==void 0?h:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,K=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,F=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ue=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ie,emailVerified:pe,isAnonymous:de,providerData:B,stsTokenManager:x}=n;Ve(ie&&x,e,"internal-error");const A=Io.fromJSON(this.name,x);Ve(typeof ie=="string",e,"internal-error"),fa(w,e.name),fa(T,e.name),Ve(typeof pe=="boolean",e,"internal-error"),Ve(typeof de=="boolean",e,"internal-error"),fa(I,e.name),fa(M,e.name),fa($,e.name),fa(K,e.name),fa(F,e.name),fa(ue,e.name);const R=new Sr({uid:ie,auth:e,email:T,emailVerified:pe,displayName:w,isAnonymous:de,photoURL:M,phoneNumber:I,tenantId:$,stsTokenManager:A,createdAt:F,lastLoginAt:ue});return B&&Array.isArray(B)&&(R.providerData=B.map(V=>Object.assign({},V))),K&&(R._redirectEventId=K),R}static async _fromIdTokenResponse(e,n,a=!1){const o=new Io;o.updateFromServerResponse(n);const u=new Sr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Hh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Tb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Io;m.updateFromIdToken(a);const p=new Sr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;function Di(r){Vi(r instanceof Function,"Expected a class definition");let e=CE.get(r);return e?(Vi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,CE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wb.type="NONE";const DE=wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(r,e,n){return`firebase:${r}:${e}:${n}`}class Co{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jh(this.auth,{idToken:e}).catch(()=>{});return n?Sr._fromGetAccountInfoResponse(this.auth,n,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Co(Di(DE),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Di(DE);const h=yh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let w;if(typeof v=="string"){const T=await jh(e,{idToken:v}).catch(()=>{});if(!T)break;w=await Sr._fromGetAccountInfoResponse(e,T,v)}else w=Sr._fromJSON(e,v);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Co(u,e,a):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Co(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cb(e))return"Blackberry";if(Db(e))return"Webos";if(Sb(e))return"Safari";if((e.includes("chrome/")||Ab(e))&&!e.includes("edge/"))return"Chrome";if(Ib(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function bb(r=En()){return/firefox\//i.test(r)}function Sb(r=En()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ab(r=En()){return/crios\//i.test(r)}function Rb(r=En()){return/iemobile/i.test(r)}function Ib(r=En()){return/android/i.test(r)}function Cb(r=En()){return/blackberry/i.test(r)}function Db(r=En()){return/webos/i.test(r)}function gg(r=En()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function lN(r=En()){var e;return gg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uN(){return cI()&&document.documentMode===10}function Ob(r=En()){return gg(r)||Ib(r)||Db(r)||Cb(r)||/windows phone/i.test(r)||Rb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(r,e=[]){let n;switch(r){case"Browser":n=OE(En());break;case"Worker":n=`${OE(En())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(r,e={}){return ka(r,"GET","/v2/passwordPolicy",Ns(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=6;class dN{constructor(e){var n,a,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:fN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new cN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jh(this,{idToken:e}),a=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(Aa(this));const n=e?Tn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hN(this),n=new dN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await oN(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Di(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yo(r){return Tn(r)}class NE{constructor(e){this.auth=e,this.observer=null,this.addObserver=vI(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pN(r){mf=r}function Mb(r){return mf.loadJS(r)}function gN(){return mf.recaptchaEnterpriseScript}function yN(){return mf.gapiScript}function vN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _N{constructor(){this.enterprise=new EN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const TN="recaptcha-enterprise",xb="NO_RECAPTCHA";class wN{constructor(e){this.type=TN,this.auth=Yo(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{JO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new ZO(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;RE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(xb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _N().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(m=>{if(!n&&RE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=gN();p.length!==0&&(p+=m),Mb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function ME(r,e,n,a=!1,o=!1){const u=new wN(r);let h;if(o)h=xb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function xE(r,e,n,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await ME(r,e,n,n==="getOobCode");return a(r,h)}else return a(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await ME(r,e,n,n==="getOobCode");return a(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r,e){const n=Sp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ts(u,e??{}))return o;Ir(o,"already-initialized")}return n.initialize({options:e})}function SN(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Di);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function AN(r,e,n){const a=Yo(r);Ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Vb(e),{host:h,port:m}=RN(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ve(Ts(g,a.config.emulator)&&Ts(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Bo(h)?(ST(`${u}//${h}${p}`),AT("Auth",!0)):IN()}function Vb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function RN(r){const e=Vb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:VE(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:VE(h)}}}function VE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function IN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function CN(r,e){return ka(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(r,e){return df(r,"POST","/v1/accounts:signInWithPassword",Ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(r,e){return df(r,"POST","/v1/accounts:signInWithEmailLink",Ns(r,e))}async function NN(r,e){return df(r,"POST","/v1/accounts:signInWithEmailLink",Ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends yg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Au(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Au(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xE(e,n,"signInWithPassword",DN);case"emailLink":return ON(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xE(e,a,"signUpPassword",CN);case"emailLink":return NN(e,{idToken:n,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(r,e){return df(r,"POST","/v1/accounts:signInWithIdp",Ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="http://localhost";class As extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=fg(n,["providerId","signInMethod"]);if(!a||!o)return null;const h=new As(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Do(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:MN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VN(r){const e=tu(nu(r)).link,n=e?tu(nu(e)).deep_link_id:null,a=tu(nu(r)).deep_link_id;return(a?tu(nu(a)).link:null)||a||n||e||r}class vg{constructor(e){var n,a,o,u,h,m;const p=tu(nu(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,v=(a=p.oobCode)!==null&&a!==void 0?a:null,w=xN((o=p.mode)!==null&&o!==void 0?o:null);Ve(g&&v&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=VN(e);try{return new vg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,n){return Au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=vg.parseLink(n);return Ve(a,"argument-error"),Au._fromEmailAndCode(e,a.code,a.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Pb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Lu{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch{return null}}}pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return As._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ga.credential(n,a)}catch{return null}}}ga.GOOGLE_SIGN_IN_METHOD="google.com";ga.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Lu{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.GITHUB_SIGN_IN_METHOD="github.com";ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Lu{constructor(){super("twitter.com")}static credential(e,n){return As._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return va.credential(n,a)}catch{return null}}}va.TWITTER_SIGN_IN_METHOD="twitter.com";va.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Sr._fromIdTokenResponse(e,a,o),h=PE(a);return new Uo({user:u,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=PE(a);return new Uo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function PE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Pi{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new qh(e,n,a,o)}}function Lb(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,u,e,a):u})}async function PN(r,e,n=!1){const a=await Su(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Uo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(r,e,n=!1){const{auth:a}=r;if(wr(a.app))return Promise.reject(Aa(a));const o="reauthenticate";try{const u=await Su(r,Lb(a,o,e,r),n);Ve(u.idToken,a,"internal-error");const h=pg(u.idToken);Ve(h,a,"internal-error");const{sub:m}=h;return Ve(r.uid===m,a,"user-mismatch"),Uo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ir(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(r,e,n=!1){if(wr(r.app))return Promise.reject(Aa(r));const a="signIn",o=await Lb(r,a,e),u=await Uo._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function kN(r,e){return kb(Yo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(r){const e=Yo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function zN(r,e,n){return wr(r.app)?Promise.reject(Aa(r)):kN(Tn(r),Qo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&UN(r),a})}function BN(r,e,n,a){return Tn(r).onIdTokenChanged(e,n,a)}function jN(r,e,n){return Tn(r).beforeAuthStateChanged(e,n)}function HN(r,e,n,a){return Tn(r).onAuthStateChanged(e,n,a)}function qN(r){return Tn(r).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=1e3,GN=10;class zb extends Ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ob(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);uN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GN):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zb.type="LOCAL";const KN=zb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends Ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bb.type="SESSION";const jb=Bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new pf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await YN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=_g("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function $N(r){ei().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function XN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ZN(){return Hb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebaseLocalStorageDb",JN=1,Gh="firebaseLocalStorage",Fb="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(r,e){return r.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function e4(){const r=indexedDB.deleteDatabase(qb);return new ku(r).toPromise()}function hp(){const r=indexedDB.open(qb,JN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Gh,{keyPath:Fb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Gh)?e(a):(a.close(),await e4(),e(await hp()))})})}async function LE(r,e,n){const a=gf(r,!0).put({[Fb]:e,value:n});return new ku(a).toPromise()}async function t4(r,e){const n=gf(r,!1).get(e),a=await new ku(n).toPromise();return a===void 0?null:a.value}function kE(r,e){const n=gf(r,!0).delete(e);return new ku(n).toPromise()}const n4=800,r4=3;class Gb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>r4)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(ZN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XN(),!this.activeServiceWorker)return;this.sender=new QN(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hp();return await LE(e,Fh,"1"),await kE(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>LE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>t4(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gf(o,!1).getAll();return new ku(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gb.type="LOCAL";const i4=Gb;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(r,e){return e?Di(e):(Ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s4(r){return kb(r.auth,new Eg(r),r.bypassAuthState)}function o4(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),LN(n,new Eg(r),r.bypassAuthState)}async function l4(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),PN(n,new Eg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s4;case"linkViaPopup":case"linkViaRedirect":return l4;case"reauthViaPopup":case"reauthViaRedirect":return o4;default:Ir(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new Pu(2e3,1e4);class So extends Kb{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u4.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="pendingRedirect",vh=new Map;class h4 extends Kb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const a=await f4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f4(r,e){const n=p4(e),a=m4(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function d4(r,e){vh.set(r._key(),e)}function m4(r){return Di(r._redirectPersistence)}function p4(r){return yh(c4,r.config.apiKey,r.name)}async function g4(r,e,n=!1){if(wr(r.app))return Promise.reject(Aa(r));const a=Yo(r),o=a4(a,e),h=await new h4(a,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=10*60*1e3;class v4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!Yb(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y4&&this.cachedEventUids.clear(),this.cachedEventUids.has(UE(e))}saveEventToCache(e){this.cachedEventUids.add(UE(e)),this.lastProcessedEventTime=Date.now()}}function UE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Yb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(r,e={}){return ka(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w4=/^https?/;async function b4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await E4(r);for(const n of e)try{if(S4(n))return}catch{}Ir(r,"unauthorized-domain")}function S4(r){const e=up(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!w4.test(n))return!1;if(T4.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new Pu(3e4,6e4);function zE(){const r=ei().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function R4(r){return new Promise((e,n)=>{var a,o,u;function h(){zE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(Jr(r,"network-request-failed"))},timeout:A4.get()})}if(!((o=(a=ei().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ei().gapi)===null||u===void 0)&&u.load)h();else{const m=vN("iframefcb");return ei()[m]=()=>{gapi.load?h():n(Jr(r,"network-request-failed"))},Mb(`${yN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw _h=null,e})}let _h=null;function I4(r){return _h=_h||R4(r),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new Pu(5e3,15e3),D4="__/auth/iframe",O4="emulator/auth/iframe",N4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x4(r){const e=r.config;Ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mg(e,O4):`https://${r.config.authDomain}/${D4}`,a={apiKey:e.apiKey,appName:r.name,v:jo},o=M4.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Ou(a).slice(1)}`}async function V4(r){const e=await I4(r),n=ei().gapi;return Ve(n,r,"internal-error"),e.open({where:document.body,url:x4(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N4,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=Jr(r,"network-request-failed"),m=ei().setTimeout(()=>{u(h)},C4.get());function p(){ei().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L4=500,k4=600,U4="_blank",z4="http://localhost";class BE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B4(r,e,n,a=L4,o=k4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},P4),{width:a.toString(),height:o.toString(),top:u,left:h}),g=En().toLowerCase();n&&(m=Ab(g)?U4:n),bb(g)&&(e=e||z4,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[I,M])=>`${T}${I}=${M},`,"");if(lN(g)&&m!=="_self")return j4(e||"",m),new BE(null);const w=window.open(e||"",m,v);Ve(w,r,"popup-blocked");try{w.focus()}catch{}return new BE(w)}function j4(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="__/auth/handler",q4="emulator/auth/handler",F4=encodeURIComponent("fac");async function jE(r,e,n,a,o,u){Ve(r.config.authDomain,r,"auth-domain-config-required"),Ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:jo,eventId:o};if(e instanceof Pb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",yI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))h[v]=w}if(e instanceof Lu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${F4}=${encodeURIComponent(p)}`:"";return`${G4(r)}?${Ou(m).slice(1)}${g}`}function G4({config:r}){return r.emulator?mg(r,q4):`https://${r.authDomain}/${H4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class K4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=g4,this._overrideRedirectResult=d4}async _openPopup(e,n,a,o){var u;Vi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await jE(e,n,a,up(),o);return B4(e,h,_g())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await jE(e,n,a,up(),o);return $N(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Vi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await V4(e),a=new v4(e);return n.register("authEvent",o=>(Ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Pm];h!==void 0&&n(!!h),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ob()||Sb()||gg()}}const Y4=K4;var HE="@firebase/auth",qE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X4(r){Oo(new ws("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;Ve(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(r)},g=new mN(a,o,u,p);return SN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Oo(new ws("auth-internal",e=>{const n=Yo(e.getProvider("auth").getImmediate());return(a=>new Q4(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wa(HE,qE,$4(r)),wa(HE,qE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=5*60,Z4=bT("authIdTokenMaxAge")||W4;let FE=null;const J4=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Z4)return;const o=n==null?void 0:n.token;FE!==o&&(FE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eM(r=DT()){const e=Sp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=bN(r,{popupRedirectResolver:Y4,persistence:[i4,KN,jb]}),a=bT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=J4(u.toString());jN(n,h,()=>h(n.currentUser)),BN(n,m=>h(m))}}const o=TT("auth");return o&&AN(n,`http://${o}`),n}function tM(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}pN({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Jr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",tM().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X4("Browser");const nM={apiKey:"AIzaSyBBSd73ltmpEW1yuOJ4wlHyadJeR8qnWEw",authDomain:"devlink-864df.firebaseapp.com",projectId:"devlink-864df",storageBucket:"devlink-864df.firebasestorage.app",messagingSenderId:"25580696473",appId:"1:25580696473:web:1eed176553b89364325908"},Qb=CT(nM),Tg=eM(Qb),_s=AO(Qb);function rM(){const[r,e]=Q.useState([]),[n,a]=Q.useState();return Q.useEffect(()=>{function o(){const u=bu(_s,"social","link");db(u).then(h=>{var m,p,g;h.data()!==void 0&&a({linkedin:(m=h.data())==null?void 0:m.linkedin,whatsapp:(p=h.data())==null?void 0:p.whatsapp,github:(g=h.data())==null?void 0:g.github})})}o()},[]),Q.useEffect(()=>{function o(){const u=lp(_s,"links"),h=ob(u,lb("created","asc"));kO(h).then(m=>{let p=[];m.forEach(g=>{var v,w,T,I;p.push({id:g.id,name:(v=g.data())==null?void 0:v.name,url:(w=g.data())==null?void 0:w.url,bg:(T=g.data())==null?void 0:T.bg,color:(I=g.data())==null?void 0:I.color})}),e(p)})}o()},[]),fe.jsxs("div",{className:"flex flex-col w-full pt-4 pb-4 items-center justify-center",children:[fe.jsx("h1",{className:"md:text-4xl text-3xl font-bold text-white mt-20",children:"Roger Anacleto da Silva"}),fe.jsx("span",{className:"text-gray-50 mb-5 mt-3",children:"Veja meus links 👇"}),fe.jsxs("main",{className:"flex flex-col w-11/12 max-w-xl text-center",children:[r.map(o=>fe.jsx("section",{className:"mb-4 w-full pt-2 pb-2 rounded-lg transition-transform hover:scale-105 cursor-pointer",style:{backgroundColor:o.bg},children:fe.jsx("a",{href:o.url,children:fe.jsx("p",{className:"text-base md:text-lg",style:{color:o.color},children:o.name})})},o.id)),n&&Object.keys(n).length>0&&fe.jsxs("footer",{className:"flex justify-center gap-3 mt-4 mb-4",children:[fe.jsx(Sm,{url:n==null?void 0:n.linkedin,children:fe.jsx(FR,{"font-size":35,color:"#fff"})}),fe.jsx(Sm,{url:n==null?void 0:n.whatsapp,children:fe.jsx(GR,{"font-size":35,color:"#fff"})}),fe.jsx(Sm,{url:n==null?void 0:n.github,children:fe.jsx(qR,{"font-size":35,color:"#fff"})})]})]})]})}function iM(r){return Cu({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"},child:[]},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"},child:[]}]})(r)}function $b(){async function r(){await qN(Tg)}return fe.jsx("header",{className:"w-full max-w-2xl mt-4 pr-2 pl-2",children:fe.jsxs("nav",{className:"w-full bg-white h-12 flex items-center justify-between pl-3 pr-3 rounded-lg",children:[fe.jsxs("div",{className:"flex gap-4 font-medium",children:[fe.jsx(vs,{to:"/",children:"Home"}),fe.jsx(vs,{to:"/admin",children:"Links"}),fe.jsx(vs,{to:"/admin/social",children:"Redes sociais"})]}),fe.jsx("button",{onClick:r,children:fe.jsx(iM,{size:30,color:"#db2629",cursor:"pointer"})})]})})}function Es(r){return fe.jsx("input",{type:"text",className:"bg-white text-black outline-0 p-2 rounded-lg mb-6",...r})}function aM(r){return Cu({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(r)}function sM(){const[r,e]=Q.useState(""),[n,a]=Q.useState(""),[o,u]=Q.useState("#fff"),[h,m]=Q.useState("#000"),[p,g]=Q.useState();Q.useEffect(()=>{const T=lp(_s,"links"),I=ob(T,lb("created","asc")),M=jO(I,$=>{let K=[];$.forEach(F=>{K.push({id:F.id,name:F.data().name,url:F.data().url,bg:F.data().bg,color:F.data().color})}),g(K)});return()=>{M()}},[]);async function v(T){if(T.preventDefault(),r===""||n===""){alert("Preencha os campos antes de cadastrar um link");return}BO(lp(_s,"links"),{name:r,url:n,bg:h,color:o,created:new Date}).then(()=>{e(""),a("")}).catch(I=>{alert(`Ocorreu um erro inesperado ${I}`)})}function w(T){const I=bu(_s,"links",T);zO(I)}return fe.jsxs("div",{className:"flex items-center flex-col min-h-screen pb-7 pl-2 pr-2",children:[fe.jsx($b,{}),fe.jsxs("form",{className:"flex flex-col mt-3 mb-3 w-full max-w-xl",onSubmit:v,children:[fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Nome do link"}),fe.jsx(Es,{placeholder:"Digite o nome do link...",value:r,onChange:T=>e(T.target.value)}),fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Url do link"}),fe.jsx(Es,{type:"url",placeholder:"Digite a url do link...",value:n,onChange:T=>a(T.target.value)}),fe.jsxs("section",{className:"flex mt-4 mb-4 gap-5",children:[fe.jsxs("div",{className:"flex gap-2",children:[fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Fundo do link"}),fe.jsx("input",{type:"color",value:h,onChange:T=>m(T.target.value)})]}),fe.jsxs("div",{className:"flex gap-2",children:[fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Cor do link"}),fe.jsx("input",{type:"color",value:o,onChange:T=>u(T.target.value)})]})]}),r!==""&&fe.jsxs("div",{className:"flex items-center justify-start flex-col mb-1 p-1 border-gray-100/25 border rounded-md",children:[fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Veja como está ficando"}),fe.jsx("article",{className:"w-11/12 max-w-lg flex flex-col items-center justify-between bg-zinc-900 rounded pl-1 pr-1 pb-2 pt-2",style:{marginBottom:8,marginTop:8,backgroundColor:h},children:fe.jsx("p",{style:{color:o},children:r})})]}),fe.jsx("button",{type:"submit",className:"mb-7 bg-blue-800 hover:bg-blue-600 transition duration-400 ease-in-out- cursor-pointer h-9 rounded-md text-white font-medium gap-4 flex justify-center items-center",children:"Cadastrar"})]}),fe.jsx("h2",{className:"font-bold text-white mb-4 text-2xl",children:"Meus links"}),p==null?void 0:p.map(T=>fe.jsxs("article",{className:"flex items-center justify-between w-full max-w-xl rounded pr-3 pl-3 pt-2 pb-2 mb-1 select-none",style:{backgroundColor:T.bg,color:T.color},children:[fe.jsx("p",{children:T.name}),fe.jsx("div",{children:fe.jsx("button",{onClick:()=>w(T.id),className:"border border-dashed p-1 rounded hover:bg-red-700 transition duration-400 ease-in-out cursor-pointer",children:fe.jsx(aM,{size:18,color:"#fff"})})})]},T.id))]})}function oM(){const[r,e]=Q.useState(""),[n,a]=Q.useState(""),o=yp();function u(h){h.preventDefault(),(r===""||n==="")&&alert("Preencha os campos email e senha"),zN(Tg,r,n).then(()=>{console.log("logado com sucesso!"),o("/admin",{replace:!0})}).catch(m=>{console.log("ocorreu um erro inesperado!"),console.log(m)})}return fe.jsxs("div",{className:"flex w-full h-screen items-center justify-center flex-col",children:[fe.jsx(vs,{to:"/",children:fe.jsxs("h1",{className:"text-white mt-11 mb-7 font-bold text-5xl",children:["Dev",fe.jsx("span",{className:"bg-gradient-to-r from-blue-800 to-purple-900 bg-clip-text text-transparent",children:"Link"})]})}),fe.jsxs("form",{className:"w-full max-w-xl flex flex-col",onSubmit:u,children:[fe.jsx(Es,{placeholder:"Digite seu email",type:"text",value:r,onChange:h=>e(h.target.value)}),fe.jsx(Es,{placeholder:"***********",type:"password",value:n,onChange:h=>a(h.target.value)}),fe.jsx("button",{className:"text-white bg-blue-800 p-2 rounded-lg hover:bg-blue-600 transition duration-400 ease-in-out- cursor-pointer",type:"submit",children:"Acessar"})]})]})}function lM(){const[r,e]=Q.useState(""),[n,a]=Q.useState(""),[o,u]=Q.useState("");Q.useEffect(()=>{function m(){const p=bu(_s,"social","link");db(p).then(g=>{var v,w,T;g.data()!==void 0&&(e((v=g.data())==null?void 0:v.linkedin),a((w=g.data())==null?void 0:w.whatsapp),u((T=g.data())==null?void 0:T.github))})}m()},[]);function h(m){m.preventDefault(),UO(bu(_s,"social","link"),{linkedin:r,whatsapp:n,github:o}).then(()=>{console.log("cadastrados com sucesso")}).catch(p=>{console.log(p)})}return fe.jsxs("div",{className:"flex items-center flex-col min-h-screen pb-7 pr-2 pl-2",children:[fe.jsx($b,{}),fe.jsx("h1",{className:"text-white text-2xl font-medium mt-8 mb-4",children:"Minhas redes sociais"}),fe.jsxs("form",{className:"flex flex-col max-w-xl w-full",onSubmit:h,children:[fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Link do Linkedin"}),fe.jsx(Es,{type:"url",placeholder:"Digite a url do Linkedin...",value:r,onChange:m=>e(m.target.value)}),fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Link do WhatsApp"}),fe.jsx(Es,{type:"url",placeholder:"Digite a url do WhatsApp...",value:n,onChange:m=>a(m.target.value)}),fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Link do GitHub"}),fe.jsx(Es,{type:"url",placeholder:"Digite a url do GitHub...",value:o,onChange:m=>u(m.target.value)}),fe.jsx("button",{type:"submit",className:"text-white bg-blue-800 p-2 rounded-lg hover:bg-blue-600 transition duration-400 ease-in-out- cursor-pointer mb-7",children:"Salvar links"})]})]})}function GE({children:r}){const[e,n]=Q.useState(!0),[a,o]=Q.useState(!1);return Q.useEffect(()=>{const u=HN(Tg,h=>{if(h){const m={uid:h==null?void 0:h.uid,email:h==null?void 0:h.email};localStorage.setItem("@devlink",JSON.stringify(m)),n(!1),o(!0)}else n(!1),o(!1)});return()=>{u()}},[]),e?fe.jsx("div",{children:fe.jsx("h3",{className:"text-white flex items-center justify-center ",children:"Carregando..."})}):a?r:fe.jsx(JA,{to:"/login"})}function uM(){return fe.jsxs("div",{className:"min-h-screen w-full flex justify-center items-center flex-col",children:[fe.jsx("h1",{className:"text-6xl text-white font-bold",children:"404"}),fe.jsx("h1",{className:"text-4xl text-white font-bold mb-3",children:"Página não encontrada"}),fe.jsx("p",{className:"italic text-white mb-3",children:"Você caiu em uma página que não existe"}),fe.jsx(vs,{to:"/",className:"bg-gray-500/80 hover:bg-gray-500 transition duration-500 ease-in-out rounded-lg p-1.5 text-white",children:"Página principal"})]})}const cM=SR([{path:"/",element:fe.jsx(rM,{})},{path:"/admin",element:fe.jsx(GE,{children:fe.jsx(sM,{})})},{path:"/admin/social",element:fe.jsx(GE,{children:fe.jsx(lM,{})})},{path:"/login",element:fe.jsx(oM,{})},{path:"*",element:fe.jsx(uM,{})}]);OS.createRoot(document.getElementById("root")).render(fe.jsx(Q.StrictMode,{children:fe.jsx(XA,{router:cM})}));
